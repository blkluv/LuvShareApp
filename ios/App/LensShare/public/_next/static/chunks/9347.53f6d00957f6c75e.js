(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9347],{99446:function(e,t,r){"use strict";r.d(t,{R:function(){return x}});var n=r(69753);r(19601);var i=r(18607);let o=()=>{},s=({storage:e,key:t="REACT_QUERY_OFFLINE_CACHE",throttleTime:r=1e3,serialize:n=JSON.stringify,deserialize:i=JSON.parse,retry:s})=>{if(void 0!==e){let u=async r=>{try{await e.setItem(t,n(r));return}catch(i){return i}};return{persistClient:function(e,{interval:t=1e3,onError:r=o}={}){let n;if("function"!=typeof e)throw Error("argument is not function.");let i=!1,s=0,a=null,u=async()=>{if(a){let t=a;a=null;try{i=!0,await e(...t)}catch(n){r(n)}finally{s=Date.now(),i=!1}}},l=async()=>{clearTimeout(n),n=setTimeout(()=>{i?l():u()},t)};return(...e)=>{a=e;let r=Date.now()-s<t;i||r?l():u()}}(async e=>{let t=e,r=await u(t),n=0;for(;r&&t;)n++,(t=await (null==s?void 0:s({persistedClient:t,error:r,errorCount:n})))&&(r=await u(t))},{interval:r}),restoreClient:async()=>{let r=await e.getItem(t);if(r)return i(r)},removeClient:()=>e.removeItem(t)}}return{persistClient:a,restoreClient:()=>Promise.resolve(void 0),removeClient:a}};function a(){}var u=r(32161),l=r(27450),c=r(30081),h=r(72379),f=r(89643);class d extends f.F{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||l._,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||function(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,n=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(e,t){let r=(0,u.oE)(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),r}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;let r=this.promise;return null==(t=this.retryer)||t.cancel(e),r?r.then(u.ZT).catch(u.ZT):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>!1!==e.options.enabled)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,u.Kp)(this.state.dataUpdatedAt,e)}onFocus(){var e;let t=this.observers.find(e=>e.shouldFetchOnWindowFocus());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}onOnline(){var e;let t=this.observers.find(e=>e.shouldFetchOnReconnect());t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}addObserver(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var r,n,i,o;if("idle"!==this.state.fetchStatus){if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise)return null==(i=this.retryer)||i.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){let s=this.observers.find(e=>e.options.queryFn);s&&this.setOptions(s.options)}Array.isArray(this.options.queryKey);let a=(0,u.G9)(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>{if(a)return this.abortSignalConsumed=!0,a.signal}})};c(l);let f=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn"),d={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:f};c(d),null==(r=this.options.behavior)||r.onFetch(d),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(n=d.fetchOptions)?void 0:n.meta))&&this.dispatch({type:"fetch",meta:null==(o=d.fetchOptions)?void 0:o.meta});let p=e=>{if((0,h.DV)(e)&&e.silent||this.dispatch({type:"error",error:e}),!(0,h.DV)(e)){var t,r;null==(t=(r=this.cache.config).onError)||t.call(r,e,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=(0,h.Mz)({fn:d.fetchFn,abort:null==a?void 0:a.abort.bind(a),onSuccess:e=>{var t,r;if(void 0===e){p(Error("undefined"));return}this.setData(e),null==(t=(r=this.cache.config).onSuccess)||t.call(r,e,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:p,onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){this.state=(t=>{var r,n;switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(r=e.meta)?r:null,fetchStatus:(0,h.Kw)(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(n=e.dataUpdatedAt)?n:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":let i=e.error;if((0,h.DV)(i)&&i.revert&&this.revertState)return{...this.revertState};return{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),c.V.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}var p=r(33989);class y extends p.l{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,r){var n;let i=t.queryKey,o=null!=(n=t.queryHash)?n:(0,u.Rm)(i,t),s=this.get(o);return s||(s=new d({cache:this,logger:e.getLogger(),queryKey:i,queryHash:o,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){let t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter(t=>t!==e),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){c.V.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){let[r]=(0,u.I6)(e,t);return void 0===r.exact&&(r.exact=!0),this.queries.find(e=>(0,u._x)(r,e))}findAll(e,t){let[r]=(0,u.I6)(e,t);return Object.keys(r).length>0?this.queries.filter(e=>(0,u._x)(r,e)):this.queries}notify(e){c.V.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){c.V.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){c.V.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}var m=r(89886);class b extends p.l{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,r){let n=new m.m({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:r,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(n),n}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(t=>t!==e),this.notify({type:"removed",mutation:e})}clear(){c.V.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find(t=>(0,u.X7)(e,t))}findAll(e){return this.mutations.filter(t=>(0,u.X7)(e,t))}notify(e){c.V.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.mutations.filter(e=>e.state.isPaused);return c.V.batch(()=>e.reduce((e,t)=>e.then(()=>t.continue().catch(u.ZT)),Promise.resolve()))}}var g=r(15761),v=r(96474);function _(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}class D{constructor(e={}){this.queryCache=e.queryCache||new y,this.mutationCache=e.mutationCache||new b,this.logger=e.logger||l._,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=g.j.subscribe(()=>{g.j.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=v.N.subscribe(()=>{v.N.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){let[r]=(0,u.I6)(e,t);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state.data}ensureQueryData(e,t,r){let n=(0,u._v)(e,t,r),i=this.getQueryData(n.queryKey);return i?Promise.resolve(i):this.fetchQuery(n)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:e,state:t})=>{let r=t.data;return[e,r]})}setQueryData(e,t,r){let n=this.queryCache.find(e),i=null==n?void 0:n.state.data,o=(0,u.SE)(t,i);if(void 0===o)return;let s=(0,u._v)(e),a=this.defaultQueryOptions(s);return this.queryCache.build(this,a).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return c.V.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e,t){var r;return null==(r=this.queryCache.find(e,t))?void 0:r.state}removeQueries(e,t){let[r]=(0,u.I6)(e,t),n=this.queryCache;c.V.batch(()=>{n.findAll(r).forEach(e=>{n.remove(e)})})}resetQueries(e,t,r){let[n,i]=(0,u.I6)(e,t,r),o=this.queryCache,s={type:"active",...n};return c.V.batch(()=>(o.findAll(n).forEach(e=>{e.reset()}),this.refetchQueries(s,i)))}cancelQueries(e,t,r){let[n,i={}]=(0,u.I6)(e,t,r);void 0===i.revert&&(i.revert=!0);let o=c.V.batch(()=>this.queryCache.findAll(n).map(e=>e.cancel(i)));return Promise.all(o).then(u.ZT).catch(u.ZT)}invalidateQueries(e,t,r){let[n,i]=(0,u.I6)(e,t,r);return c.V.batch(()=>{var e,t;if(this.queryCache.findAll(n).forEach(e=>{e.invalidate()}),"none"===n.refetchType)return Promise.resolve();let r={...n,type:null!=(e=null!=(t=n.refetchType)?t:n.type)?e:"active"};return this.refetchQueries(r,i)})}refetchQueries(e,t,r){let[n,i]=(0,u.I6)(e,t,r),o=c.V.batch(()=>this.queryCache.findAll(n).filter(e=>!e.isDisabled()).map(e=>{var t;return e.fetch(void 0,{...i,cancelRefetch:null==(t=null==i?void 0:i.cancelRefetch)||t,meta:{refetchPage:n.refetchPage}})})),s=Promise.all(o).then(u.ZT);return null!=i&&i.throwOnError||(s=s.catch(u.ZT)),s}fetchQuery(e,t,r){let n=(0,u._v)(e,t,r),i=this.defaultQueryOptions(n);void 0===i.retry&&(i.retry=!1);let o=this.queryCache.build(this,i);return o.isStaleByTime(i.staleTime)?o.fetch(i):Promise.resolve(o.state.data)}prefetchQuery(e,t,r){return this.fetchQuery(e,t,r).then(u.ZT).catch(u.ZT)}fetchInfiniteQuery(e,t,r){let n=(0,u._v)(e,t,r);return n.behavior={onFetch:e=>{e.fetchFn=()=>{var t,r,n,i,o,s,a;let u;let l=null==(t=e.fetchOptions)?void 0:null==(r=t.meta)?void 0:r.refetchPage,c=null==(n=e.fetchOptions)?void 0:null==(i=n.meta)?void 0:i.fetchMore,h=null==c?void 0:c.pageParam,f=(null==c?void 0:c.direction)==="forward",d=(null==c?void 0:c.direction)==="backward",p=(null==(o=e.state.data)?void 0:o.pages)||[],y=(null==(s=e.state.data)?void 0:s.pageParams)||[],m=y,b=!1,g=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>{var t,r;return null!=(t=e.signal)&&t.aborted?b=!0:null==(r=e.signal)||r.addEventListener("abort",()=>{b=!0}),e.signal}})},v=e.options.queryFn||(()=>Promise.reject("Missing queryFn")),D=(e,t,r,n)=>(m=n?[t,...m]:[...m,t],n?[r,...e]:[...e,r]),w=(t,r,n,i)=>{if(b)return Promise.reject("Cancelled");if(void 0===n&&!r&&t.length)return Promise.resolve(t);let o={queryKey:e.queryKey,pageParam:n,meta:e.options.meta};g(o);let s=v(o),a=Promise.resolve(s).then(e=>D(t,n,e,i));return a};if(p.length){if(f){let E=void 0!==h,S=E?h:_(e.options,p);u=w(p,E,S)}else if(d){let O=void 0!==h,C=O?h:null==(a=e.options).getPreviousPageParam?void 0:a.getPreviousPageParam(p[0],p);u=w(p,O,C,!0)}else{m=[];let U=void 0===e.options.getNextPageParam,A=!l||!p[0]||l(p[0],0,p);u=A?w([],U,y[0]):Promise.resolve(D([],y[0],p[0]));for(let P=1;P<p.length;P++)u=u.then(t=>{let r=!l||!p[P]||l(p[P],P,p);if(r){let n=U?y[P]:_(e.options,t);return w(t,U,n)}return Promise.resolve(D(t,y[P],p[P]))})}}else u=w([]);let x=u.then(e=>({pages:e,pageParams:m}));return x}}},this.fetchQuery(n)}prefetchInfiniteQuery(e,t,r){return this.fetchInfiniteQuery(e,t,r).then(u.ZT).catch(u.ZT)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){let r=this.queryDefaults.find(t=>(0,u.yF)(e)===(0,u.yF)(t.queryKey));r?r.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;let t=this.queryDefaults.find(t=>(0,u.to)(e,t.queryKey));return null==t?void 0:t.defaultOptions}setMutationDefaults(e,t){let r=this.mutationDefaults.find(t=>(0,u.yF)(e)===(0,u.yF)(t.mutationKey));r?r.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;let t=this.mutationDefaults.find(t=>(0,u.to)(e,t.mutationKey));return null==t?void 0:t.defaultOptions}defaultQueryOptions(e){if(null!=e&&e._defaulted)return e;let t={...this.defaultOptions.queries,...this.getQueryDefaults(null==e?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=(0,u.Rm)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==e?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}var w=r(27224);async function E({queryClient:e,persister:t,maxAge:r=864e5,buster:n="",hydrateOptions:i}){try{let o=await t.restoreClient();if(o){if(o.timestamp){let s=Date.now()-o.timestamp>r,a=o.buster!==n;s||a?t.removeClient():(0,w.ZB)(e,o.clientState,i)}else t.removeClient()}}catch(u){t.removeClient()}}async function S({queryClient:e,persister:t,buster:r="",dehydrateOptions:n}){let i={buster:r,timestamp:Date.now(),clientState:(0,w.D)(e,n)};await t.persistClient(i)}function O(e){try{let t=JSON.parse(e);return t}catch(r){return{}}}function C(e,t){return e.slice(0,t).join(".")||"."}function U(e,t){let{length:r}=e;for(let n=0;n<r;++n)if(e[n]===t)return n+1;return 0}function A(e,t,r,n){try{return JSON.stringify(e,function(e,t){let r="function"==typeof e,n="function"==typeof t,i=[],o=[];return function(s,a){if("object"==typeof a){if(i.length){let u=U(i,this);0===u?i[i.length]=this:(i.splice(u),o.splice(u)),o[o.length]=s;let l=U(i,a);if(0!==l)return n?t.call(this,s,a,C(o,l)):`[ref=${C(o,l)}]`}else i[0]=a,o[0]=s}return r?e.call(this,s,a):a}}(t,n),r??void 0)}catch(i){return"{}"}}let P=()=>new D({defaultOptions:{queries:{cacheTime:864e5,networkMode:"offlineFirst",refetchOnWindowFocus:!1,retry:0},mutations:{networkMode:"offlineFirst"}}});function x(e){var t=Object.assign({},(function(e){if(null==e)throw TypeError("Cannot destructure "+e)}(e),e));return function({queryClient:e=P(),...t}){let r=(0,i.a)(t),n=t?.storage?s({key:"livepeer.cache",storage:t.storage,serialize:A,deserialize:O}):void 0;return n&&function(e){let t;E(e).then(()=>{(function(e){let t=e.queryClient.getQueryCache().subscribe(()=>{S(e)}),r=e.queryClient.getMutationCache().subscribe(()=>{S(e)});()=>{t(),r()}})(e)})}({queryClient:e,persister:n,dehydrateOptions:{shouldDehydrateQuery:e=>0!==e.cacheTime}}),Object.assign(r,{queryClient:e})}((0,n._)({storage:"undefined"!=typeof window?t.storage?t.storage:(0,i.b)({storage:window.localStorage}):void 0},t))}},35667:function(e,t,r){"use strict";r.d(t,{L:function(){return a}});var n=r(52637);r(67294);var i=r(36135),o=r(85893),s=function(e){var t=e.theme,r=e.children;return(0,o.jsx)(i.T.Provider,{value:null!=t?t:null,children:r})};function a(e){var t=e.children,r=e.client,i=e.theme,a=e.dehydratedState;return(0,o.jsx)(n.xN,{client:r,dehydratedState:a,children:(0,o.jsx)(s,{theme:i,children:t})})}n._y,n.m8},98099:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(97117);function i(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function o(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function s(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function u(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function l(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function c(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function h(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function f(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),c(e/4294967296>>>0,t,r),c(e>>>0,t,r+4),t}function d(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),h(e>>>0,t,r),h(e/4294967296>>>0,t,r+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=i,t.writeInt16BE=i,t.writeUint16LE=o,t.writeInt16LE=o,t.readInt32BE=s,t.readUint32BE=a,t.readInt32LE=u,t.readUint32LE=l,t.writeUint32BE=c,t.writeInt32BE=c,t.writeUint32LE=h,t.writeInt32LE=h,t.readInt64BE=function(e,t){void 0===t&&(t=0);var r=s(e,t),n=s(e,t+4);return 4294967296*r+n-(n>>31)*4294967296},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var r=u(e,t);return 4294967296*u(e,t+4)+r-(r>>31)*4294967296},t.readUint64LE=function(e,t){void 0===t&&(t=0);var r=l(e,t);return 4294967296*l(e,t+4)+r},t.writeUint64BE=f,t.writeInt64BE=f,t.writeUint64LE=d,t.writeInt64LE=d,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=e/8+r-1;o>=r;o--)n+=t[o]*i,i*=256;return n},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+e/8;o++)n+=t[o]*i,i*=256;return n},t.writeUintBE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw Error("writeUintBE value must be an integer");for(var o=1,s=e/8+i-1;s>=i;s--)r[s]=t/o&255,o*=256;return r},t.writeUintLE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw Error("writeUintLE value must be an integer");for(var o=1,s=i;s<i+e/8;s++)r[s]=t/o&255,o*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},25439:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(98099),i=r(17309);function o(e,t,r,o,s){if(void 0===s&&(s=0),32!==e.length)throw Error("ChaCha: key size must be 32 bytes");if(o.length<r.length)throw Error("ChaCha: destination is shorter than source");if(0===s){if(8!==t.length&&12!==t.length)throw Error("ChaCha nonce must be 8 or 12 bytes");u=(a=new Uint8Array(16)).length-t.length,a.set(t,u)}else{if(16!==t.length)throw Error("ChaCha nonce with counter must be 16 bytes");a=t,u=s}for(var a,u,l=new Uint8Array(64),c=0;c<r.length;c+=64){!function(e,t,r){for(var i=r[3]<<24|r[2]<<16|r[1]<<8|r[0],o=r[7]<<24|r[6]<<16|r[5]<<8|r[4],s=r[11]<<24|r[10]<<16|r[9]<<8|r[8],a=r[15]<<24|r[14]<<16|r[13]<<8|r[12],u=r[19]<<24|r[18]<<16|r[17]<<8|r[16],l=r[23]<<24|r[22]<<16|r[21]<<8|r[20],c=r[27]<<24|r[26]<<16|r[25]<<8|r[24],h=r[31]<<24|r[30]<<16|r[29]<<8|r[28],f=t[3]<<24|t[2]<<16|t[1]<<8|t[0],d=t[7]<<24|t[6]<<16|t[5]<<8|t[4],p=t[11]<<24|t[10]<<16|t[9]<<8|t[8],y=t[15]<<24|t[14]<<16|t[13]<<8|t[12],m=1634760805,b=857760878,g=2036477234,v=1797285236,_=i,D=o,w=s,E=a,S=u,O=l,C=c,U=h,A=f,P=d,x=p,I=y,k=0;k<20;k+=2)A^=m=m+_|0,_^=S=S+(A=A>>>16|A<<16)|0,_=_>>>20|_<<12,P^=b=b+D|0,D^=O=O+(P=P>>>16|P<<16)|0,D=D>>>20|D<<12,x^=g=g+w|0,w^=C=C+(x=x>>>16|x<<16)|0,w=w>>>20|w<<12,I^=v=v+E|0,E^=U=U+(I=I>>>16|I<<16)|0,E=E>>>20|E<<12,x^=g=g+w|0,w^=C=C+(x=x>>>24|x<<8)|0,w=w>>>25|w<<7,I^=v=v+E|0,E^=U=U+(I=I>>>24|I<<8)|0,E=E>>>25|E<<7,P^=b=b+D|0,D^=O=O+(P=P>>>24|P<<8)|0,D=D>>>25|D<<7,A^=m=m+_|0,_^=S=S+(A=A>>>24|A<<8)|0,_=_>>>25|_<<7,I^=m=m+D|0,D^=C=C+(I=I>>>16|I<<16)|0,D=D>>>20|D<<12,A^=b=b+w|0,w^=U=U+(A=A>>>16|A<<16)|0,w=w>>>20|w<<12,P^=g=g+E|0,E^=S=S+(P=P>>>16|P<<16)|0,E=E>>>20|E<<12,x^=v=v+_|0,_^=O=O+(x=x>>>16|x<<16)|0,_=_>>>20|_<<12,P^=g=g+E|0,E^=S=S+(P=P>>>24|P<<8)|0,E=E>>>25|E<<7,x^=v=v+_|0,_^=O=O+(x=x>>>24|x<<8)|0,_=_>>>25|_<<7,A^=b=b+w|0,w^=U=U+(A=A>>>24|A<<8)|0,w=w>>>25|w<<7,I^=m=m+D|0,D^=C=C+(I=I>>>24|I<<8)|0,D=D>>>25|D<<7;n.writeUint32LE(m+1634760805|0,e,0),n.writeUint32LE(b+857760878|0,e,4),n.writeUint32LE(g+2036477234|0,e,8),n.writeUint32LE(v+1797285236|0,e,12),n.writeUint32LE(_+i|0,e,16),n.writeUint32LE(D+o|0,e,20),n.writeUint32LE(w+s|0,e,24),n.writeUint32LE(E+a|0,e,28),n.writeUint32LE(S+u|0,e,32),n.writeUint32LE(O+l|0,e,36),n.writeUint32LE(C+c|0,e,40),n.writeUint32LE(U+h|0,e,44),n.writeUint32LE(A+f|0,e,48),n.writeUint32LE(P+d|0,e,52),n.writeUint32LE(x+p|0,e,56),n.writeUint32LE(I+y|0,e,60)}(l,a,e);for(var h=c;h<c+64&&h<r.length;h++)o[h]=r[h]^l[h-c];!function(e,t,r){for(var n=1;r--;)n=n+(255&e[t])|0,e[t]=255&n,n>>>=8,t++;if(n>0)throw Error("ChaCha: counter overflow")}(a,0,u)}return i.wipe(l),0===s&&i.wipe(a),o}t.streamXOR=o,t.stream=function(e,t,r,n){return void 0===n&&(n=0),i.wipe(r),o(e,t,r,r,n)}},15501:function(e,t,r){"use strict";var n=r(25439),i=r(63027),o=r(17309),s=r(98099),a=r(4153);t.Cv=32,t.WH=12,t.pg=16;var u=new Uint8Array(16),l=function(){function e(e){if(this.nonceLength=t.WH,this.tagLength=t.pg,e.length!==t.Cv)throw Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return e.prototype.seal=function(e,t,r,i){if(e.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");var s,a=new Uint8Array(16);a.set(e,a.length-e.length);var u=new Uint8Array(32);n.stream(this._key,a,u,4);var l=t.length+this.tagLength;if(i){if(i.length!==l)throw Error("ChaCha20Poly1305: incorrect destination length");s=i}else s=new Uint8Array(l);return n.streamXOR(this._key,a,t,s,4),this._authenticate(s.subarray(s.length-this.tagLength,s.length),u,s.subarray(0,s.length-this.tagLength),r),o.wipe(a),s},e.prototype.open=function(e,t,r,i){if(e.length>16)throw Error("ChaCha20Poly1305: incorrect nonce length");if(t.length<this.tagLength)return null;var s,u=new Uint8Array(16);u.set(e,u.length-e.length);var l=new Uint8Array(32);n.stream(this._key,u,l,4);var c=new Uint8Array(this.tagLength);if(this._authenticate(c,l,t.subarray(0,t.length-this.tagLength),r),!a.equal(c,t.subarray(t.length-this.tagLength,t.length)))return null;var h=t.length-this.tagLength;if(i){if(i.length!==h)throw Error("ChaCha20Poly1305: incorrect destination length");s=i}else s=new Uint8Array(h);return n.streamXOR(this._key,u,t.subarray(0,t.length-this.tagLength),s,4),o.wipe(u),s},e.prototype.clean=function(){return o.wipe(this._key),this},e.prototype._authenticate=function(e,t,r,n){var a=new i.Poly1305(t);n&&(a.update(n),n.length%16>0&&a.update(u.subarray(n.length%16))),a.update(r),r.length%16>0&&a.update(u.subarray(r.length%16));var l=new Uint8Array(8);n&&s.writeUint64LE(n.length,l),a.update(l),s.writeUint64LE(r.length,l),a.update(l);for(var c=a.digest(),h=0;h<c.length;h++)e[h]=c[h];a.clean(),o.wipe(c),o.wipe(l)},e}();t.OK=l},4153:function(e,t){"use strict";function r(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,r){return~(e-1)&t|e-1&r},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=r,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==r(e,t)}},79984:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSerializableHash=function(e){return void 0!==e.saveState&&void 0!==e.restoreState&&void 0!==e.cleanSavedState}},512:function(e,t,r){"use strict";var n=r(25629),i=r(17309),o=function(){function e(e,t,r,i){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var o=n.hmac(this._hash,r,t);this._hmac=new n.HMAC(e,o),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(0===e)throw Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(e){for(var t=new Uint8Array(e),r=0;r<t.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),t[r]=this._buffer[this._bufpos++];return t},e.prototype.clean=function(){this._hmac.clean(),i.wipe(this._buffer),i.wipe(this._counter),this._bufpos=0},e}();t.t=o},25629:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(79984),i=r(4153),o=r(17309),s=function(){function e(e,t){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);t.length>this.blockSize?this._inner.update(t).finish(r).clean():r.set(t);for(var i=0;i<r.length;i++)r[i]^=54;this._inner.update(r);for(var i=0;i<r.length;i++)r[i]^=106;this._outer.update(r),n.isSerializableHash(this._inner)&&n.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),o.wipe(r)}return e.prototype.reset=function(){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){n.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),n.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(e){return this._inner.update(e),this},e.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(!n.isSerializableHash(this._inner))throw Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(e){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(e){if(!n.isSerializableHash(this._inner))throw Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},e}();t.HMAC=s,t.hmac=function(e,t,r){var n=new s(e,t);n.update(r);var i=n.digest();return n.clean(),i},t.equal=i.equal},97117:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},63027:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4153),i=r(17309);t.DIGEST_LENGTH=16;var o=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=e[0]|e[1]<<8;this._r[0]=8191&r;var n=e[2]|e[3]<<8;this._r[1]=(r>>>13|n<<3)&8191;var i=e[4]|e[5]<<8;this._r[2]=(n>>>10|i<<6)&7939;var o=e[6]|e[7]<<8;this._r[3]=(i>>>7|o<<9)&8191;var s=e[8]|e[9]<<8;this._r[4]=(o>>>4|s<<12)&255,this._r[5]=s>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=(s>>>14|a<<2)&8191;var u=e[12]|e[13]<<8;this._r[7]=(a>>>11|u<<5)&8065;var l=e[14]|e[15]<<8;this._r[8]=(u>>>8|l<<8)&8191,this._r[9]=l>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,r){for(var n=this._fin?0:2048,i=this._h[0],o=this._h[1],s=this._h[2],a=this._h[3],u=this._h[4],l=this._h[5],c=this._h[6],h=this._h[7],f=this._h[8],d=this._h[9],p=this._r[0],y=this._r[1],m=this._r[2],b=this._r[3],g=this._r[4],v=this._r[5],_=this._r[6],D=this._r[7],w=this._r[8],E=this._r[9];r>=16;){var S,O=e[t+0]|e[t+1]<<8;i+=8191&O;var C=e[t+2]|e[t+3]<<8;o+=(O>>>13|C<<3)&8191;var U=e[t+4]|e[t+5]<<8;s+=(C>>>10|U<<6)&8191;var A=e[t+6]|e[t+7]<<8;a+=(U>>>7|A<<9)&8191;var P=e[t+8]|e[t+9]<<8;u+=(A>>>4|P<<12)&8191,l+=P>>>1&8191;var x=e[t+10]|e[t+11]<<8;c+=(P>>>14|x<<2)&8191;var I=e[t+12]|e[t+13]<<8;h+=(x>>>11|I<<5)&8191;var k=e[t+14]|e[t+15]<<8;f+=(I>>>8|k<<8)&8191,d+=k>>>5|n;var N=0;N=(S=0+i*p+o*(5*E)+s*(5*w)+a*(5*D)+u*(5*_))>>>13,S&=8191,S+=l*(5*v)+c*(5*g)+h*(5*b)+f*(5*m)+d*(5*y),N+=S>>>13,S&=8191;var T=N;T+=i*y+o*p+s*(5*E)+a*(5*w)+u*(5*D),N=T>>>13,T&=8191,T+=l*(5*_)+c*(5*v)+h*(5*g)+f*(5*b)+d*(5*m),N+=T>>>13,T&=8191;var j=N;j+=i*m+o*y+s*p+a*(5*E)+u*(5*w),N=j>>>13,j&=8191,j+=l*(5*D)+c*(5*_)+h*(5*v)+f*(5*g)+d*(5*b),N+=j>>>13,j&=8191;var R=N;R+=i*b+o*m+s*y+a*p+u*(5*E),N=R>>>13,R&=8191,R+=l*(5*w)+c*(5*D)+h*(5*_)+f*(5*v)+d*(5*g),N+=R>>>13,R&=8191;var F=N;F+=i*g+o*b+s*m+a*y+u*p,N=F>>>13,F&=8191,F+=l*(5*E)+c*(5*w)+h*(5*D)+f*(5*_)+d*(5*v),N+=F>>>13,F&=8191;var M=N;M+=i*v+o*g+s*b+a*m+u*y,N=M>>>13,M&=8191,M+=l*p+c*(5*E)+h*(5*w)+f*(5*D)+d*(5*_),N+=M>>>13,M&=8191;var L=N;L+=i*_+o*v+s*g+a*b+u*m,N=L>>>13,L&=8191,L+=l*y+c*p+h*(5*E)+f*(5*w)+d*(5*D),N+=L>>>13,L&=8191;var B=N;B+=i*D+o*_+s*v+a*g+u*b,N=B>>>13,B&=8191,B+=l*m+c*y+h*p+f*(5*E)+d*(5*w),N+=B>>>13,B&=8191;var H=N;H+=i*w+o*D+s*_+a*v+u*g,N=H>>>13,H&=8191,H+=l*b+c*m+h*y+f*p+d*(5*E),N+=H>>>13,H&=8191;var q=N;q+=i*E+o*w+s*D+a*_+u*v,N=q>>>13,q&=8191,q+=l*g+c*b+h*m+f*y+d*p,N+=q>>>13,q&=8191,S=8191&(N=(N=(N<<2)+N|0)+S|0),N>>>=13,T+=N,i=S,o=T,s=j,a=R,u=F,l=M,c=L,h=B,f=H,d=q,t+=16,r-=16}this._h[0]=i,this._h[1]=o,this._h[2]=s,this._h[3]=a,this._h[4]=u,this._h[5]=l,this._h[6]=c,this._h[7]=h,this._h[8]=f,this._h[9]=d},e.prototype.finish=function(e,t){void 0===t&&(t=0);var r,n,i,o,s=new Uint16Array(10);if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=r,r=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,s[0]=this._h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this._h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(o=0,n=~n;o<10;o++)this._h[o]=this._h[o]&n|s[o];for(o=1,this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,i=this._h[0]+this._pad[0],this._h[0]=65535&i;o<8;o++)i=(this._h[o]+this._pad[o]|0)+(i>>>16)|0,this._h[o]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,r=0,n=e.length;if(this._leftover){(t=16-this._leftover)>n&&(t=n);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[r+i];if(n-=t,r+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(t=n-n%16,this._blocks(e,r,t),r+=t,n-=t),n){for(var i=0;i<n;i++)this._buffer[this._leftover+i]=e[r+i];this._leftover+=n}return this},e.prototype.digest=function(){if(this._finished)throw Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=o,t.oneTimeAuth=function(e,t){var r=new o(e);r.update(t);var n=r.digest();return r.clean(),n},t.equal=function(e,r){return e.length===t.DIGEST_LENGTH&&r.length===t.DIGEST_LENGTH&&n.equal(e,r)}},31416:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;let n=r(46008),i=r(98099),o=r(17309);function s(e,r=t.defaultRandomSource){return r.randomBytes(e)}t.defaultRandomSource=new n.SystemRandomSource,t.randomBytes=s,t.randomUint32=function(e=t.defaultRandomSource){let r=s(4,e),n=(0,i.readUint32LE)(r);return(0,o.wipe)(r),n};let a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function u(e,r=a,n=t.defaultRandomSource){if(r.length<2)throw Error("randomString charset is too short");if(r.length>256)throw Error("randomString charset is too long");let i="",u=r.length,l=256-256%u;for(;e>0;){let c=s(Math.ceil(256*e/l),n);for(let h=0;h<c.length&&e>0;h++){let f=c[h];f<l&&(i+=r.charAt(f%u),e--)}(0,o.wipe)(c)}return i}t.randomString=u,t.randomStringForEntropy=function(e,r=a,n=t.defaultRandomSource){let i=Math.ceil(e/(Math.log(r.length)/Math.LN2));return u(i,r,n)}},75455:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0,t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let r=0;r<t.length;r+=65536)this._crypto.getRandomValues(t.subarray(r,r+Math.min(t.length-r,65536)));return t}}},58871:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;let n=r(17309);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{let e=r(35883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw Error("NodeRandomSource: got fewer bytes than requested");let r=new Uint8Array(e);for(let i=0;i<r.length;i++)r[i]=t[i];return(0,n.wipe)(t),r}}},46008:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;let n=r(75455),i=r(58871);t.SystemRandomSource=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new i.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},73294:function(e,t,r){"use strict";var n=r(98099),i=r(17309);t.k=32,t.cn=64;var o=function(){function e(){this.digestLength=t.k,this.blockSize=t.cn,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=a(this._temp,this._state,e,r,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[r++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t%64<56?64:128;this._buffer[r]=128;for(var o=r+1;o<i-8;o++)this._buffer[o]=0;n.writeUint32BE(t/536870912|0,this._buffer,i-8),n.writeUint32BE(t<<3,this._buffer,i-4),a(this._temp,this._state,this._buffer,0,i),this._finished=!0}for(var o=0;o<this.digestLength/4;o++)n.writeUint32BE(this._state[o],e,4*o);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.state),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.mE=o;var s=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(e,t,r,i,o){for(;o>=64;){for(var a=t[0],u=t[1],l=t[2],c=t[3],h=t[4],f=t[5],d=t[6],p=t[7],y=0;y<16;y++){var m=i+4*y;e[y]=n.readUint32BE(r,m)}for(var y=16;y<64;y++){var b=e[y-2],g=(b>>>17|b<<15)^(b>>>19|b<<13)^b>>>10,v=((b=e[y-15])>>>7|b<<25)^(b>>>18|b<<14)^b>>>3;e[y]=(g+e[y-7]|0)+(v+e[y-16]|0)}for(var y=0;y<64;y++){var g=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&f^~h&d)|0)+(p+(s[y]+e[y]|0)|0)|0,v=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&u^a&l^u&l)|0;p=d,d=f,f=h,h=c+g|0,c=l,l=u,u=a,a=g+v|0}t[0]+=a,t[1]+=u,t[2]+=l,t[3]+=c,t[4]+=h,t[5]+=f,t[6]+=d,t[7]+=p,i+=64,o-=64}return i}t.vp=function(e){var t=new o;t.update(e);var r=t.digest();return t.clean(),r}},17309:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},57664:function(e,t,r){"use strict";t.gi=t.Au=t.KS=t.kz=void 0;let n=r(31416),i=r(17309);function o(e){let t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}t.kz=32,t.KS=32;let s=new Uint8Array(32);s[0]=9;let a=o([56129,1]);function u(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function l(e,t,r){let n=~(r-1);for(let i=0;i<16;i++){let o=n&(e[i]^t[i]);e[i]^=o,t[i]^=o}}function c(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function h(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function f(e,t,r){let n,i,o=0,s=0,a=0,u=0,l=0,c=0,h=0,f=0,d=0,p=0,y=0,m=0,b=0,g=0,v=0,_=0,D=0,w=0,E=0,S=0,O=0,C=0,U=0,A=0,P=0,x=0,I=0,k=0,N=0,T=0,j=0,R=r[0],F=r[1],M=r[2],L=r[3],B=r[4],H=r[5],q=r[6],$=r[7],K=r[8],z=r[9],W=r[10],V=r[11],Q=r[12],G=r[13],Y=r[14],X=r[15];o+=(n=t[0])*R,s+=n*F,a+=n*M,u+=n*L,l+=n*B,c+=n*H,h+=n*q,f+=n*$,d+=n*K,p+=n*z,y+=n*W,m+=n*V,b+=n*Q,g+=n*G,v+=n*Y,_+=n*X,s+=(n=t[1])*R,a+=n*F,u+=n*M,l+=n*L,c+=n*B,h+=n*H,f+=n*q,d+=n*$,p+=n*K,y+=n*z,m+=n*W,b+=n*V,g+=n*Q,v+=n*G,_+=n*Y,D+=n*X,a+=(n=t[2])*R,u+=n*F,l+=n*M,c+=n*L,h+=n*B,f+=n*H,d+=n*q,p+=n*$,y+=n*K,m+=n*z,b+=n*W,g+=n*V,v+=n*Q,_+=n*G,D+=n*Y,w+=n*X,u+=(n=t[3])*R,l+=n*F,c+=n*M,h+=n*L,f+=n*B,d+=n*H,p+=n*q,y+=n*$,m+=n*K,b+=n*z,g+=n*W,v+=n*V,_+=n*Q,D+=n*G,w+=n*Y,E+=n*X,l+=(n=t[4])*R,c+=n*F,h+=n*M,f+=n*L,d+=n*B,p+=n*H,y+=n*q,m+=n*$,b+=n*K,g+=n*z,v+=n*W,_+=n*V,D+=n*Q,w+=n*G,E+=n*Y,S+=n*X,c+=(n=t[5])*R,h+=n*F,f+=n*M,d+=n*L,p+=n*B,y+=n*H,m+=n*q,b+=n*$,g+=n*K,v+=n*z,_+=n*W,D+=n*V,w+=n*Q,E+=n*G,S+=n*Y,O+=n*X,h+=(n=t[6])*R,f+=n*F,d+=n*M,p+=n*L,y+=n*B,m+=n*H,b+=n*q,g+=n*$,v+=n*K,_+=n*z,D+=n*W,w+=n*V,E+=n*Q,S+=n*G,O+=n*Y,C+=n*X,f+=(n=t[7])*R,d+=n*F,p+=n*M,y+=n*L,m+=n*B,b+=n*H,g+=n*q,v+=n*$,_+=n*K,D+=n*z,w+=n*W,E+=n*V,S+=n*Q,O+=n*G,C+=n*Y,U+=n*X,d+=(n=t[8])*R,p+=n*F,y+=n*M,m+=n*L,b+=n*B,g+=n*H,v+=n*q,_+=n*$,D+=n*K,w+=n*z,E+=n*W,S+=n*V,O+=n*Q,C+=n*G,U+=n*Y,A+=n*X,p+=(n=t[9])*R,y+=n*F,m+=n*M,b+=n*L,g+=n*B,v+=n*H,_+=n*q,D+=n*$,w+=n*K,E+=n*z,S+=n*W,O+=n*V,C+=n*Q,U+=n*G,A+=n*Y,P+=n*X,y+=(n=t[10])*R,m+=n*F,b+=n*M,g+=n*L,v+=n*B,_+=n*H,D+=n*q,w+=n*$,E+=n*K,S+=n*z,O+=n*W,C+=n*V,U+=n*Q,A+=n*G,P+=n*Y,x+=n*X,m+=(n=t[11])*R,b+=n*F,g+=n*M,v+=n*L,_+=n*B,D+=n*H,w+=n*q,E+=n*$,S+=n*K,O+=n*z,C+=n*W,U+=n*V,A+=n*Q,P+=n*G,x+=n*Y,I+=n*X,b+=(n=t[12])*R,g+=n*F,v+=n*M,_+=n*L,D+=n*B,w+=n*H,E+=n*q,S+=n*$,O+=n*K,C+=n*z,U+=n*W,A+=n*V,P+=n*Q,x+=n*G,I+=n*Y,k+=n*X,g+=(n=t[13])*R,v+=n*F,_+=n*M,D+=n*L,w+=n*B,E+=n*H,S+=n*q,O+=n*$,C+=n*K,U+=n*z,A+=n*W,P+=n*V,x+=n*Q,I+=n*G,k+=n*Y,N+=n*X,v+=(n=t[14])*R,_+=n*F,D+=n*M,w+=n*L,E+=n*B,S+=n*H,O+=n*q,C+=n*$,U+=n*K,A+=n*z,P+=n*W,x+=n*V,I+=n*Q,k+=n*G,N+=n*Y,T+=n*X,_+=(n=t[15])*R,D+=n*F,w+=n*M,E+=n*L,S+=n*B,O+=n*H,C+=n*q,U+=n*$,A+=n*K,P+=n*z,x+=n*W,I+=n*V,k+=n*Q,N+=n*G,T+=n*Y,j+=n*X,o+=38*D,s+=38*w,a+=38*E,u+=38*S,l+=38*O,c+=38*C,h+=38*U,f+=38*A,d+=38*P,p+=38*x,y+=38*I,m+=38*k,b+=38*N,g+=38*T,v+=38*j,i=Math.floor((n=o+(i=1)+65535)/65536),o=n-65536*i,i=Math.floor((n=s+i+65535)/65536),s=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=_+i+65535)/65536),_=n-65536*i,o+=i-1+37*(i-1),i=Math.floor((n=o+(i=1)+65535)/65536),o=n-65536*i,i=Math.floor((n=s+i+65535)/65536),s=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=_+i+65535)/65536),_=n-65536*i,o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=u,e[4]=l,e[5]=c,e[6]=h,e[7]=f,e[8]=d,e[9]=p,e[10]=y,e[11]=m,e[12]=b,e[13]=g,e[14]=v,e[15]=_}function d(e,t){let r=new Uint8Array(32),n=new Float64Array(80),i=o(),s=o(),d=o(),p=o(),y=o(),m=o();for(let b=0;b<31;b++)r[b]=e[b];r[31]=127&e[31]|64,r[0]&=248,function(e,t){for(let r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(n,t);for(let g=0;g<16;g++)s[g]=n[g];i[0]=p[0]=1;for(let v=254;v>=0;--v){let _=r[v>>>3]>>>(7&v)&1;l(i,s,_),l(d,p,_),c(y,i,d),h(i,i,d),c(d,s,p),h(s,s,p),f(p,y,y),f(m,i,i),f(i,d,i),f(d,s,y),c(y,i,d),h(i,i,d),f(s,i,i),h(d,p,m),f(i,d,a),c(i,i,p),f(d,d,i),f(i,p,m),f(p,s,n),f(s,y,y),l(i,s,_),l(d,p,_)}for(let D=0;D<16;D++)n[D+16]=i[D],n[D+32]=d[D],n[D+48]=s[D],n[D+64]=p[D];let w=n.subarray(32),E=n.subarray(16);!function(e,t){let r=o();for(let n=0;n<16;n++)r[n]=t[n];for(let i=253;i>=0;i--)f(r,r,r),2!==i&&4!==i&&f(r,r,t);for(let s=0;s<16;s++)e[s]=r[s]}(w,w),f(E,E,w);let S=new Uint8Array(32);return!function(e,t){let r=o(),n=o();for(let i=0;i<16;i++)n[i]=t[i];u(n),u(n),u(n);for(let s=0;s<2;s++){r[0]=n[0]-65517;for(let a=1;a<15;a++)r[a]=n[a]-65535-(r[a-1]>>16&1),r[a-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let c=r[15]>>16&1;r[14]&=65535,l(n,r,1-c)}for(let h=0;h<16;h++)e[2*h]=255&n[h],e[2*h+1]=n[h]>>8}(S,E),S}t.Au=function(e){let r=(0,n.randomBytes)(32,e),o=function(e){if(e.length!==t.KS)throw Error(`x25519: seed must be ${t.KS} bytes`);let r=new Uint8Array(e),n=d(r,s);return{publicKey:n,secretKey:r}}(r);return(0,i.wipe)(r),o},t.gi=function(e,r,n=!1){if(e.length!==t.kz)throw Error("X25519: incorrect secret key length");if(r.length!==t.kz)throw Error("X25519: incorrect public key length");let i=d(e,r);if(n){let o=0;for(let s=0;s<i.length;s++)o|=i[s];if(0===o)throw Error("X25519: invalid shared key")}return i}},61882:function(){},36900:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(30004);n.__exportStar(r(46869),t),n.__exportStar(r(88033),t)},46869:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_THOUSAND=t.ONE_HUNDRED=void 0,t.ONE_HUNDRED=100,t.ONE_THOUSAND=1e3},88033:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=5*t.ONE_MINUTE,t.TEN_MINUTES=10*t.ONE_MINUTE,t.THIRTY_MINUTES=30*t.ONE_MINUTE,t.SIXTY_MINUTES=60*t.ONE_MINUTE,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=3*t.ONE_HOUR,t.SIX_HOURS=6*t.ONE_HOUR,t.TWELVE_HOURS=12*t.ONE_HOUR,t.TWENTY_FOUR_HOURS=24*t.ONE_HOUR,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=3*t.ONE_DAY,t.FIVE_DAYS=5*t.ONE_DAY,t.SEVEN_DAYS=7*t.ONE_DAY,t.THIRTY_DAYS=30*t.ONE_DAY,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=2*t.ONE_WEEK,t.THREE_WEEKS=3*t.ONE_WEEK,t.FOUR_WEEKS=4*t.ONE_WEEK,t.ONE_YEAR=365*t.ONE_DAY},66736:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(30004);n.__exportStar(r(44273),t),n.__exportStar(r(47001),t),n.__exportStar(r(52939),t),n.__exportStar(r(36900),t)},52939:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(30004);n.__exportStar(r(88766),t)},88766:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IWatch=void 0,t.IWatch=class{}},83207:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromMiliseconds=t.toMiliseconds=void 0;let n=r(36900);t.toMiliseconds=function(e){return e*n.ONE_THOUSAND},t.fromMiliseconds=function(e){return Math.floor(e/n.ONE_THOUSAND)}},83873:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}},44273:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(30004);n.__exportStar(r(83873),t),n.__exportStar(r(83207),t)},47001:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let t=this.get(e);if(void 0!==t.elapsed)throw Error(`Watch already stopped for label: ${e}`);let r=Date.now()-t.started;this.timestamps.set(e,{started:t.started,elapsed:r})}get(e){let t=this.timestamps.get(e);if(void 0===t)throw Error(`No timestamp found for label: ${e}`);return t}elapsed(e){let t=this.get(e),r=t.elapsed||Date.now()-t.started;return r}}t.Watch=r,t.default=r},30004:function(e,t,r){"use strict";r.r(t),r.d(t,{__assign:function(){return o},__asyncDelegator:function(){return _},__asyncGenerator:function(){return v},__asyncValues:function(){return D},__await:function(){return g},__awaiter:function(){return c},__classPrivateFieldGet:function(){return O},__classPrivateFieldSet:function(){return C},__createBinding:function(){return f},__decorate:function(){return a},__exportStar:function(){return d},__extends:function(){return i},__generator:function(){return h},__importDefault:function(){return S},__importStar:function(){return E},__makeTemplateObject:function(){return w},__metadata:function(){return l},__param:function(){return u},__read:function(){return y},__rest:function(){return s},__spread:function(){return m},__spreadArrays:function(){return b},__values:function(){return p}});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function u(e,t){return function(r,n){t(r,n,e)}}function l(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(t){o(t)}}function a(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function h(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function d(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function b(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function v(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof g?Promise.resolve(r.value.v).then(u,l):c(o[0][2],r)}catch(n){c(o[0][3],n)}}function u(e){a("next",e)}function l(e){a("throw",e)}function c(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function _(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:g(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function D(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function C(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}},95531:function(e,t,r){"use strict";r.d(t,{AW:function(){return th},rV:function(){return tp},gn:function(){return tG},H1:function(){return t$},hF:function(){return tK},WG:function(){return t_},pe:function(){return tw},m$:function(){return tb},vB:function(){return tE},HI:function(){return tD},E0:function(){return tX},Gq:function(){return tV},$0:function(){return tL},Z4:function(){return tW},Bv:function(){return t7},Au:function(){return ty},jd:function(){return tm},gu:function(){return tu},D:function(){return tM},Z7:function(){return rm},cO:function(){return t1},_H:function(){return t0},fc:function(){return rc},D6:function(){return rb},Hh:function(){return tJ},Ym:function(){return tg},rj:function(){return tv},jU:function(){return tR},gp:function(){return rh},rF:function(){return rK},Bw:function(){return tY},UG:function(){return tT},xW:function(){return rC},b$:function(){return tj},Ih:function(){return rE},h1:function(){return rU},Q8:function(){return tC},o8:function(){return r_},qt:function(){return rg},Dd:function(){return rA},$t:function(){return rF},nf:function(){return rB},Q0:function(){return rj},in:function(){return rk},p8:function(){return rH},sI:function(){return r$},al:function(){return rq},L5:function(){return rv},EJ:function(){return rR},Z2:function(){return rN},PM:function(){return rT},hH:function(){return rM},ON:function(){return rW},n:function(){return rI},JT:function(){return rL},M_:function(){return rD},jv:function(){return rO},KC:function(){return tH},eG:function(){return tZ},fK:function(){return rd},IP:function(){return tq},iP:function(){return tQ},M:function(){return rf},he:function(){return t9},Ll:function(){return tS},EN:function(){return tO}});var n={};r.r(n),r.d(n,{identity:function(){return L}});var i={};r.r(i),r.d(i,{base2:function(){return B}});var o={};r.r(o),r.d(o,{base8:function(){return H}});var s={};r.r(s),r.d(s,{base10:function(){return q}});var a={};r.r(a),r.d(a,{base16:function(){return $},base16upper:function(){return K}});var u={};r.r(u),r.d(u,{base32:function(){return z},base32hex:function(){return G},base32hexpad:function(){return X},base32hexpadupper:function(){return Z},base32hexupper:function(){return Y},base32pad:function(){return V},base32padupper:function(){return Q},base32upper:function(){return W},base32z:function(){return J}});var l={};r.r(l),r.d(l,{base36:function(){return ee},base36upper:function(){return et}});var c={};r.r(c),r.d(c,{base58btc:function(){return er},base58flickr:function(){return en}});var h={};r.r(h),r.d(h,{base64:function(){return ei},base64pad:function(){return eo},base64url:function(){return es},base64urlpad:function(){return ea}});var f={};r.r(f),r.d(f,{base256emoji:function(){return eh}});var d={};r.r(d),r.d(d,{sha256:function(){return ew},sha512:function(){return eE}});var p={};r.r(p),r.d(p,{identity:function(){return eO}});var y={};r.r(y),r.d(y,{code:function(){return eU},decode:function(){return eP},encode:function(){return eA},name:function(){return eC}});var m={};r.r(m),r.d(m,{code:function(){return eN},decode:function(){return ej},encode:function(){return eT},name:function(){return ek}});var b=r(15501),g=r(512),v=r(31416),_=r(73294),D=r(57664);function w(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function E(e=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?w(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function S(e,t){t||(t=e.reduce((e,t)=>e+t.length,0));let r=E(t),n=0;for(let i of e)r.set(i,n),n+=i.length;return w(r)}var O=function(e,t){if(e.length>=255)throw TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw TypeError(o+" is ambiguous");r[s]=i}var a=e.length,u=e.charAt(0),l=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[0]){for(var n=0,i=0;e[t]===u;)n++,t++;for(var o=(e.length-t)*l+1>>>0,s=new Uint8Array(o);e[t];){var c=r[e.charCodeAt(t)];if(255===c)return;for(var h=0,f=o-1;(0!==c||h<i)&&-1!==f;f--,h++)c+=a*s[f]>>>0,s[f]=c%256>>>0,c=c/256>>>0;if(0!==c)throw Error("Non-zero carry");i=h,t++}if(" "!==e[t]){for(var d=o-i;d!==o&&0===s[d];)d++;for(var p=new Uint8Array(n+(o-d)),y=n;d!==o;)p[y++]=s[d++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*c+1>>>0,l=new Uint8Array(s);i!==o;){for(var h=t[i],f=0,d=s-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*l[d]>>>0,l[d]=h%a>>>0,h=h/a>>>0;if(0!==h)throw Error("Non-zero carry");n=f,i++}for(var p=s-n;p!==s&&0===l[p];)p++;for(var y=u.repeat(r);p<s;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw Error(`Non-${t} character`)}}};new Uint8Array(0);let C=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw Error("Unknown type, must be binary type")},U=e=>new TextEncoder().encode(e),A=e=>new TextDecoder().decode(e);class P{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class x{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"==typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return k(this,e)}}class I{constructor(e){this.decoders=e}or(e){return k(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}let k=(e,t)=>new I({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class N{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new P(e,t,r),this.decoder=new x(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}let T=({name:e,prefix:t,encode:r,decode:n})=>new N(e,t,r,n),j=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:i}=O(r,t);return T({prefix:e,name:t,encode:n,decode:e=>C(i(e))})},R=(e,t,r,n)=>{let i={};for(let o=0;o<t.length;++o)i[t[o]]=o;let s=e.length;for(;"="===e[s-1];)--s;let a=new Uint8Array(s*r/8|0),u=0,l=0,c=0;for(let h=0;h<s;++h){let f=i[e[h]];if(void 0===f)throw SyntaxError(`Non-${n} character`);l=l<<r|f,(u+=r)>=8&&(u-=8,a[c++]=255&l>>u)}if(u>=r||255&l<<8-u)throw SyntaxError("Unexpected end of data");return a},F=(e,t,r)=>{let n="="===t[t.length-1],i=(1<<r)-1,o="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},M=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>T({prefix:t,name:e,encode:e=>F(e,n,r),decode:t=>R(t,n,r,e)}),L=T({prefix:"\0",name:"identity",encode:e=>A(e),decode:e=>U(e)}),B=M({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),H=M({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),q=j({prefix:"9",name:"base10",alphabet:"0123456789"}),$=M({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),K=M({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),z=M({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),W=M({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),V=M({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Q=M({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),G=M({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Y=M({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),X=M({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Z=M({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),J=M({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ee=j({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),et=j({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),er=j({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),en=j({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),ei=M({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),eo=M({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),es=M({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ea=M({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),eu=Array.from("\uD83D\uDE80\uD83E\uDE90☄\uD83D\uDEF0\uD83C\uDF0C\uD83C\uDF11\uD83C\uDF12\uD83C\uDF13\uD83C\uDF14\uD83C\uDF15\uD83C\uDF16\uD83C\uDF17\uD83C\uDF18\uD83C\uDF0D\uD83C\uDF0F\uD83C\uDF0E\uD83D\uDC09☀\uD83D\uDCBB\uD83D\uDDA5\uD83D\uDCBE\uD83D\uDCBF\uD83D\uDE02❤\uD83D\uDE0D\uD83E\uDD23\uD83D\uDE0A\uD83D\uDE4F\uD83D\uDC95\uD83D\uDE2D\uD83D\uDE18\uD83D\uDC4D\uD83D\uDE05\uD83D\uDC4F\uD83D\uDE01\uD83D\uDD25\uD83E\uDD70\uD83D\uDC94\uD83D\uDC96\uD83D\uDC99\uD83D\uDE22\uD83E\uDD14\uD83D\uDE06\uD83D\uDE44\uD83D\uDCAA\uD83D\uDE09☺\uD83D\uDC4C\uD83E\uDD17\uD83D\uDC9C\uD83D\uDE14\uD83D\uDE0E\uD83D\uDE07\uD83C\uDF39\uD83E\uDD26\uD83C\uDF89\uD83D\uDC9E✌✨\uD83E\uDD37\uD83D\uDE31\uD83D\uDE0C\uD83C\uDF38\uD83D\uDE4C\uD83D\uDE0B\uD83D\uDC97\uD83D\uDC9A\uD83D\uDE0F\uD83D\uDC9B\uD83D\uDE42\uD83D\uDC93\uD83E\uDD29\uD83D\uDE04\uD83D\uDE00\uD83D\uDDA4\uD83D\uDE03\uD83D\uDCAF\uD83D\uDE48\uD83D\uDC47\uD83C\uDFB6\uD83D\uDE12\uD83E\uDD2D❣\uD83D\uDE1C\uD83D\uDC8B\uD83D\uDC40\uD83D\uDE2A\uD83D\uDE11\uD83D\uDCA5\uD83D\uDE4B\uD83D\uDE1E\uD83D\uDE29\uD83D\uDE21\uD83E\uDD2A\uD83D\uDC4A\uD83E\uDD73\uD83D\uDE25\uD83E\uDD24\uD83D\uDC49\uD83D\uDC83\uD83D\uDE33✋\uD83D\uDE1A\uD83D\uDE1D\uD83D\uDE34\uD83C\uDF1F\uD83D\uDE2C\uD83D\uDE43\uD83C\uDF40\uD83C\uDF37\uD83D\uDE3B\uD83D\uDE13⭐✅\uD83E\uDD7A\uD83C\uDF08\uD83D\uDE08\uD83E\uDD18\uD83D\uDCA6✔\uD83D\uDE23\uD83C\uDFC3\uD83D\uDC90☹\uD83C\uDF8A\uD83D\uDC98\uD83D\uDE20☝\uD83D\uDE15\uD83C\uDF3A\uD83C\uDF82\uD83C\uDF3B\uD83D\uDE10\uD83D\uDD95\uD83D\uDC9D\uD83D\uDE4A\uD83D\uDE39\uD83D\uDDE3\uD83D\uDCAB\uD83D\uDC80\uD83D\uDC51\uD83C\uDFB5\uD83E\uDD1E\uD83D\uDE1B\uD83D\uDD34\uD83D\uDE24\uD83C\uDF3C\uD83D\uDE2B⚽\uD83E\uDD19☕\uD83C\uDFC6\uD83E\uDD2B\uD83D\uDC48\uD83D\uDE2E\uD83D\uDE46\uD83C\uDF7B\uD83C\uDF43\uD83D\uDC36\uD83D\uDC81\uD83D\uDE32\uD83C\uDF3F\uD83E\uDDE1\uD83C\uDF81⚡\uD83C\uDF1E\uD83C\uDF88❌✊\uD83D\uDC4B\uD83D\uDE30\uD83E\uDD28\uD83D\uDE36\uD83E\uDD1D\uD83D\uDEB6\uD83D\uDCB0\uD83C\uDF53\uD83D\uDCA2\uD83E\uDD1F\uD83D\uDE41\uD83D\uDEA8\uD83D\uDCA8\uD83E\uDD2C✈\uD83C\uDF80\uD83C\uDF7A\uD83E\uDD13\uD83D\uDE19\uD83D\uDC9F\uD83C\uDF31\uD83D\uDE16\uD83D\uDC76\uD83E\uDD74▶➡❓\uD83D\uDC8E\uD83D\uDCB8⬇\uD83D\uDE28\uD83C\uDF1A\uD83E\uDD8B\uD83D\uDE37\uD83D\uDD7A⚠\uD83D\uDE45\uD83D\uDE1F\uD83D\uDE35\uD83D\uDC4E\uD83E\uDD32\uD83E\uDD20\uD83E\uDD27\uD83D\uDCCC\uD83D\uDD35\uD83D\uDC85\uD83E\uDDD0\uD83D\uDC3E\uD83C\uDF52\uD83D\uDE17\uD83E\uDD11\uD83C\uDF0A\uD83E\uDD2F\uD83D\uDC37☎\uD83D\uDCA7\uD83D\uDE2F\uD83D\uDC86\uD83D\uDC46\uD83C\uDFA4\uD83D\uDE47\uD83C\uDF51❄\uD83C\uDF34\uD83D\uDCA3\uD83D\uDC38\uD83D\uDC8C\uD83D\uDCCD\uD83E\uDD40\uD83E\uDD22\uD83D\uDC45\uD83D\uDCA1\uD83D\uDCA9\uD83D\uDC50\uD83D\uDCF8\uD83D\uDC7B\uD83E\uDD10\uD83E\uDD2E\uD83C\uDFBC\uD83E\uDD75\uD83D\uDEA9\uD83C\uDF4E\uD83C\uDF4A\uD83D\uDC7C\uD83D\uDC8D\uD83D\uDCE3\uD83E\uDD42"),el=eu.reduce((e,t,r)=>(e[r]=t,e),[]),ec=eu.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),eh=T({prefix:"\uD83D\uDE80",name:"base256emoji",encode:function(e){return e.reduce((e,t)=>e+=el[t],"")},decode:function(e){let t=[];for(let r of e){let n=ec[r.codePointAt(0)];if(void 0===n)throw Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}});function ef(e,t,r){t=t||[];for(var n=r=r||0;e>=2147483648;)t[r++]=255&e|128,e/=128;for(;-128&e;)t[r++]=255&e|128,e>>>=7;return t[r]=0|e,ef.bytes=r-n+1,t}function ed(e,t){var r,n=0,t=t||0,i=0,o=t,s=e.length;do{if(o>=s)throw ed.bytes=0,RangeError("Could not decode varint");r=e[o++],n+=i<28?(127&r)<<i:(127&r)*Math.pow(2,i),i+=7}while(r>=128);return ed.bytes=o-t,n}var ep={encode:ef,decode:ed,encodingLength:function(e){return e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10}};let ey=(e,t,r=0)=>(ep.encode(e,t,r),t),em=e=>ep.encodingLength(e),eb=(e,t)=>{let r=t.byteLength,n=em(e),i=n+em(r),o=new Uint8Array(i+r);return ey(e,o,0),ey(r,o,n),o.set(t,i),new eg(e,r,t,o)};class eg{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}let ev=({name:e,code:t,encode:r})=>new e_(e,t,r);class e_{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?eb(this.code,t):t.then(e=>eb(this.code,e))}throw Error("Unknown type, must be binary type")}}let eD=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),ew=ev({name:"sha2-256",code:18,encode:eD("SHA-256")}),eE=ev({name:"sha2-512",code:19,encode:eD("SHA-512")}),eS=e=>eb(0,C(e)),eO={code:0,name:"identity",encode:C,digest:eS},eC="raw",eU=85,eA=e=>C(e),eP=e=>C(e),ex=new TextEncoder,eI=new TextDecoder,ek="json",eN=512,eT=e=>ex.encode(JSON.stringify(e)),ej=e=>JSON.parse(eI.decode(e));class eR{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:ez,byteLength:ez,code:eK,version:eK,multihash:eK,bytes:eK,_baseCache:ez,asCID:ez})}toV0(){if(0===this.version)return this;{let{code:e,multihash:t}=this;if(e!==eB)throw Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==eH)throw Error("Cannot convert non sha2-256 multihash CID to CIDv0");return eR.createV0(t)}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=Digest.create(e,t);return eR.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Digest.equals(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;return 0===r?eM(t,n,e||base58btc.encoder):eL(t,n,e||base32.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return eW(/^0\.0/,eV),!!(e&&(e[e$]||e.asCID===e))}get toBaseEncodedString(){throw Error("Deprecated, use .toString()")}get codec(){throw Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw Error('"multibaseName" property is deprecated')}get prefix(){throw Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof eR)return e;if(null!=e&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:i}=e;return new eR(t,r,n,i||eq(t,r,n.bytes))}if(null==e||!0!==e[e$])return null;{let{version:o,multihash:s,code:a}=e,u=Digest.decode(s);return eR.create(o,a,u)}}static create(e,t,r){if("number"!=typeof t)throw Error("String codecs are no longer supported");switch(e){case 0:if(t===eB)return new eR(e,t,r,r.bytes);throw Error(`Version 0 CID must use dag-pb (code: ${eB}) block encoding`);case 1:{let n=eq(e,t,r.bytes);return new eR(e,t,r,n)}default:throw Error("Invalid version")}}static createV0(e){return eR.create(0,eB,e)}static createV1(e,t){return eR.create(1,e,t)}static decode(e){let[t,r]=eR.decodeFirst(e);if(r.length)throw Error("Incorrect length");return t}static decodeFirst(e){let t=eR.inspectBytes(e),r=t.size-t.multihashSize,n=coerce(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw Error("Incorrect length");let i=n.subarray(t.multihashSize-t.digestSize),o=new Digest.Digest(t.multihashCode,t.digestSize,i,n),s=0===t.version?eR.createV0(o):eR.createV1(t.codec,o);return[s,e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[r,n]=varint.decode(e.subarray(t));return t+=n,r},n=r(),i=eB;if(18===n?(n=0,t=0):1===n&&(i=r()),0!==n&&1!==n)throw RangeError(`Invalid CID version ${n}`);let o=t,s=r(),a=r(),u=t+a;return{version:n,codec:i,multihashCode:s,digestSize:a,multihashSize:u-o,size:u}}static parse(e,t){let[r,n]=eF(e,t),i=eR.decode(n);return i._baseCache.set(r,e),i}}let eF=(e,t)=>{switch(e[0]){case"Q":{let r=t||base58btc;return[base58btc.prefix,r.decode(`${base58btc.prefix}${e}`)]}case base58btc.prefix:{let n=t||base58btc;return[base58btc.prefix,n.decode(e)]}case base32.prefix:{let i=t||base32;return[base32.prefix,i.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},eM=(e,t,r)=>{let{prefix:n}=r;if(n!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=t.get(n);if(null!=i)return i;{let o=r.encode(e).slice(1);return t.set(n,o),o}},eL=(e,t,r)=>{let{prefix:n}=r,i=t.get(n);if(null!=i)return i;{let o=r.encode(e);return t.set(n,o),o}},eB=112,eH=18,eq=(e,t,r)=>{let n=varint.encodingLength(e),i=n+varint.encodingLength(t),o=new Uint8Array(i+r.byteLength);return varint.encodeTo(e,o,0),varint.encodeTo(t,o,n),o.set(r,i),o},e$=Symbol.for("@ipld/js-cid/CID"),eK={writable:!1,configurable:!1,enumerable:!0},ez={writable:!1,enumerable:!1,configurable:!1},eW=(e,t)=>{if(e.test("0.0.0-dev"))console.warn(t);else throw Error(t)},eV=null,eQ={...n,...i,...o,...s,...a,...u,...l,...c,...h,...f};function eG(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}({...d,...p});let eY=eG("utf8","u",e=>{let t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>{let t=new TextEncoder;return t.encode(e.substring(1))}),eX=eG("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=E(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),eZ={utf8:eY,"utf-8":eY,hex:eQ.base16,latin1:eX,ascii:eX,binary:eX,...eQ};function eJ(e,t="utf8"){let r=eZ[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?w(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function e0(e,t="utf8"){let r=eZ[t];if(!r)throw Error(`Unsupported encoding "${t}"`);return("utf8"===t||"utf-8"===t)&&null!=globalThis.Buffer&&null!=globalThis.Buffer.from?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var e1=r(34155),e3=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},e8=function(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"},e5=function(e){this.version=e,this.type="node",this.name="node",this.os=e1.platform},e6=function(e,t,r,n){this.name=e,this.version=t,this.os=r,this.bot=n,this.type="bot-device"},e2=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},e4=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},e9=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,e7=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],te=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function tt(e){var t=""!==e&&e7.reduce(function(t,r){var n=r[0],i=r[1];if(t)return t;var o=i.exec(e);return!!o&&[n,o]},!1);if(!t)return null;var r=t[0],n=t[1];if("searchbot"===r)return new e2;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=e3(e3([],i,!0),function(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}(3-i.length),!0)):i=[];var o=i.join("."),s=function(e){for(var t=0,r=te.length;t<r;t++){var n=te[t],i=n[0];if(n[1].exec(e))return i}return null}(e),a=e9.exec(e);return a&&a[1]?new e6(r,o,s,a[1]):new e8(r,o,s)}var tr=r(66736),tn=r(62873),ti=r(65755),to=r(66151);r(61882);let ts={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var ta=r(34155);function tu(e,t=[]){let r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;let i=e[n];r.push(...i.accounts)}),r}function tl(e,t){return e.includes(":")?[e]:t.chains||[]}let tc="base10",th="base16",tf="base64pad",td="utf8",tp=1;function ty(){let e=D.Au();return{privateKey:e0(e.secretKey,th),publicKey:e0(e.publicKey,th)}}function tm(){let e=(0,v.randomBytes)(32);return e0(e,th)}function tb(e,t){let r=D.gi(eJ(e,th),eJ(t,th)),n=new g.t(_.mE,r).expand(32);return e0(n,th)}function tg(e){let t=(0,_.vp)(eJ(e,th));return e0(t,th)}function tv(e){let t=(0,_.vp)(eJ(e,td));return e0(t,th)}function t_(e){return Number(e0(e,tc))}function tD(e){let t=eJ(`${"u">typeof e.type?e.type:0}`,tc);if(t_(t)===tp&&typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");let r="u">typeof e.senderPublicKey?eJ(e.senderPublicKey,th):void 0,n="u">typeof e.iv?eJ(e.iv,th):(0,v.randomBytes)(12),i=new b.OK(eJ(e.symKey,th)).seal(n,eJ(e.message,td));return function(e){if(t_(e.type)===tp){if(typeof e.senderPublicKey>"u")throw Error("Missing sender public key for type 1 envelope");return e0(S([e.type,e.senderPublicKey,e.iv,e.sealed]),tf)}return e0(S([e.type,e.iv,e.sealed]),tf)}({type:t,sealed:i,iv:n,senderPublicKey:r})}function tw(e){let t=new b.OK(eJ(e.symKey,th)),{sealed:r,iv:n}=tE(e.encoded),i=t.open(n,r);if(null===i)throw Error("Failed to decrypt");return e0(i,td)}function tE(e){let t=eJ(e,tf),r=t.slice(0,1);if(t_(r)===tp){let n=t.slice(1,33),i=t.slice(33,45),o=t.slice(45);return{type:r,sealed:o,iv:i,senderPublicKey:n}}let s=t.slice(1,13),a=t.slice(13);return{type:r,sealed:a,iv:s}}function tS(e,t){let r=tE(e);return tO({type:t_(r.type),senderPublicKey:"u">typeof r.senderPublicKey?e0(r.senderPublicKey,th):void 0,receiverPublicKey:t?.receiverPublicKey})}function tO(e){let t=e?.type||0;if(t===tp){if(typeof e?.senderPublicKey>"u")throw Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function tC(e){return e.type===tp&&"string"==typeof e.senderPublicKey&&"string"==typeof e.receiverPublicKey}var tU=Object.defineProperty,tA=Object.getOwnPropertySymbols,tP=Object.prototype.hasOwnProperty,tx=Object.prototype.propertyIsEnumerable,tI=(e,t,r)=>t in e?tU(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tk=(e,t)=>{for(var r in t||(t={}))tP.call(t,r)&&tI(e,r,t[r]);if(tA)for(var r of tA(t))tx.call(t,r)&&tI(e,r,t[r]);return e};let tN={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function tT(){return"u">typeof ta&&"u">typeof ta.versions&&"u">typeof ta.versions.node}function tj(){return!(0,tn.getDocument)()&&!!(0,tn.getNavigator)()&&"ReactNative"===navigator.product}function tR(){return!tT()&&!!(0,tn.getNavigator)()}function tF(){return tj()?tN.reactNative:tT()?tN.node:tR()?tN.browser:tN.unknown}function tM(){return(0,ti.D)()||{name:"",description:"",url:"",icons:[""]}}function tL({protocol:e,version:t,relayUrl:n,sdkVersion:i,auth:o,projectId:s,useOnCloseEvent:a}){var u;let l;let c=n.split("?"),h=function(e,t,n){let i=function(){var e;if(tF()===tN.reactNative&&"u">typeof r.g&&"u">typeof(null==r.g?void 0:r.g.Platform)){let{OS:t,Version:n}=r.g.Platform;return[t,n].join("-")}let i=e?tt(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new e4:"undefined"!=typeof navigator?tt(navigator.userAgent):void 0!==e1&&e1.version?new e5(e1.version.slice(1)):null;if(null===i)return"unknown";let o=i.os?i.os.replace(" ","").toLowerCase():"unknown";return"browser"===i.type?[o,i.name,i.version].join("-"):[o,i.version].join("-")}(),o=function(){var e;let t=tF();return t===tN.browser?[t,(null==(e=(0,tn.getLocation)())?void 0:e.host)||"unknown"].join(":"):t}();return[[e,t].join("-"),["js",n].join("-"),i,o].join("/")}(e,t,i),f=(u=c[1]||"",l=tk(tk({},l=to.parse(u)),{auth:o,ua:h,projectId:s,useOnCloseEvent:a||void 0}),u=to.stringify(l));return c[0]+"?"+f}function tB(e,t){return e.filter(e=>t.includes(e)).length===e.length}function tH(e){return Object.fromEntries(e.entries())}function tq(e){return new Map(Object.entries(e))}function t$(e=tr.FIVE_MINUTES,t){let r,n,i;let o=(0,tr.toMiliseconds)(e||tr.FIVE_MINUTES);return{resolve:e=>{i&&r&&(clearTimeout(i),r(e))},reject:e=>{i&&n&&(clearTimeout(i),n(e))},done:()=>new Promise((e,s)=>{i=setTimeout(()=>{s(Error(t))},o),r=e,n=s})}}function tK(e,t,r){return new Promise(async(n,i)=>{let o=setTimeout(()=>i(Error(r)),t);try{let s=await e;n(s)}catch(a){i(a)}clearTimeout(o)})}function tz(e,t){if("string"==typeof t&&t.startsWith(`${e}:`))return t;if("topic"===e.toLowerCase()){if("string"!=typeof t)throw Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}if("id"===e.toLowerCase()){if("number"!=typeof t)throw Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw Error(`Unknown expirer target type: ${e}`)}function tW(e){return tz("topic",e)}function tV(e){return tz("id",e)}function tQ(e){let[t,r]=e.split(":"),n={id:void 0,topic:void 0};if("topic"===t&&"string"==typeof r)n.topic=r;else if("id"===t&&Number.isInteger(Number(r)))n.id=Number(r);else throw Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function tG(e,t){return(0,tr.fromMiliseconds)((t||Date.now())+(0,tr.toMiliseconds)(e))}function tY(e){return Date.now()>=(0,tr.toMiliseconds)(e)}function tX(e,t){return`${e}${t?`:${t}`:""}`}function tZ(e=[],t=[]){return[...new Set([...e,...t])]}async function tJ({id:e,topic:t,wcDeepLink:n}){try{if(!n)return;let i="string"==typeof n?JSON.parse(n):n,o=i?.href;if("string"!=typeof o)return;o.endsWith("/")&&(o=o.slice(0,-1));let s=`${o}/wc?requestId=${e}&sessionTopic=${t}`,a=tF();a===tN.browser?s.startsWith("https://")?window.open(s,"_blank","noreferrer noopener"):window.open(s,"_self","noreferrer noopener"):a===tN.reactNative&&"u">typeof(null==r.g?void 0:r.g.Linking)&&await r.g.Linking.openURL(s)}catch(u){console.error(u)}}function t0(e){return e?.relay||{protocol:"irn"}}function t1(e){let t=ts[e];if(typeof t>"u")throw Error(`Relay Protocol not supported: ${e}`);return t}var t3=Object.defineProperty,t8=Object.getOwnPropertySymbols,t5=Object.prototype.hasOwnProperty,t6=Object.prototype.propertyIsEnumerable,t2=(e,t,r)=>t in e?t3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,t4=(e,t)=>{for(var r in t||(t={}))t5.call(t,r)&&t2(e,r,t[r]);if(t8)for(var r of t8(t))t6.call(t,r)&&t2(e,r,t[r]);return e};function t9(e){var t;let r=e.indexOf(":"),n=-1!==e.indexOf("?")?e.indexOf("?"):void 0,i=e.substring(0,r),o=e.substring(r+1,n).split("@"),s="u">typeof n?e.substring(n):"",a=to.parse(s);return{protocol:i,topic:(t=o[0]).startsWith("//")?t.substring(2):t,version:parseInt(o[1],10),symKey:a.symKey,relay:function(e,t="-"){let r={},n="relay"+t;return Object.keys(e).forEach(t=>{if(t.startsWith(n)){let i=t.replace(n,""),o=e[t];r[i]=o}}),r}(a)}}function t7(e){return`${e.protocol}:${e.topic}@${e.version}?`+to.stringify(t4({symKey:e.symKey},function(e,t="-"){let r={};return Object.keys(e).forEach(n=>{e[n]&&(r["relay"+t+n]=e[n])}),r}(e.relay)))}var re=Object.defineProperty,rt=Object.defineProperties,rr=Object.getOwnPropertyDescriptors,rn=Object.getOwnPropertySymbols,ri=Object.prototype.hasOwnProperty,ro=Object.prototype.propertyIsEnumerable,rs=(e,t,r)=>t in e?re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ra=(e,t)=>{for(var r in t||(t={}))ri.call(t,r)&&rs(e,r,t[r]);if(rn)for(var r of rn(t))ro.call(t,r)&&rs(e,r,t[r]);return e},ru=(e,t)=>rt(e,rr(t));function rl(e){let t=[];return e.forEach(e=>{let[r,n]=e.split(":");t.push(`${r}:${n}`)}),t}function rc(e,t){let r=rk(e,t);if(r)throw Error(r.message);let n={};for(let[i,o]of Object.entries(e))n[i]={methods:o.methods,events:o.events,chains:o.accounts.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)};return n}function rh(e){return e.includes(":")}function rf(e){return rh(e)?e.split(":")[0]:e}function rd(e){var t,r,n;let i={};if(!rv(e))return i;for(let[o,s]of Object.entries(e)){let a=rh(o)?[o]:s.chains,u=s.methods||[],l=s.events||[],c=rf(o);i[c]=ru(ra({},i[c]),{chains:tZ(a,null==(t=i[c])?void 0:t.chains),methods:tZ(u,null==(r=i[c])?void 0:r.methods),events:tZ(l,null==(n=i[c])?void 0:n.events)})}return i}let rp={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},ry={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function rm(e,t){let{message:r,code:n}=ry[e];return{message:t?`${r} ${t}`:r,code:n}}function rb(e,t){let{message:r,code:n}=rp[e];return{message:t?`${r} ${t}`:r,code:n}}function rg(e,t){return!!Array.isArray(e)&&(!("u">typeof t)||!e.length||e.every(t))}function rv(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function r_(e){return typeof e>"u"}function rD(e,t){return!!(t&&r_(e))||"string"==typeof e&&!!e.trim().length}function rw(e,t){return!!(t&&r_(e))||"number"==typeof e&&!isNaN(e)}function rE(e,t){let{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),i=Object.keys(r),o=!0;return!!tB(i,n)&&(n.forEach(t=>{let{accounts:n,methods:i,events:s}=e.namespaces[t],a=rl(n),u=r[t];tB(tl(t,u),a)&&tB(u.methods,i)&&tB(u.events,s)||(o=!1)}),o)}function rS(e){return!!(rD(e,!1)&&e.includes(":"))&&2===e.split(":").length}function rO(e){if(rD(e,!1))try{return"u">typeof new URL(e)}catch{}return!1}function rC(e){var t;return null==(t=e?.proposer)?void 0:t.publicKey}function rU(e){return e?.topic}function rA(e,t){let r=null;return rD(e?.publicKey,!1)||(r=rm("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function rP(e){let t=!0;return rg(e)?e.length&&(t=e.every(e=>rD(e,!1))):t=!1,t}function rx(e,t){let r=null;return Object.values(e).forEach(e=>{var n;let i;if(r)return;let o=(n=`${t}, namespace`,i=null,rP(e?.methods)?rP(e?.events)||(i=rb("UNSUPPORTED_EVENTS",`${n}, events should be an array of strings or empty array for no events`)):i=rb("UNSUPPORTED_METHODS",`${n}, methods should be an array of strings or empty array for no methods`),i);o&&(r=o)}),r}function rI(e,t,r){let n=null;if(e&&rv(e)){let i;let o=rx(e,t);o&&(n=o);let s=(i=null,Object.entries(e).forEach(([e,n])=>{var o,s;let a;if(i)return;let u=(o=tl(e,n),s=`${t} ${r}`,a=null,rg(o)&&o.length?o.forEach(e=>{a||rS(e)||(a=rb("UNSUPPORTED_CHAINS",`${s}, chain ${e} should be a string and conform to "namespace:chainId" format`))}):rS(e)||(a=rb("UNSUPPORTED_CHAINS",`${s}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),a);u&&(i=u)}),i);s&&(n=s)}else n=rm("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}function rk(e,t){let r=null;if(e&&rv(e)){let n;let i=rx(e,t);i&&(r=i);let o=(n=null,Object.values(e).forEach(e=>{var r,i;let o;if(n)return;let s=(r=e?.accounts,i=`${t} namespace`,o=null,rg(r)?r.forEach(e=>{o||function(e){if(rD(e,!1)&&e.includes(":")){let t=e.split(":");if(3===t.length){let r=t[0]+":"+t[1];return!!t[2]&&rS(r)}}return!1}(e)||(o=rb("UNSUPPORTED_ACCOUNTS",`${i}, account ${e} should be a string and conform to "namespace:chainId:address" format`))}):o=rb("UNSUPPORTED_ACCOUNTS",`${i}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),o);s&&(n=s)}),n);o&&(r=o)}else r=rm("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function rN(e){return rD(e.protocol,!0)}function rT(e,t){let r=!1;return t&&!e?r=!0:e&&rg(e)&&e.length&&e.forEach(e=>{r=rN(e)}),r}function rj(e){return"number"==typeof e}function rR(e){return"u">typeof e}function rF(e){return!(!e||"object"!=typeof e||!e.code||!rw(e.code,!1)||!e.message||!rD(e.message,!1))}function rM(e){return!(r_(e)||!rD(e.method,!1))}function rL(e){return!(r_(e)||r_(e.result)&&r_(e.error)||!rw(e.id,!1)||!rD(e.jsonrpc,!1))}function rB(e){return!(r_(e)||!rD(e.name,!1))}function rH(e,t){return!(!rS(t)||!(function(e){let t=[];return Object.values(e).forEach(e=>{t.push(...rl(e.accounts))}),t})(e).includes(t))}function rq(e,t,r){return!!rD(r,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{rl(e.accounts).includes(t)&&r.push(...e.methods)}),r})(e,t).includes(r)}function r$(e,t,r){return!!rD(r,!1)&&(function(e,t){let r=[];return Object.values(e).forEach(e=>{rl(e.accounts).includes(t)&&r.push(...e.events)}),r})(e,t).includes(r)}function rK(e,t,r){let n=null,i=function(e){let t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:null==(n=e[r].chains)||n.forEach(n=>{t[n]={methods:e[r].methods,events:e[r].events}})}),t}(e),o=function(e){let t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{let n=rl(e[r].accounts);n?.forEach(n=>{t[n]={accounts:e[r].accounts.filter(e=>e.includes(`${n}:`)),methods:e[r].methods,events:e[r].events}})}}),t}(t),s=Object.keys(i),a=Object.keys(o),u=rz(Object.keys(e)),l=rz(Object.keys(t)),c=u.filter(e=>!l.includes(e));return c.length&&(n=rm("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${c.toString()}
      Received: ${Object.keys(t).toString()}`)),tB(s,a)||(n=rm("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${s.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(e=>{if(!e.includes(":")||n)return;let i=rl(t[e].accounts);i.includes(e)||(n=rm("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${e}
        Required: ${e}
        Approved: ${i.toString()}`))}),s.forEach(e=>{n||(tB(i[e].methods,o[e].methods)?tB(i[e].events,o[e].events)||(n=rm("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${e}`)):n=rm("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${e}`))}),n}function rz(e){return[...new Set(e.map(e=>e.includes(":")?e.split(":")[0]:e))]}function rW(e,t){return rw(e,!1)&&e<=t.max&&e>=t.min}},66151:function(e,t,r){"use strict";let n=r(70610),i=r(44020),o=r(80500),s=r(92806),a=e=>null==e,u=Symbol("encodeFragmentIdentifier");function l(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function h(e,t){return t.decode?i(e):e}function f(e){let t=e.indexOf("#");return -1!==t&&(e=e.slice(0,t)),e}function d(e){e=f(e);let t=e.indexOf("?");return -1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):t.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())&&(e="true"===e.toLowerCase()),e}function y(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);let r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t){n[e]=r;return}void 0===n[e]&&(n[e]={}),n[e][t[1]]=r};case"bracket":return(e,r,n)=>{if(t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"colon-list-separator":return(e,r,n)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"comma":case"separator":return(t,r,n)=>{let i="string"==typeof r&&r.includes(e.arrayFormatSeparator),o="string"==typeof r&&!i&&h(r,e).includes(e.arrayFormatSeparator);r=o?h(r,e):r;let s=i||o?r.split(e.arrayFormatSeparator).map(t=>h(t,e)):null===r?r:h(r,e);n[t]=s};case"bracket-separator":return(t,r,n)=>{let i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i){n[t]=r?h(r,e):r;return}let o=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>h(t,e));if(void 0===n[t]){n[t]=o;return}n[t]=[].concat(n[t],o)};default:return(e,t,r)=>{if(void 0===r[e]){r[e]=t;return}r[e]=[].concat(r[e],t)}}}(t),n=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return n;for(let i of e.split("&")){if(""===i)continue;let[s,a]=o(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:h(a,t),r(h(s,t),a,n)}for(let u of Object.keys(n)){let c=n[u];if("object"==typeof c&&null!==c)for(let f of Object.keys(c))c[f]=p(c[f],t);else n[u]=p(c,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{let r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=d,t.parse=y,t.stringify=(e,t)=>{if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);let r=r=>t.skipNull&&a(e[r])||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),"[",i,"]"].join("")]:[...r,[c(t,e),"[",c(i,e),"]=",c(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),"[]"].join("")]:[...r,[c(t,e),"[]=",c(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[c(t,e),":list="].join("")]:[...r,[c(t,e),":list=",c(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length)?[[c(r,e),t,c(i,e)].join("")]:[[n,c(i,e)].join(e.arrayFormatSeparator)]}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,c(t,e)]:[...r,[c(t,e),"=",c(n,e)].join("")]}}(t),i={};for(let o of Object.keys(e))r(o)||(i[o]=e[o]);let s=Object.keys(i);return!1!==t.sort&&s.sort(t.sort),s.map(r=>{let i=e[r];return void 0===i?"":null===i?c(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?c(r,t)+"[]":i.reduce(n(r),[]).join("&"):c(r,t)+"="+c(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=o(e,"#");return Object.assign({url:r.split("?")[0]||"",query:y(d(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:h(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[u]:!0},r);let n=f(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),s=Object.assign(o,e.query),a=t.stringify(s,r);a&&(a=`?${a}`);let l=function(e){let t="",r=e.indexOf("#");return -1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(l=`#${r[u]?c(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${n}${a}${l}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[u]:!1},n);let{url:i,query:o,fragmentIdentifier:a}=t.parseUrl(e,n);return t.stringifyUrl({url:i,query:s(o,r),fragmentIdentifier:a},n)},t.exclude=(e,r,n)=>{let i=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,i,n)}},62873:function(e,t){"use strict";function r(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function n(e){let t=r(e);if(!t)throw Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=void 0,t.getFromWindow=r,t.getFromWindowOrThrow=n,t.getDocumentOrThrow=function(){return n("document")},t.getDocument=function(){return r("document")},t.getNavigatorOrThrow=function(){return n("navigator")},t.getNavigator=function(){return r("navigator")},t.getLocationOrThrow=function(){return n("location")},t.getLocation=function(){return r("location")},t.getCryptoOrThrow=function(){return n("crypto")},t.getCrypto=function(){return r("crypto")},t.getLocalStorageOrThrow=function(){return n("localStorage")},t.getLocalStorage=function(){return r("localStorage")}},65755:function(e,t,r){"use strict";t.D=void 0;let n=r(62873);t.D=function(){let e,t,r;try{e=n.getDocumentOrThrow(),t=n.getLocationOrThrow()}catch(i){return null}function o(...t){let r=e.getElementsByTagName("meta");for(let n=0;n<r.length;n++){let i=r[n],o=["itemprop","property","name"].map(e=>i.getAttribute(e)).filter(e=>!!e&&t.includes(e));if(o.length&&o){let s=i.getAttribute("content");if(s)return s}}return""}let s=((r=o("name","og:site_name","og:title","twitter:title"))||(r=e.title),r),a=function(){let e=o("description","og:description","twitter:description","keywords");return e}(),u=t.origin,l=function(){let r=e.getElementsByTagName("link"),n=[];for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){let a=o.getAttribute("href");if(a){if(-1===a.toLowerCase().indexOf("https:")&&-1===a.toLowerCase().indexOf("http:")&&0!==a.indexOf("//")){let u=t.protocol+"//"+t.host;if(0===a.indexOf("/"))u+=a;else{let l=t.pathname.split("/");l.pop();let c=l.join("/");u+=c+"/"+a}n.push(u)}else if(0===a.indexOf("//")){let h=t.protocol+a;n.push(h)}else n.push(a)}}}return n}();return{description:a,url:u,icons:l,name:s}}},19601:function(e,t,r){var n=r(82109),i=r(21574);n({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},44020:function(e){"use strict";var t="%[a-f0-9]{2}",r=RegExp("("+t+")|([^%]+?)","gi"),n=RegExp("("+t+")+","gi");e.exports=function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},i=n.exec(e);i;){try{t[i[0]]=decodeURIComponent(i[0])}catch(s){var o=function(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r)||[],n=1;n<t.length;n++)t=(e=(function e(t,r){try{return[decodeURIComponent(t.join(""))]}catch(n){}if(1===t.length)return t;r=r||1;var i=t.slice(0,r),o=t.slice(r);return Array.prototype.concat.call([],e(i),e(o))})(t,n).join("")).match(r)||[];return e}}(i[0]);o!==i[0]&&(t[i[0]]=o)}i=n.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),u=0;u<a.length;u++){var l=a[u];e=e.replace(RegExp(l,"g"),t[l])}return e}(e)}}},92806:function(e){"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var s=n[o],a=e[s];(i?-1!==t.indexOf(s):t(s,a,e))&&(r[s]=a)}return r}},96245:function(e,t,r){"use strict";function n(e){this.message=e}n.prototype=Error(),n.prototype.name="InvalidCharacterError";var i="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,i,o=0,s=0,a="";i=t.charAt(s++);~i&&(r=o%4?64*r+i:i,o++%4)&&(a+=String.fromCharCode(255&r>>(-2*o&6))))i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return a};function o(e){this.message=e}o.prototype=Error(),o.prototype.name="InvalidTokenError",t.Z=function(e,t){if("string"!=typeof e)throw new o("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(function(e){var t,r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw"Illegal base64url string!"}try{return t=r,decodeURIComponent(i(t).replace(/(.)/g,function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}catch(n){return i(r)}}(e.split(".")[r]))}catch(n){throw new o("Invalid token specified: "+n.message)}}},59947:function(e,t,r){"use strict";let n;r.d(t,{e:function(){return eZ}});var i=r(48764).Buffer;let o="3.7.5",s="function"==typeof atob,a="function"==typeof btoa,u="function"==typeof i,l="function"==typeof TextDecoder?new TextDecoder:void 0,c="function"==typeof TextEncoder?new TextEncoder:void 0,h=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),f=(n={},h.forEach((e,t)=>n[e]=t),n),d=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,p=String.fromCharCode.bind(String),y="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),m=e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_"),b=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),g=e=>{let t,r,n,i,o="",s=e.length%3;for(let a=0;a<e.length;){if((r=e.charCodeAt(a++))>255||(n=e.charCodeAt(a++))>255||(i=e.charCodeAt(a++))>255)throw TypeError("invalid character found");o+=h[(t=r<<16|n<<8|i)>>18&63]+h[t>>12&63]+h[t>>6&63]+h[63&t]}return s?o.slice(0,s-3)+"===".substring(s):o},v=a?e=>btoa(e):u?e=>i.from(e,"binary").toString("base64"):g,_=u?e=>i.from(e).toString("base64"):e=>{let t=[];for(let r=0,n=e.length;r<n;r+=4096)t.push(p.apply(null,e.subarray(r,r+4096)));return v(t.join(""))},D=(e,t=!1)=>t?m(_(e)):_(e),w=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?p(192|t>>>6)+p(128|63&t):p(224|t>>>12&15)+p(128|t>>>6&63)+p(128|63&t)}var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return p(240|t>>>18&7)+p(128|t>>>12&63)+p(128|t>>>6&63)+p(128|63&t)},E=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,S=e=>e.replace(E,w),O=u?e=>i.from(e,"utf8").toString("base64"):c?e=>_(c.encode(e)):e=>v(S(e)),C=(e,t=!1)=>t?m(O(e)):O(e),U=e=>C(e,!0),A=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,P=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return p((t>>>10)+55296)+p((1023&t)+56320);case 3:return p((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return p((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},x=e=>e.replace(A,P),I=e=>{if(e=e.replace(/\s+/g,""),!d.test(e))throw TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,r="",n,i;for(let o=0;o<e.length;)t=f[e.charAt(o++)]<<18|f[e.charAt(o++)]<<12|(n=f[e.charAt(o++)])<<6|(i=f[e.charAt(o++)]),r+=64===n?p(t>>16&255):64===i?p(t>>16&255,t>>8&255):p(t>>16&255,t>>8&255,255&t);return r},k=s?e=>atob(b(e)):u?e=>i.from(e,"base64").toString("binary"):I,N=u?e=>y(i.from(e,"base64")):e=>y(k(e).split("").map(e=>e.charCodeAt(0))),T=e=>N(R(e)),j=u?e=>i.from(e,"base64").toString("utf8"):l?e=>l.decode(N(e)):e=>x(k(e)),R=e=>b(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),F=e=>j(R(e)),M=e=>{if("string"!=typeof e)return!1;let t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},L=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),B=function(){let e=(e,t)=>Object.defineProperty(String.prototype,e,L(t));e("fromBase64",function(){return F(this)}),e("toBase64",function(e){return C(this,e)}),e("toBase64URI",function(){return C(this,!0)}),e("toBase64URL",function(){return C(this,!0)}),e("toUint8Array",function(){return T(this)})},H=function(){let e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,L(t));e("toBase64",function(e){return D(this,e)}),e("toBase64URI",function(){return D(this,!0)}),e("toBase64URL",function(){return D(this,!0)})},q=()=>{B(),H()},$={version:o,VERSION:o,atob:k,atobPolyfill:I,btoa:v,btoaPolyfill:g,fromBase64:F,toBase64:C,encode:C,encodeURI:U,encodeURL:U,utob:S,btou:x,decode:F,isValid:M,fromUint8Array:D,toUint8Array:T,extendString:B,extendUint8Array:H,extendBuiltins:q};var K=r(84564),z=r.n(K);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Q(e){var t="function"==typeof Map?new Map:void 0;return(Q=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return G(e,arguments,Z(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),X(r,e)})(e)}function G(e,t,r){return(G=Y()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&X(i,r.prototype),i}).apply(null,arguments)}function Y(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function X(e,t){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(o,e);var t,r,n,i=(t=Y(),function(){var e,r=Z(o);if(t){var n=Z(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).originalRequest=n,t.originalResponse=s,t.causingError=r,null!=r&&(e+=", caused by ".concat(r.toString())),null!=n){var a=n.getHeader("X-Request-ID")||"n/a",u=n.getMethod(),l=n.getURL(),c=s?s.getStatus():"n/a",h=s?s.getBody()||"":"n/a";e+=", originated from request (method: ".concat(u,", url: ").concat(l,", response code: ").concat(c,", response text: ").concat(h,", request id: ").concat(a,")")}return t.message=e,t}return r&&V(o.prototype,r),n&&V(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(Q(Error));function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],s=!0,a=!1;try{for(i=i.call(e);!(s=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(u){a=!0,n=u}finally{try{s||null==i.return||i.return()}finally{if(a)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return et(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return et(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach(function(t){var n,i;n=e,i=r[t],t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ei(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var eo=function(){var e,t;function r(e,t){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),"resume"in t&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=t,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=e,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return e=[{key:"findPreviousUploads",value:function(){var e=this;return this.options.fingerprint(this.file,this.options).then(function(t){return e._urlStorage.findUploadsByFingerprint(t)})}},{key:"resumeFromPreviousUpload",value:function(e){this.url=e.uploadUrl||null,this._parallelUploadUrls=e.parallelUploadUrls||null,this._urlStorageKey=e.urlStorageKey}},{key:"start",value:function(){var e=this,t=this.file;if(!t){this._emitError(Error("tus: no file or stream to upload provided"));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(Error("tus: neither an endpoint or an upload URL is provided"));return}var r=this.options.retryDelays;if(null!=r&&"[object Array]"!==Object.prototype.toString.call(r)){this._emitError(Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var n=0,i=["uploadUrl","uploadSize","uploadLengthDeferred"];n<i.length;n++){var o=i[n];if(this.options[o]){this._emitError(Error("tus: cannot use the ".concat(o," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(t,this.options).then(function(r){return(e._fingerprint=r,e._source)?e._source:e.options.fileReader.openFile(t,e.options.chunkSize)}).then(function(t){if(e._source=t,e.options.uploadLengthDeferred)e._size=null;else if(null!=e.options.uploadSize){if(e._size=Number(e.options.uploadSize),Number.isNaN(e._size)){e._emitError(Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(e._size=e._source.size,null==e._size){e._emitError(Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}e.options.parallelUploads>1||null!=e._parallelUploadUrls?e._startParallelUpload():e._startSingleUpload()}).catch(function(t){e._emitError(t)})}},{key:"_startParallelUpload",value:function(){var e,t,n=this,i=this._size,o=0;this._parallelUploads=[];var s=null!=this._parallelUploadUrls?this._parallelUploadUrls.length:this.options.parallelUploads,a=null!==(t=this.options.parallelUploadBoundaries)&&void 0!==t?t:function(e,t){for(var r=Math.floor(e/t),n=[],i=0;i<t;i++)n.push({start:r*i,end:r*(i+1)});return n[t-1].end=e,n}(this._source.size,s);this._parallelUploadUrls&&a.forEach(function(e,t){e.uploadUrl=n._parallelUploadUrls[t]||null}),this._parallelUploadUrls=Array(a.length),Promise.all(a.map(function(e,t){var s=0;return n._source.slice(e.start,e.end).then(function(u){var l=u.value;return new Promise(function(u,c){var h=en(en({},n.options),{},{uploadUrl:e.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:en(en({},n.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:u,onError:c,onProgress:function(e){o=o-s+e,s=e,n._emitProgress(o,i)},onUploadUrlAvailable:function(){n._parallelUploadUrls[t]=f.url,n._parallelUploadUrls.filter(function(e){return Boolean(e)}).length===a.length&&n._saveUploadInUrlStorage()}}),f=new r(l,h);f.start(),n._parallelUploads.push(f)})})})).then(function(){(e=n._openRequest("POST",n.options.endpoint)).setHeader("Upload-Concat","final;".concat(n._parallelUploadUrls.join(" ")));var t=es(n.options.metadata);return""!==t&&e.setHeader("Upload-Metadata",t),n._sendRequest(e,null)}).then(function(t){if(!ea(t.getStatus(),200)){n._emitHttpError(e,t,"tus: unexpected response while creating upload");return}var r=t.getHeader("Location");if(null==r){n._emitHttpError(e,t,"tus: invalid or missing Location header");return}n.url=eh(n.options.endpoint,r),n.url,n._emitSuccess()}).catch(function(e){n._emitError(e)})}},{key:"_startSingleUpload",value:function(){if(this._aborted=!1,null!=this.url){this.url,this._resumeUpload();return}if(null!=this.options.uploadUrl){this.options.uploadUrl,this.url=this.options.uploadUrl,this._resumeUpload();return}this._createUpload()}},{key:"abort",value:function(e){var t=this;return(null!=this._parallelUploads&&this._parallelUploads.forEach(function(t){t.abort(e)}),null!==this._req&&this._req.abort(),this._aborted=!0,null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),e&&null!=this.url)?r.terminate(this.url,this.options).then(function(){return t._removeFromUrlStorage()}):Promise.resolve()}},{key:"_emitHttpError",value:function(e,t,r,n){this._emitError(new J(r,n,e,t))}},{key:"_emitError",value:function(e){var t=this;if(!this._aborted){if(null!=this.options.retryDelays&&(null!=this._offset&&this._offset>this._offsetBeforeRetry&&(this._retryAttempt=0),ec(e,this._retryAttempt,this.options))){var r=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){t.start()},r);return}if("function"==typeof this.options.onError)this.options.onError(e);else throw e}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),"function"==typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(e,t){"function"==typeof this.options.onProgress&&this.options.onProgress(e,t)}},{key:"_emitChunkComplete",value:function(e,t,r){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(e,t,r)}},{key:"_createUpload",value:function(){var e,t=this;if(!this.options.endpoint){this._emitError(Error("tus: unable to create upload because no endpoint is provided"));return}var r=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?r.setHeader("Upload-Defer-Length",1):r.setHeader("Upload-Length",this._size);var n=es(this.options.metadata);""!==n&&r.setHeader("Upload-Metadata",n),this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,e=this._addChunkToRequest(r)):e=this._sendRequest(r,null),e.then(function(e){if(!ea(e.getStatus(),200)){t._emitHttpError(r,e,"tus: unexpected response while creating upload");return}var n=e.getHeader("Location");if(null==n){t._emitHttpError(r,e,"tus: invalid or missing Location header");return}if(t.url=eh(t.options.endpoint,n),t.url,"function"==typeof t.options.onUploadUrlAvailable&&t.options.onUploadUrlAvailable(),0===t._size){t._emitSuccess(),t._source.close();return}t._saveUploadInUrlStorage().then(function(){t.options.uploadDataDuringCreation?t._handleUploadResponse(r,e):(t._offset=0,t._performUpload())})}).catch(function(e){t._emitHttpError(r,null,"tus: failed to create upload",e)})}},{key:"_resumeUpload",value:function(){var e=this,t=this._openRequest("HEAD",this.url);this._sendRequest(t,null).then(function(r){var n=r.getStatus();if(!ea(n,200)){if(423===n){e._emitHttpError(t,r,"tus: upload is currently locked; retry later");return}if(ea(n,400)&&e._removeFromUrlStorage(),!e.options.endpoint){e._emitHttpError(t,r,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}e.url=null,e._createUpload();return}var i=parseInt(r.getHeader("Upload-Offset"),10);if(Number.isNaN(i)){e._emitHttpError(t,r,"tus: invalid or missing offset value");return}var o=parseInt(r.getHeader("Upload-Length"),10);if(Number.isNaN(o)&&!e.options.uploadLengthDeferred){e._emitHttpError(t,r,"tus: invalid or missing length value");return}"function"==typeof e.options.onUploadUrlAvailable&&e.options.onUploadUrlAvailable(),e._saveUploadInUrlStorage().then(function(){if(i===o){e._emitProgress(o,o),e._emitSuccess();return}e._offset=i,e._performUpload()})}).catch(function(r){e._emitHttpError(t,null,"tus: failed to resume upload",r)})}},{key:"_performUpload",value:function(){var e,t=this;this._aborted||(this.options.overridePatchMethod?(e=this._openRequest("POST",this.url)).setHeader("X-HTTP-Method-Override","PATCH"):e=this._openRequest("PATCH",this.url),e.setHeader("Upload-Offset",this._offset),this._addChunkToRequest(e).then(function(r){if(!ea(r.getStatus(),200)){t._emitHttpError(e,r,"tus: unexpected response while uploading chunk");return}t._handleUploadResponse(e,r)}).catch(function(r){t._aborted||t._emitHttpError(e,null,"tus: failed to upload chunk at offset ".concat(t._offset),r)}))}},{key:"_addChunkToRequest",value:function(e){var t=this,r=this._offset,n=this._offset+this.options.chunkSize;return e.setProgressHandler(function(e){t._emitProgress(r+e,t._size)}),e.setHeader("Content-Type","application/offset+octet-stream"),(n===1/0||n>this._size)&&!this.options.uploadLengthDeferred&&(n=this._size),this._source.slice(r,n).then(function(r){var n=r.value,i=r.done;return(t.options.uploadLengthDeferred&&i&&(t._size=t._offset+(n&&n.size?n.size:0),e.setHeader("Upload-Length",t._size)),null===n)?t._sendRequest(e):(t._emitProgress(t._offset,t._size),t._sendRequest(e,n))})}},{key:"_handleUploadResponse",value:function(e,t){var r=parseInt(t.getHeader("Upload-Offset"),10);if(Number.isNaN(r)){this._emitHttpError(e,t,"tus: invalid or missing offset value");return}if(this._emitProgress(r,this._size),this._emitChunkComplete(r-this._offset,r,this._size),this._offset=r,r===this._size){this._emitSuccess(),this._source.close();return}this._performUpload()}},{key:"_openRequest",value:function(e,t){var r=eu(e,t,this.options);return this._req=r,r}},{key:"_removeFromUrlStorage",value:function(){var e=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(t){e._emitError(t)}),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var e=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||null!==this._urlStorageKey)return Promise.resolve();var t={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?t.parallelUploadUrls=this._parallelUploadUrls:t.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,t).then(function(t){e._urlStorageKey=t})}},{key:"_sendRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return el(e,t,this.options)}}],t=[{key:"terminate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=eu("DELETE",e,t);return el(n,null,t).then(function(e){if(204!==e.getStatus())throw new J("tus: unexpected response while terminating upload",null,n,e)}).catch(function(i){if(i instanceof J||(i=new J("tus: failed to terminate upload",i,n,null)),!ec(i,0,t))throw i;var o=t.retryDelays[0],s=t.retryDelays.slice(1),a=en(en({},t),{},{retryDelays:s});return new Promise(function(e){return setTimeout(e,o)}).then(function(){return r.terminate(e,a)})})}}],e&&ei(r.prototype,e),t&&ei(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function es(e){return Object.entries(e).map(function(e){var t=ee(e,2),r=t[0],n=t[1];return"".concat(r," ").concat($.encode(String(n)))}).join(",")}function ea(e,t){return e>=t&&e<t+100}function eu(e,t,r){var n=r.httpStack.createRequest(e,t);if(n.setHeader("Tus-Resumable","1.0.0"),Object.entries(r.headers||{}).forEach(function(e){var t=ee(e,2),r=t[0],i=t[1];n.setHeader(r,i)}),r.addRequestId){var i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});n.setHeader("X-Request-ID",i)}return n}function el(e,t,r){return("function"==typeof r.onBeforeRequest?Promise.resolve(r.onBeforeRequest(e)):Promise.resolve()).then(function(){return e.send(t).then(function(t){return("function"==typeof r.onAfterResponse?Promise.resolve(r.onAfterResponse(e,t)):Promise.resolve()).then(function(){return t})})})}function ec(e,t,r){if(null==r.retryDelays||t>=r.retryDelays.length||null==e.originalRequest)return!1;if(r&&"function"==typeof r.onShouldRetry)return r.onShouldRetry(e,t,r);var n,i=e.originalResponse?e.originalResponse.getStatus():0;return(!ea(i,400)||409===i||423===i)&&(n=!0,"undefined"!=typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(n=!1),n)}function eh(e,t){return new(z())(t,e).toString()}function ef(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}eo.defaultOptions={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null};var ed=function(){var e;function t(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t)}return ef(t.prototype,[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(e){return Promise.resolve([])}},{key:"removeUpload",value:function(e){return Promise.resolve()}},{key:"addUpload",value:function(e,t){return Promise.resolve(null)}}]),e&&ef(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function ep(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ey=!1;try{ey="localStorage"in window;var em="tusSupport",eb=localStorage.getItem(em);localStorage.setItem(em,eb),null===eb&&localStorage.removeItem(em)}catch(eg){if(eg.code===eg.SECURITY_ERR||eg.code===eg.QUOTA_EXCEEDED_ERR)ey=!1;else throw eg}var ev=ey,e_=function(){var e,t;function r(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r)}return e=[{key:"findAllUploads",value:function(){return Promise.resolve(this._findEntries("tus::"))}},{key:"findUploadsByFingerprint",value:function(e){return Promise.resolve(this._findEntries("tus::".concat(e,"::")))}},{key:"removeUpload",value:function(e){return localStorage.removeItem(e),Promise.resolve()}},{key:"addUpload",value:function(e,t){var r="tus::".concat(e,"::").concat(Math.round(1e12*Math.random()));return localStorage.setItem(r,JSON.stringify(t)),Promise.resolve(r)}},{key:"_findEntries",value:function(e){for(var t=[],r=0;r<localStorage.length;r++){var n=localStorage.key(r);if(0===n.indexOf(e))try{var i=JSON.parse(localStorage.getItem(n));i.urlStorageKey=n,t.push(i)}catch(o){}}return t}}],ep(r.prototype,e),t&&ep(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function eD(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function ew(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eE(e,t,r){return t&&ew(e.prototype,t),r&&ew(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var eS=function(){function e(){eD(this,e)}return eE(e,[{key:"createRequest",value:function(e,t){return new eO(e,t)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),e}(),eO=function(){function e(t,r){eD(this,e),this._xhr=new XMLHttpRequest,this._xhr.open(t,r,!0),this._method=t,this._url=r,this._headers={}}return eE(e,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(e,t){this._xhr.setRequestHeader(e,t),this._headers[e]=t}},{key:"getHeader",value:function(e){return this._headers[e]}},{key:"setProgressHandler",value:function(e){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(t){t.lengthComputable&&e(t.loaded)})}},{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise(function(r,n){e._xhr.onload=function(){r(new eC(e._xhr))},e._xhr.onerror=function(e){n(e)},e._xhr.send(t)})}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),eC=function(){function e(t){eD(this,e),this._xhr=t}return eE(e,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(e){return this._xhr.getResponseHeader(e)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),e}(),eU=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()};function eA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var eP=function(){var e,t;function r(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this._file=e,this.size=e.size}return e=[{key:"slice",value:function(e,t){if("undefined"!=typeof window&&(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova)){var r;return r=this._file.slice(e,t),new Promise(function(e,t){var n=new FileReader;n.onload=function(){e({value:new Uint8Array(n.result)})},n.onerror=function(e){t(e)},n.readAsArrayBuffer(r)})}return Promise.resolve({value:this._file.slice(e,t)})}},{key:"close",value:function(){}}],eA(r.prototype,e),t&&eA(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function ex(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eI(e){return void 0===e?0:void 0!==e.size?e.size:e.length}var ek=function(){var e,t;function r(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return e=[{key:"slice",value:function(e,t){return e<this._bufferOffset?Promise.reject(Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(e,t)}},{key:"_readUntilEnoughDataOrDone",value:function(e,t){var r=this,n=t<=this._bufferOffset+eI(this._buffer);if(this._done||n){var i=this._getDataFromBuffer(e,t),o=null==i&&this._done;return Promise.resolve({value:i,done:o})}return this._reader.read().then(function(n){var i=n.value;return n.done?r._done=!0:void 0===r._buffer?r._buffer=i:r._buffer=function(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var r=new e.constructor(e.length+t.length);return r.set(e),r.set(t,e.length),r}throw Error("Unknown data type")}(r._buffer,i),r._readUntilEnoughDataOrDone(e,t)})}},{key:"_getDataFromBuffer",value:function(e,t){e>this._bufferOffset&&(this._buffer=this._buffer.slice(e-this._bufferOffset),this._bufferOffset=e);var r=0===eI(this._buffer);return this._done&&r?null:this._buffer.slice(0,t-e)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}],ex(r.prototype,e),t&&ex(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function eN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var eT=function(){var e,t;function r(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r)}return e=[{key:"openFile",value:function(e,t){if(eU()&&e&&void 0!==e.uri){var r;return(r=e.uri,new Promise(function(e,t){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){e(n.response)},n.onerror=function(e){t(e)},n.open("GET",r),n.send()})).then(function(e){return new eP(e)}).catch(function(e){throw Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(e))})}return"function"==typeof e.slice&&void 0!==e.size?Promise.resolve(new eP(e)):"function"==typeof e.read?Number.isFinite(t=Number(t))?Promise.resolve(new ek(e,t)):Promise.reject(Error("cannot create source for stream without a finite value for the `chunkSize` option")):Promise.reject(Error("source object may only be an instance of File, Blob, or Reader in this environment"))}}],eN(r.prototype,e),t&&eN(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function ej(e){return(ej="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eR(e,t){return(eR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eF(e){return(eF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(t){var n,i;n=e,i=r[t],t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eB=eL(eL({},eo.defaultOptions),{},{httpStack:new eS,fileReader:new eT,urlStorage:ev?new e_:new ed,fingerprint:function(e,t){var r;return eU()?Promise.resolve((r=e.exif?function(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}(JSON.stringify(e.exif)):"noexif",["tus-rn",e.name||"noname",e.size||"nosize",r,t.endpoint].join("/"))):Promise.resolve(["tus-br",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-"))}}),eH=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eR(e,t)}(i,e);var t,r,n=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eF(i);if(t){var n=eF(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===ej(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),t=eL(eL({},eB),t),n.call(this,e,t)}return r=[{key:"terminate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=eL(eL({},eB),t),eo.terminate(e,t)}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(i,r),Object.defineProperty(i,"prototype",{writable:!1}),i}(eo),eq=window,e$=eq.XMLHttpRequest,eK=eq.Blob;e$&&eK&&eK.prototype.slice;var ez=r(54098),eW=r.n(ez),eV=r(84688),eQ=r(33806);let eG={name:"Livepeer Studio",baseUrl:"https://livepeer.studio/api",webrtcIngestBaseUrl:"https://webrtc.livepeer.studio/webrtc"};class eY{constructor(e){this._fetch=eW(),this._config=e}getConfig(){return this._config}async _get(e,t){let r=await this._fetch(`${this._config.baseUrl}${e}`,{method:"GET",...t,headers:{...t?.headers,"x-core-sdk-version":eQ.v.core,"x-react-sdk-version":eQ.v.react,"x-react-native-sdk-version":eQ.v.reactNative}});if(!r.ok)throw new eV.oo(r.status,`Provider failed to get object from ${this._config.baseUrl}${e}, status code was ${r.status}`,await r.json());return r.json()}async _create(e,t){let r=await this._fetch(`${this._config.baseUrl}${e}`,{method:"POST",...t,...t?.json?{body:JSON.stringify(t.json)}:{},headers:{...t?.json?{"content-type":"application/json"}:{},...t?.headers,"x-core-sdk-version":eQ.v.core,"x-react-sdk-version":eQ.v.react,"x-react-native-sdk-version":eQ.v.reactNative}});if(!r.ok)throw new eV.oo(r.status,"Provider failed to create object",await r.json());return r.json()}async _update(e,t){let r=await this._fetch(`${this._config.baseUrl}${e}`,{method:"PATCH",...t,...t?.json?{body:JSON.stringify(t.json)}:{},headers:{...t?.json?{"content-type":"application/json"}:{},...t?.headers,"x-core-sdk-version":eQ.v.core,"x-react-sdk-version":eQ.v.react,"x-react-native-sdk-version":eQ.v.reactNative}});if(!r.ok)throw new eV.oo(r.status,"Provider failed to update object",await r.json())}}class eX extends eY{constructor(e){super(e),this._defaultHeaders=e.apiKey?{Authorization:`Bearer ${e.apiKey}`,Origin:e.origin}:{Origin:e.origin}}async createStream(e){let t=this._getPlaybackPolicyMapped(e.playbackPolicy),r=await this._create("/stream",{json:{...e,...t?{playbackPolicy:t}:{},...e.creatorId?{creatorId:e.creatorId}:{}},headers:this._defaultHeaders});return this._mapToStream(r)}async updateStream(e){let t="string"==typeof e?e:e.streamId,r=this._getPlaybackPolicyMapped(e.playbackPolicy);return await this._update(`/stream/${t}`,{json:{...void 0!==e?.record?{record:Boolean(e.record)}:{},...void 0!==e?.suspend?{suspended:Boolean(e.suspend)}:{},...void 0!==e?.multistream?.targets?{multistream:{targets:e.multistream.targets.map(e=>void 0===e.id||"url"in(e.spec??{})?{...e,id:void 0}:{...e,spec:void 0})}}:{},...r?{playbackPolicy:r}:{},...e.creatorId?{creatorId:e.creatorId}:{}},headers:this._defaultHeaders}),this.getStream(t)}async getStream(e){let t=await this._get(`/stream/${"string"==typeof e?e:e.streamId}`,{headers:this._defaultHeaders});return this._mapToStream(t)}async getStreamSession(e){let t=await this._get(`/session/${"string"==typeof e?e:e.streamSessionId}`,{headers:this._defaultHeaders});return t}async getStreamSessions(e){let t=await this._get(`/stream/${"string"==typeof e?e:e.streamId}/sessions`,{headers:this._defaultHeaders});return t}async createAsset(e){let{sources:t,onProgress:r,noWait:n,chunkSize:i}=e,o=t.map(e=>({name:e.name,progress:0,assetId:null,phase:e?.url?"waiting":"uploading"})),s=await Promise.allSettled(t.map(async(e,t)=>{let n=this._getPlaybackPolicyMapped(e.playbackPolicy);if(e.url){let s=await this._create("/asset/upload/url",{json:{name:e.name,url:e.url,storage:e?.storage?.ipfs?{ipfs:{spec:{nftMetadata:e?.storage?.metadata??{},...e?.storage?.metadataTemplate?{nftMetadataTemplate:e.storage.metadataTemplate}:{}}}}:void 0,...n?{playbackPolicy:n}:{},...e.creatorId?{creatorId:e.creatorId}:{}},headers:this._defaultHeaders});return s?.asset?.id}{let a=await this._create("/asset/request-upload",{json:{name:e.name,storage:e?.storage?.ipfs?{ipfs:{spec:{nftMetadata:e?.storage?.metadata??{},...e?.storage?.metadataTemplate?{nftMetadataTemplate:e.storage.metadataTemplate}:{}}}}:void 0,...n?{playbackPolicy:n}:{},...e.creatorId?{creatorId:e.creatorId}:{}},headers:this._defaultHeaders}),{tusEndpoint:u,asset:{id:l}}=a;return await new Promise((n,s)=>{let a=new eH(e.file,{endpoint:u,metadata:{id:l},...i?{chunkSize:i}:"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()?null:{chunkSize:104857600},onError:e=>{console.log("Failed because: ",e)},onProgress(n,i){let s={name:e.name,assetId:l,progress:n/i,phase:"uploading"},a=[...o];a[t]=s,o=a,r?.(o)},onSuccess(){n()}});a.findPreviousUploads().then(e=>{e?.length>0&&e[0]&&a.resumeFromPreviousUpload(e[0]),a.start()}).catch(s)}),l}}));if(n)return Promise.all(s.map(async e=>{if("rejected"===e.status)throw e.reason;return this.getAsset(e.value)}));let a=await Promise.allSettled(s.map(async(e,t)=>{if("rejected"===e.status)throw e.reason;let n=null,i=0;for(;n?.status?.phase!=="ready"&&n?.status?.phase!=="failed";)try{if(await new Promise(e=>setTimeout(e,1e3*Math.random()+4e3)),n=await this.getAsset(e.value),void 0!==n.status?.phase){let s={name:n.name,assetId:n.id,progress:n.status.progress??0,phase:n.status.phase},a=[...o];a[t]=s,o=a,r?.(o)}else throw Error("Asset phase was undefined.")}catch(u){if(i>5)throw u;i+=1}let l={name:n.name,assetId:n.id,progress:1,phase:n.status.phase},c=[...o];return c[t]=l,o=c,r?.(o),n})),u=[...a.map(e=>{if("fulfilled"===e.status)return e.value;throw e.reason})];return u}async getAsset(e){let t=await this._get(`/asset/${"string"==typeof e?e:e.assetId}`,{headers:this._defaultHeaders});return t}async updateAsset(e){let{assetId:t,name:r,storage:n}=e,i=this._getPlaybackPolicyMapped(e.playbackPolicy);return await this._update(`/asset/${t}`,{json:{name:void 0!==r?String(r):void 0,storage:n?.ipfs?{ipfs:{spec:{nftMetadata:n?.metadata??{},...n?.metadataTemplate?{nftMetadataTemplate:n.metadataTemplate}:{}}}}:void 0,...i?{playbackPolicy:i}:{},...e.creatorId?{creatorId:e.creatorId}:{}},headers:this._defaultHeaders}),this.getAsset({assetId:t})}_getRtmpIngestUrl(e){return`rtmp://rtmp.livepeer.com/live/${e}`}async getPlaybackInfo(e){let t="string"==typeof e?e:e.playbackId,r=encodeURIComponent(t),n=await this._get(`/playback/${r}`,{headers:this._defaultHeaders});return this._mapToPlaybackInfo(n)}_getPlaybackUrl(e){return`https://livepeercdn.com/hls/${e}/index.m3u8`}async getAssetMetrics(e){let t="string"==typeof e?e:e.assetId,r=await this._get(`/data/views/${t}/total`,{headers:this._defaultHeaders});return this._mapToViewsMetrics(r)}async _mapToStream(e){return{...e,multistream:await this._mapToMultistream(e.multistream),rtmpIngestUrl:this._getRtmpIngestUrl(e.streamKey),playbackUrl:this._getPlaybackUrl(e.playbackId)}}async _mapToMultistream(e){if(!e?.targets)return;let t=e.targets.map(async e=>{let{name:t}=await this._get(`/multistream/target/${e.id}`,{headers:this._defaultHeaders});return{...e,spec:{name:t}}});return{targets:await Promise.all(t)}}_mapToPlaybackInfo(e){return{type:e?.type,meta:{...e?.meta,live:Boolean(e?.meta?.live),source:e?.meta?.source?.map(e=>({...e})),attestation:e?.meta?.attestation}}}_mapToViewsMetrics(e){return{type:"ViewsMetrics",metrics:e}}_getPlaybackPolicyMapped(e){return e&&void 0!==e?.type?"webhook"===e.type?{type:e.type,webhookId:e.webhookId,webhookContext:e.webhookContext}:{type:e.type}:null}}function eZ(e){return()=>new eX({...eG,...e})}},57129:function(e,t){"use strict";var r,n=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function o(e){try{return encodeURIComponent(e)}catch(t){return null}}t.stringify=function(e,t){var i,s,a=[];for(s in"string"!=typeof(t=t||"")&&(t="?"),e)if(n.call(e,s)){if(!(i=e[s])&&(null===i||i===r||isNaN(i))&&(i=""),s=o(s),i=o(i),null===s||null===i)continue;a.push(s+"="+i)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,n={};t=r.exec(e);){var o=i(t[1]),s=i(t[2]);null===o||null===s||o in n||(n[o]=s)}return n}},47418:function(e){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},22944:function(e,t,r){"use strict";function n(){return"BroadcastChannel"in globalThis}function i(e,t,{ref:r="shared-",initialize:n=!1}={}){let i=r+"-"+e.toString(),o=new BroadcastChannel(i),s=!1,a=0,u=t.subscribe(t=>t[e],e=>{s||(a=Date.now(),o.postMessage({timestamp:a,state:e})),s=!1});o.onmessage=r=>{if(void 0===r.data){o.postMessage({timestamp:a,state:t.getState()[e]});return}r.data.timestamp<=a||(s=!0,a=r.data.timestamp,t.setState({[e]:r.data.state}))};let l=()=>o.postMessage(void 0),c=()=>{o.close(),u()};return n&&l(),[l,c]}r.d(t,{B:function(){return i},G:function(){return n}})},80500:function(e){"use strict";e.exports=(e,t)=>{if(!("string"==typeof e&&"string"==typeof t))throw TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];let r=e.indexOf(t);return -1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},70610:function(e){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},84564:function(e,t,r){"use strict";var n=r(47418),i=r(57129),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function h(e){return(e||"").toString().replace(o,"")}var f=[["#","hash"],["?","query"],function(e,t){return y(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function p(e){var t,n=("undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{}).location||{},i={},o=typeof(e=e||n);if("blob:"===e.protocol)i=new b(unescape(e.pathname),{});else if("string"===o)for(t in i=new b(e,{}),d)delete i[t];else if("object"===o){for(t in e)t in d||(i[t]=e[t]);void 0===i.slashes&&(i.slashes=a.test(e.href))}return i}function y(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function m(e,t){e=(e=h(e)).replace(s,""),t=t||{};var r,n=l.exec(e),i=n[1]?n[1].toLowerCase():"",o=!!n[2],a=!!n[3],u=0;return o?a?(r=n[2]+n[3]+n[4],u=n[2].length+n[3].length):(r=n[2]+n[4],u=n[2].length):a?(r=n[3]+n[4],u=n[3].length):r=n[4],"file:"===i?u>=2&&(r=r.slice(2)):y(i)?r=n[4]:i?o&&(r=r.slice(2)):u>=2&&y(t.protocol)&&(r=n[4]),{protocol:i,slashes:o||y(i),slashesCount:u,rest:r}}function b(e,t,r){if(e=(e=h(e)).replace(s,""),!(this instanceof b))return new b(e,t,r);var o,a,u,l,d,g,v=f.slice(),_=typeof t,D=this,w=0;for("object"!==_&&"string"!==_&&(r=t,t=null),r&&"function"!=typeof r&&(r=i.parse),t=p(t),o=!(a=m(e||"",t)).protocol&&!a.slashes,D.slashes=a.slashes||o&&t.slashes,D.protocol=a.protocol||t.protocol||"",e=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||c.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!y(D.protocol)))&&(v[3]=[/(.*)/,"pathname"]);w<v.length;w++){if("function"==typeof(l=v[w])){e=l(e,D);continue}u=l[0],g=l[1],u!=u?D[g]=e:"string"==typeof u?~(d="@"===u?e.lastIndexOf(u):e.indexOf(u))&&("number"==typeof l[2]?(D[g]=e.slice(0,d),e=e.slice(d+l[2])):(D[g]=e.slice(d),e=e.slice(0,d))):(d=u.exec(e))&&(D[g]=d[1],e=e.slice(0,d.index)),D[g]=D[g]||o&&l[3]&&t[g]||"",l[4]&&(D[g]=D[g].toLowerCase())}r&&(D.query=r(D.query)),o&&t.slashes&&"/"!==D.pathname.charAt(0)&&(""!==D.pathname||""!==t.pathname)&&(D.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,i=r[n-1],o=!1,s=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),s++):s&&(0===n&&(o=!0),r.splice(n,1),s--);return o&&r.unshift(""),("."===i||".."===i)&&r.push(""),r.join("/")}(D.pathname,t.pathname)),"/"!==D.pathname.charAt(0)&&y(D.protocol)&&(D.pathname="/"+D.pathname),n(D.port,D.protocol)||(D.host=D.hostname,D.port=""),D.username=D.password="",D.auth&&(~(d=D.auth.indexOf(":"))?(D.username=D.auth.slice(0,d),D.username=encodeURIComponent(decodeURIComponent(D.username)),D.password=D.auth.slice(d+1),D.password=encodeURIComponent(decodeURIComponent(D.password))):D.username=encodeURIComponent(decodeURIComponent(D.auth)),D.auth=D.password?D.username+":"+D.password:D.username),D.origin="file:"!==D.protocol&&y(D.protocol)&&D.host?D.protocol+"//"+D.host:"null",D.href=D.toString()}b.prototype={set:function(e,t,r){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,n(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,u.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!r;break;case"pathname":case"hash":if(t){var s="pathname"===e?"/":"#";o[e]=t.charAt(0)!==s?s+t:t}else o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(o.username=t.slice(0,a),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=t.slice(a+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(t))}for(var l=0;l<f.length;l++){var c=f[l];c[4]&&(o[c[1]]=o[c[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&y(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,r=this.host,n=this.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var o=n+(this.protocol&&this.slashes||y(this.protocol)?"//":"");return this.username?(o+=this.username,this.password&&(o+=":"+this.password),o+="@"):this.password?o+=":"+this.password+"@":"file:"!==this.protocol&&y(this.protocol)&&!r&&"/"!==this.pathname&&(o+="@"),(":"===r[r.length-1]||u.test(this.hostname)&&!this.port)&&(r+=":"),o+=r+this.pathname,(t="object"==typeof this.query?e(this.query):this.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),this.hash&&(o+=this.hash),o}},b.extractProtocol=m,b.location=p,b.trimLeft=h,b.qs=i,e.exports=b},63200:function(e,t,r){"use strict";r.d(t,{q:function(){return s}});var n=r(97582),i=r(48216),o=r(86909);function s(e){return new o.i(function(t,r){return new i.y(function(n){var i,o,s;try{i=r(t).subscribe({next:function(i){if(i.errors&&(s=e({graphQLErrors:i.errors,response:i,operation:t,forward:r}))){o=s.subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return}n.next(i)},error:function(i){if(s=e({operation:t,networkError:i,graphQLErrors:i&&i.result&&i.result.errors,forward:r})){o=s.subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return}n.error(i)},complete:function(){s||n.complete.bind(n)()}})}catch(a){e({networkError:a,operation:t,forward:r}),n.error(a)}return function(){i&&i.unsubscribe(),o&&i.unsubscribe()}})})}!function(e){function t(t){var r=e.call(this)||this;return r.link=s(t),r}(0,n.ZT)(t,e),t.prototype.request=function(e,t){return this.link.request(e,t)}}(o.i)},53768:function(e,t,r){"use strict";r.d(t,{e:function(){return s}});var n=r(13917),i=r(67294),o=r(85317),s=function(e){var t=e.client,r=e.children,s=(0,o.K)();return i.createElement(s.Consumer,null,function(e){return void 0===e&&(e={}),t&&e.client!==t&&(e=Object.assign({},e,{client:t})),__DEV__?(0,n.kG)(e.client,'ApolloProvider was not passed a client instance. Make sure you pass in your client via the "client" prop.'):(0,n.kG)(e.client,29),i.createElement(s.Provider,{value:e},r)})}},55548:function(e,t,r){"use strict";r.d(t,{J0:function(){return R},gu:function(){return M},X:function(){return F}});var n,i,o,s,a,u,l,c,h,f,d,p,y,m,b,g,v,_,D,w,E=r(1660),S=r(41481),O=r(16343),C=r(95531),U=r(92221),A=r(42455),P=r(67629),x=r(19575),I=r(46872),k="eip155",N="requestedChains",T="wallet_addEthereumChain",j=class extends O.wR{constructor(e){super({...e,options:{isNewChainsStale:!0,...e.options}}),(0,O.Ko)(this,o),(0,O.Ko)(this,a),(0,O.Ko)(this,l),(0,O.Ko)(this,h),(0,O.Ko)(this,d),(0,O.Ko)(this,y),(0,O.Ko)(this,b),(0,O.Ko)(this,v),(0,O.Ko)(this,D),(0,O.ov)(this,"id","walletConnect"),(0,O.ov)(this,"name","WalletConnect"),(0,O.ov)(this,"ready",!0),(0,O.Ko)(this,n,void 0),(0,O.Ko)(this,i,void 0),(0,O.ov)(this,"onAccountsChanged",e=>{0===e.length?this.emit("disconnect"):this.emit("change",{account:(0,U.K)(e[0])})}),(0,O.ov)(this,"onChainChanged",e=>{let t=Number(e),r=this.isChainUnsupported(t);this.emit("change",{chain:{id:t,unsupported:r}})}),(0,O.ov)(this,"onDisconnect",()=>{(0,O.U9)(this,y,m).call(this,[]),this.emit("disconnect")}),(0,O.ov)(this,"onDisplayUri",e=>{this.emit("message",{type:"display_uri",data:e})}),(0,O.ov)(this,"onConnect",()=>{this.emit("connect",{})}),(0,O.U9)(this,o,s).call(this)}async connect({chainId:e,pairingTopic:t}={}){try{let r=e;if(!r){let n=this.storage?.getItem("store"),i=n?.state?.data?.chain?.id;r=i&&!this.isChainUnsupported(i)?i:this.chains[0]?.id}if(!r)throw Error("No chains found on connector.");let o=await this.getProvider();(0,O.U9)(this,h,f).call(this);let s=(0,O.U9)(this,l,c).call(this);if(o.session&&s&&await o.disconnect(),!o.session||s){let a=this.chains.filter(e=>e.id!==r).map(e=>e.id);this.emit("message",{type:"connecting"}),await o.connect({pairingTopic:t,chains:[r],optionalChains:a.length?a:void 0}),(0,O.U9)(this,y,m).call(this,this.chains.map(({id:e})=>e))}let u=await o.enable(),d=(0,U.K)(u[0]),p=await this.getChainId(),b=this.isChainUnsupported(p);return{account:d,chain:{id:p,unsupported:b}}}catch(g){if(/user rejected/i.test(g?.message))throw new A.ab(g);throw g}}async disconnect(){let e=await this.getProvider();try{await e.disconnect()}catch(t){if(!/No matching key/i.test(t.message))throw t}finally{(0,O.U9)(this,d,p).call(this),(0,O.U9)(this,y,m).call(this,[])}}async getAccount(){let{accounts:e}=await this.getProvider();return(0,U.K)(e[0])}async getChainId(){let{chainId:e}=await this.getProvider();return e}async getProvider({chainId:e}={}){return(0,O.ac)(this,n)||await (0,O.U9)(this,o,s).call(this),e&&await this.switchChain(e),(0,O.ac)(this,n)}async getWalletClient({chainId:e}={}){let[t,r]=await Promise.all([this.getProvider({chainId:e}),this.getAccount()]),n=this.chains.find(t=>t.id===e);if(!t)throw Error("provider is required.");return(0,P.K)({account:r,chain:n,transport:(0,x.P)(t)})}async isAuthorized(){try{let[e,t]=await Promise.all([this.getAccount(),this.getProvider()]),r=(0,O.U9)(this,l,c).call(this);if(!e)return!1;if(r&&t.session){try{await t.disconnect()}catch{}return!1}return!0}catch{return!1}}async switchChain(e){let t=this.chains.find(t=>t.id===e);if(!t)throw new A.x3(Error("chain not found on connector."));try{let r=await this.getProvider(),n=(0,O.U9)(this,v,_).call(this),i=(0,O.U9)(this,D,w).call(this),o=n.includes(e);if(!o&&i.includes(T)){await r.request({method:T,params:[{chainId:(0,I.eC)(t.id),blockExplorerUrls:[t.blockExplorers?.default?.url],chainName:t.name,nativeCurrency:t.nativeCurrency,rpcUrls:[...t.rpcUrls.default.http]}]});let s=(0,O.U9)(this,b,g).call(this);s.push(e),(0,O.U9)(this,y,m).call(this,s)}return await r.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,I.eC)(e)}]}),t}catch(u){let a="string"==typeof u?u:u?.message;if(/user rejected request/i.test(a))throw new A.ab(u);throw new A.x3(u)}}};n=new WeakMap,i=new WeakMap,o=new WeakSet,s=async function(){return(0,O.ac)(this,i)||"undefined"==typeof window||(0,O.qx)(this,i,(0,O.U9)(this,a,u).call(this)),(0,O.ac)(this,i)},a=new WeakSet,u=async function(){let{EthereumProvider:e,OPTIONAL_EVENTS:t,OPTIONAL_METHODS:i}=await r.e(8430).then(r.bind(r,98430)),[o,...s]=this.chains.map(({id:e})=>e);if(o){let{projectId:a,showQrModal:u=!0,qrModalOptions:l,metadata:c,relayUrl:h}=this.options;(0,O.qx)(this,n,await e.init({showQrModal:u,qrModalOptions:l,projectId:a,optionalMethods:i,optionalEvents:t,chains:[o],optionalChains:s.length?s:void 0,rpcMap:Object.fromEntries(this.chains.map(e=>[e.id,e.rpcUrls.default.http[0]])),metadata:c,relayUrl:h}))}},l=new WeakSet,c=function(){let e=(0,O.U9)(this,D,w).call(this);if(e.includes(T)||!this.options.isNewChainsStale)return!1;let t=(0,O.U9)(this,b,g).call(this),r=this.chains.map(({id:e})=>e),n=(0,O.U9)(this,v,_).call(this);return(!n.length||!!n.some(e=>r.includes(e)))&&!r.every(e=>t.includes(e))},h=new WeakSet,f=function(){(0,O.ac)(this,n)&&((0,O.U9)(this,d,p).call(this),(0,O.ac)(this,n).on("accountsChanged",this.onAccountsChanged),(0,O.ac)(this,n).on("chainChanged",this.onChainChanged),(0,O.ac)(this,n).on("disconnect",this.onDisconnect),(0,O.ac)(this,n).on("session_delete",this.onDisconnect),(0,O.ac)(this,n).on("display_uri",this.onDisplayUri),(0,O.ac)(this,n).on("connect",this.onConnect))},d=new WeakSet,p=function(){(0,O.ac)(this,n)&&((0,O.ac)(this,n).removeListener("accountsChanged",this.onAccountsChanged),(0,O.ac)(this,n).removeListener("chainChanged",this.onChainChanged),(0,O.ac)(this,n).removeListener("disconnect",this.onDisconnect),(0,O.ac)(this,n).removeListener("session_delete",this.onDisconnect),(0,O.ac)(this,n).removeListener("display_uri",this.onDisplayUri),(0,O.ac)(this,n).removeListener("connect",this.onConnect))},y=new WeakSet,m=function(e){this.storage?.setItem(N,e)},b=new WeakSet,g=function(){return this.storage?.getItem(N)??[]},v=new WeakSet,_=function(){if(!(0,O.ac)(this,n))return[];let e=O.ac(this,n).session?.namespaces;if(!e)return[];let t=(0,C.fK)(e),r=t[k]?.chains?.map(e=>parseInt(e.split(":")[1]||""));return r??[]},D=new WeakSet,w=function(){if(!(0,O.ac)(this,n))return[];let e=O.ac(this,n).session?.namespaces;if(!e)return[];let t=(0,C.fK)(e),r=t[k]?.methods;return r??[]};class R{constructor(e,t){this.wagmi={},this.chains=[],this.namespace="eip155",this.disconnect=E.zP,this.getAccount=E.D0,this.watchAccount=E.uH,this.fetchBalance=E.EG,this.getNetwork=E.Hy,this.watchNetwork=E.QC,this.switchNetwork=E.If,this.fetchEnsName=E.Lk,this.fetchEnsAvatar=E.w6,this.wagmi=e,this.chains=t}getWalletConnectConnector(){let e=this.wagmi.connectors.find(e=>"walletConnect"===e.id);if(!e)throw Error("WalletConnectConnector is required");return e}async connectWalletConnectProvider(e,t){return await e.getProvider(),new Promise(r=>{e.once("message",e=>{"display_uri"===e.type&&(t(e.data),r())})})}getConnectorById(e){let t=this.wagmi.connectors.find(t=>t.id===e);if(!t)throw Error(`Connector for id ${e} was not found`);return t}getConnectors(){return this.wagmi.connectors.filter(e=>!e.id.includes("walletConnect"))}async connectWalletConnect(e,t){let r=this.getWalletConnectConnector(),n={connector:r};return t&&(n.chainId=t),Promise.all([(0,E.$j)(n),this.connectWalletConnectProvider(r,e)])}async connectConnector(e,t){let r={connector:this.getConnectorById(e)};return t&&(r.chainId=t),await (0,E.$j)(r)}isInjectedProviderInstalled(){return"u">typeof window.ethereum}safeCheckInjectedProvider(e){var t;try{let r=String(e);return Boolean(null==(t=window.ethereum)?void 0:t[r])}catch(n){return console.error(n),!1}}async getConnectedChainIds(){var e,t,r;let n=null==(t=null==(e=(await this.getWalletConnectConnector().getProvider()).signer)?void 0:e.session)?void 0:t.namespaces,i=null==(r=n?.[this.namespace])?void 0:r.methods;if(null!=i&&i.includes("wallet_addEthereumChain"))return"ALL";if(n){let o=[];return Object.keys(n).forEach(e=>{e.includes(this.namespace)&&o.push(...n[e].accounts)}),o?.map(e=>e.split(":")[1])}return"ALL"}}function F({projectId:e}){return function({rpc:e}){return function(t){let r=e(t);return r&&""!==r.http?{chain:{...t,rpcUrls:{...t.rpcUrls,default:{http:[r.http]}}},rpcUrls:{http:[r.http],webSocket:r.webSocket?[r.webSocket]:void 0}}:null}}({rpc:t=>{var r;return[1,3,4,5,10,42,56,69,97,100,137,280,324,420,42161,42220,43114,80001,421611,421613,1313161554,1313161555].includes(t.id)?{http:`https://rpc.walletconnect.com/v1/?chainId=eip155:${t.id}&projectId=${e}`}:{http:t.rpcUrls.default.http[0],webSocket:null==(r=t.rpcUrls.default.webSocket)?void 0:r[0]}}})}function M({chains:e,projectId:t}){return[new j({chains:e,options:{projectId:t,showQrModal:!1}}),new S._({chains:e,options:{shimDisconnect:!0}})]}},86501:function(e,t,r){"use strict";let n,i;r.d(t,{x7:function(){return ei},ZP:function(){return eo},Am:function(){return M}});var o,s=r(67294);let a={data:""},u=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||a,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,c=/\/\*[^]*?\*\/|  +/g,h=/\n+/g,f=(e,t)=>{let r="",n="",i="";for(let o in e){let s=e[o];"@"==o[0]?"i"==o[1]?r=o+" "+s+";":n+="f"==o[1]?f(s,o):o+"{"+f(s,"k"==o[1]?"":t)+"}":"object"==typeof s?n+=f(s,t?t.replace(/([^,])+/g,e=>o.replace(/(^:.*)|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):o):null!=s&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=f.p?f.p(o,s):o+":"+s+";")}return r+(t&&i?t+"{"+i+"}":i)+n},d={},p=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+p(e[r]);return t}return e},y=(e,t,r,n,i)=>{var o,s;let a=p(e),u=d[a]||(d[a]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(a));if(!d[u]){let y=a!==e?e:(e=>{let t,r,n=[{}];for(;t=l.exec(e.replace(c,""));)t[4]?n.shift():t[3]?(r=t[3].replace(h," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(h," ").trim();return n[0]})(e);d[u]=f(i?{["@keyframes "+u]:y}:y,r?"":"."+u)}let m=r&&d.g?d.g:null;return r&&(d.g=d[u]),o=d[u],s=t,m?s.data=s.data.replace(m,o):-1===s.data.indexOf(o)&&(s.data=n?o+s.data:s.data+o),u},m=(e,t,r)=>e.reduce((e,n,i)=>{let o=t[i];if(o&&o.call){let s=o(r),a=s&&s.props&&s.props.className||/^go/.test(s)&&s;o=a?"."+a:s&&"object"==typeof s?s.props?"":f(s,""):!1===s?"":s}return e+n+(null==o?"":o)},"");function b(e){let t=this||{},r=e.call?e(t.p):e;return y(r.unshift?r.raw?m(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,u(t.target),t.g,t.o,t.k)}b.bind({g:1});let g,v,_,D=b.bind({k:1});function w(e,t){let r=this||{};return function(){let n=arguments;function i(o,s){let a=Object.assign({},o),u=a.className||i.className;r.p=Object.assign({theme:v&&v()},a),r.o=/ *go\d+/.test(u),a.className=b.apply(r,n)+(u?" "+u:""),t&&(a.ref=s);let l=e;return e[0]&&(l=a.as||e,delete a.as),_&&l[0]&&_(a),g(l,a)}return t?t(i):i}}var E=e=>"function"==typeof e,S=(e,t)=>E(e)?e(t):e,O=(n=0,()=>(++n).toString()),C=()=>{if(void 0===i&&"u">typeof window){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i},U=new Map,A=e=>{if(U.has(e))return;let t=setTimeout(()=>{U.delete(e),N({type:4,toastId:e})},1e3);U.set(e,t)},P=e=>{let t=U.get(e);t&&clearTimeout(t)},x=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&P(t.toast.id),{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:r}=t;return e.toasts.find(e=>e.id===r.id)?x(e,{type:1,toast:r}):x(e,{type:0,toast:r});case 3:let{toastId:n}=t;return n?A(n):e.toasts.forEach(e=>{A(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+i}))}}},I=[],k={toasts:[],pausedAt:void 0},N=e=>{k=x(k,e),I.forEach(e=>{e(k)})},T={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},j=(e={})=>{let[t,r]=(0,s.useState)(k);(0,s.useEffect)(()=>(I.push(r),()=>{let e=I.indexOf(r);e>-1&&I.splice(e,1)}),[t]);let n=t.toasts.map(t=>{var r,n;return{...e,...e[t.type],...t,duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||T[t.type],style:{...e.style,...null==(n=e[t.type])?void 0:n.style,...t.style}}});return{...t,toasts:n}},R=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(null==r?void 0:r.id)||O()}),F=e=>(t,r)=>{let n=R(t,e,r);return N({type:2,toast:n}),n.id},M=(e,t)=>F("blank")(e,t);M.error=F("error"),M.success=F("success"),M.loading=F("loading"),M.custom=F("custom"),M.dismiss=e=>{N({type:3,toastId:e})},M.remove=e=>N({type:4,toastId:e}),M.promise=(e,t,r)=>{let n=M.loading(t.loading,{...r,...null==r?void 0:r.loading});return e.then(e=>(M.success(S(t.success,e),{id:n,...r,...null==r?void 0:r.success}),e)).catch(e=>{M.error(S(t.error,e),{id:n,...r,...null==r?void 0:r.error})}),e};var L=(e,t)=>{N({type:1,toast:{id:e,height:t}})},B=()=>{N({type:5,time:Date.now()})},H=e=>{let{toasts:t,pausedAt:r}=j(e);(0,s.useEffect)(()=>{if(r)return;let e=Date.now(),n=t.map(t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(r<0){t.visible&&M.dismiss(t.id);return}return setTimeout(()=>M.dismiss(t.id),r)});return()=>{n.forEach(e=>e&&clearTimeout(e))}},[t,r]);let n=(0,s.useCallback)(()=>{r&&N({type:6,time:Date.now()})},[r]),i=(0,s.useCallback)((e,r)=>{let{reverseOrder:n=!1,gutter:i=8,defaultPosition:o}=r||{},s=t.filter(t=>(t.position||o)===(e.position||o)&&t.height),a=s.findIndex(t=>t.id===e.id),u=s.filter((e,t)=>t<a&&e.visible).length;return s.filter(e=>e.visible).slice(...n?[u+1]:[0,u]).reduce((e,t)=>e+(t.height||0)+i,0)},[t]);return{toasts:t,handlers:{updateHeight:L,startPause:B,endPause:n,calculateOffset:i}}},q=w("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${D`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${D`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${D`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$=w("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${D`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`} 1s linear infinite;
`,K=w("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${D`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${D`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,z=w("div")`
  position: absolute;
`,W=w("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,V=w("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${D`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Q=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return void 0!==t?"string"==typeof t?s.createElement(V,null,t):t:"blank"===r?null:s.createElement(W,null,s.createElement($,{...n}),"loading"!==r&&s.createElement(z,null,"error"===r?s.createElement(q,{...n}):s.createElement(K,{...n})))},G=e=>`
0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Y=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}
`,X=w("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Z=w("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,J=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=C()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[G(r),Y(r)];return{animation:t?`${D(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${D(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ee=s.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?J(e.position||t||"top-center",e.visible):{opacity:0},o=s.createElement(Q,{toast:e}),a=s.createElement(Z,{...e.ariaProps},S(e.message,e));return s.createElement(X,{className:e.className,style:{...i,...r,...e.style}},"function"==typeof n?n({icon:o,message:a}):s.createElement(s.Fragment,null,o,a))});o=s.createElement,f.p=void 0,g=o,v=void 0,_=void 0;var et=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let o=s.useCallback(t=>{if(t){let r=()=>{n(e,t.getBoundingClientRect().height)};r(),new MutationObserver(r).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return s.createElement("div",{ref:o,className:t,style:r},i)},er=(e,t)=>{let r=e.includes("top"),n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:C()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...r?{top:0}:{bottom:0},...n}},en=b`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ei=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,containerStyle:o,containerClassName:a})=>{let{toasts:u,handlers:l}=H(r);return s.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},u.map(r=>{let o=r.position||t,a=er(o,l.calculateOffset(r,{reverseOrder:e,gutter:n,defaultPosition:t}));return s.createElement(et,{id:r.id,key:r.id,onHeightUpdate:l.updateHeight,className:r.visible?en:"",style:a},"custom"===r.type?S(r.message,r):i?i(r):s.createElement(ee,{toast:r,position:o}))}))},eo=M}}]);