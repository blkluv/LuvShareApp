(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[858],{36093:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/account",function(){return t(99893)}])},66167:function(e,s,t){"use strict";t.d(s,{B:function(){return r}});var l=t(85893);let r=e=>{let{title:s,error:t,className:r=""}=e;return t?(0,l.jsxs)("div",{className:"space-y-1 rounded-xl border-2 border-red-500/50 bg-red-50 p-4 dark:bg-red-900/10 ".concat(r),children:[s&&(0,l.jsx)("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:s}),(0,l.jsx)("div",{className:"text-sm text-red-700 dark:text-red-200",children:null==t?void 0:t.message})]}):null}},32774:function(e,s,t){"use strict";t.d(s,{Z:function(){return y}});var l=t(85893),r=t(92882),n=t(53914),a=t(41113),i=t(4876),c=t(55263),o=t(33137),d=t(28771),u=t(5083),x=t(63750),h=t(86010),m=t(41664),f=t.n(m),p=t(11163);let v=e=>{let{children:s,current:t,url:r}=e;return(0,l.jsx)(f(),{href:r,className:(0,h.Z)({"bg-brand-100 dark:bg-brand-300/20 text-brand font-bold":t},"hover:bg-brand-100/80 dark:hover:bg-brand-300/30","flex items-center space-x-2 rounded-lg px-3 py-2"),children:s})},g=e=>{var s;let{items:t}=e,{pathname:r}=(0,p.useRouter)(),n=t.map(e=>({...e,enabled:null===(s=e.enabled)||void 0===s||s}));return(0,l.jsx)("div",{className:"mb-4 space-y-1.5 px-3 sm:px-0",children:n.map(e=>(null==e?void 0:e.enabled)?(0,l.jsxs)(v,{current:r===e.url||e.active,url:e.url,children:[e.icon,(0,l.jsx)("div",{children:e.title})]},e.title):null)})};var j=t(36595);t(67294);let C=e=>(0,l.jsx)("svg",{...e,viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 0.25C11.4142 0.25 11.75 0.585786 11.75 1V2C11.75 2.41421 11.4142 2.75 11 2.75C10.5858 2.75 10.25 2.41421 10.25 2V1C10.25 0.585786 10.5858 0.25 11 0.25ZM3.39861 3.39861C3.6915 3.10572 4.16638 3.10572 4.45927 3.39861L4.85211 3.79145C5.145 4.08434 5.145 4.55921 4.85211 4.85211C4.55921 5.145 4.08434 5.145 3.79145 4.85211L3.39861 4.45927C3.10572 4.16638 3.10572 3.6915 3.39861 3.39861ZM18.6011 3.39887C18.894 3.69176 18.894 4.16664 18.6011 4.45953L18.2083 4.85237C17.9154 5.14526 17.4405 5.14526 17.1476 4.85237C16.8547 4.55947 16.8547 4.0846 17.1476 3.79171L17.5405 3.39887C17.8334 3.10598 18.3082 3.10598 18.6011 3.39887ZM11 5.75C8.1005 5.75 5.75 8.1005 5.75 11C5.75 13.8995 8.1005 16.25 11 16.25C13.8995 16.25 16.25 13.8995 16.25 11C16.25 8.1005 13.8995 5.75 11 5.75ZM4.25 11C4.25 7.27208 7.27208 4.25 11 4.25C14.7279 4.25 17.75 7.27208 17.75 11C17.75 14.7279 14.7279 17.75 11 17.75C7.27208 17.75 4.25 14.7279 4.25 11ZM0.25 11C0.25 10.5858 0.585786 10.25 1 10.25H2C2.41421 10.25 2.75 10.5858 2.75 11C2.75 11.4142 2.41421 11.75 2 11.75H1C0.585786 11.75 0.25 11.4142 0.25 11ZM19.25 11C19.25 10.5858 19.5858 10.25 20 10.25H21C21.4142 10.25 21.75 10.5858 21.75 11C21.75 11.4142 21.4142 11.75 21 11.75H20C19.5858 11.75 19.25 11.4142 19.25 11ZM17.1476 17.1476C17.4405 16.8547 17.9154 16.8547 18.2083 17.1476L18.6011 17.5405C18.894 17.8334 18.894 18.3082 18.6011 18.6011C18.3082 18.894 17.8334 18.894 17.5405 18.6011L17.1476 18.2083C16.8547 17.9154 16.8547 17.4405 17.1476 17.1476ZM4.85211 17.1479C5.145 17.4408 5.145 17.9157 4.85211 18.2086L4.45927 18.6014C4.16638 18.8943 3.6915 18.8943 3.39861 18.6014C3.10572 18.3085 3.10572 17.8336 3.39861 17.5407L3.79145 17.1479C4.08434 16.855 4.55921 16.855 4.85211 17.1479ZM11 19.25C11.4142 19.25 11.75 19.5858 11.75 20V21C11.75 21.4142 11.4142 21.75 11 21.75C10.5858 21.75 10.25 21.4142 10.25 21V20C10.25 19.5858 10.5858 19.25 11 19.25Z",fill:"currentColor"})}),b=e=>(0,l.jsx)("svg",{viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0174 1.80157C5.37072 2.29221 1.75 6.22328 1.75 11C1.75 16.1086 5.89137 20.25 11 20.25C15.7767 20.25 19.7078 16.6293 20.1984 11.9826C18.8717 13.6669 16.8126 14.75 14.5 14.75C10.4959 14.75 7.25 11.5041 7.25 7.5C7.25 5.18738 8.33315 3.1283 10.0174 1.80157ZM0.25 11C0.25 5.06294 5.06294 0.25 11 0.25C11.7166 0.25 12.0754 0.821258 12.1368 1.27627C12.196 1.71398 12.0342 2.27065 11.531 2.57467C9.86266 3.5828 8.75 5.41182 8.75 7.5C8.75 10.6756 11.3244 13.25 14.5 13.25C16.5882 13.25 18.4172 12.1373 19.4253 10.469C19.7293 9.96584 20.286 9.80404 20.7237 9.86316C21.1787 9.92461 21.75 10.2834 21.75 11C21.75 16.9371 16.9371 21.75 11 21.75C5.06294 21.75 0.25 16.9371 0.25 11Z",fill:"currentColor"})});var N=t(82010);let w=()=>{let e=(0,r.qr)(e=>e.currentProfile),{theme:s,setTheme:t}=(0,N.F)();return(0,l.jsxs)("div",{className:"mb-4 space-y-1.5 px-3 sm:px-0",children:[(0,l.jsx)("div",{}),(0,l.jsxs)("div",{className:"pb-3",children:[(0,l.jsx)(n.Z,{profile:e,showUserPreview:!1}),(0,l.jsx)("button",{type:"button",className:"flex items-center space-x-2 px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>{t("dark"===s?"light":"dark")},children:"dark"===s?(0,l.jsx)(C,{className:"h-4 w-4"}):(0,l.jsx)(b,{className:"h-4 w-4"})})]}),(0,l.jsx)(g,{items:[{title:"Profile",icon:(0,l.jsx)(a.Z,{className:"h-4 w-4"}),url:"/settings"},{title:"Account",icon:(0,l.jsx)(i.Z,{className:"h-4 w-4"}),url:"/settings/account"},{title:"Interests",icon:(0,l.jsx)(c.Z,{className:"h-4 w-4"}),url:"/settings/interests"},{title:"Dispatcher",icon:(0,l.jsx)(o.Z,{className:"h-4 w-4"}),url:"/settings/dispatcher"},{title:"Allowance",icon:(0,l.jsx)(d.Z,{className:"h-4 w-4"}),url:"/settings/allowance"},{title:"Cleanup",icon:(0,l.jsx)(u.Z,{className:"h-4 w-4"}),url:"/settings/cleanup"},{title:"Export",icon:(0,l.jsx)(x.oxP,{className:"h-4 w-4"}),url:"/settings/export"},{title:(0,l.jsx)("div",{className:"text-red-500",children:"Danger Zone"}),icon:(0,l.jsx)(x.Vgl,{className:"h-4 w-4 text-red-500"}),url:"/settings/delete"}]}),(0,l.jsx)("div",{children:(0,l.jsx)(j.Z,{})})]})};var y=w},21094:function(e,s,t){"use strict";t.d(s,{Me:function(){return r},ST:function(){return n},VK:function(){return a}});var l=t(85893);let r=e=>{let{children:s,className:t="",classNameChild:r=""}=e;return(0,l.jsx)("div",{className:"container mx-auto max-w-screen-xl grow px-0 pb-2 pt-8 sm:px-5 ".concat(t),children:(0,l.jsx)("div",{className:"grid grid-cols-12 lg:gap-8 ".concat(r),children:s})})},n=e=>{let{children:s,className:t=""}=e;return(0,l.jsx)("div",{className:"col-span-12 md:col-span-12 lg:col-span-4 ".concat(t),children:s})},a=e=>{let{children:s,className:t=""}=e;return(0,l.jsx)("div",{className:"col-span-12 mb-5 md:col-span-12 lg:col-span-8 ".concat(t),children:s})}},41741:function(e,s,t){"use strict";var l,r;t.d(s,{D:function(){return l}}),(r=l||(l={})).SomethingWentWrong="Something went wrong!",r.SignWallet="Please sign in your wallet.",r.InvalidAccesstoken="InvalidAccesstoken"},64911:function(e,s){"use strict";let t=(e,s)=>{let{[s]:t,...l}=e;return l},l=e=>{let{domain:s,types:l,value:r}=e;return{primaryType:Object.keys(t(l,"__typename"))[0],domain:t(s,"__typename"),types:t(l,"__typename"),message:t(r,"__typename")}};s.Z=l},50680:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return d}});var l=t(85893),r=t(29780),n=t(9008),a=t.n(n),i=t(41664),c=t.n(i);t(67294);var o=t(5649);function d(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a(),{children:(0,l.jsx)("title",{children:"404"})}),(0,l.jsxs)("div",{className:"mt-10 flex h-full flex-col items-center justify-start md:mt-20",children:[(0,l.jsx)("img",{src:"".concat(o.Fv,"/images/icon.png"),alt:o.iC,draggable:!1,height:200,width:200}),(0,l.jsxs)("div",{className:"py-10 text-center",children:[(0,l.jsx)("h1",{className:"mb-4 text-3xl font-bold",children:"404"}),(0,l.jsx)("div",{className:"mb-6",children:"This page could not be found."}),(0,l.jsx)(c(),{href:"/",children:(0,l.jsx)(r.z,{children:"Go Home"})})]})]})]})}},99893:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return M}});var l=t(85893),r=t(50680),n=t(92882),a=t(32774),i=t(20674),c=t(66167),o=t(53914),d=t(29780),u=t(11761),x=t(33962),h=t(5649),m=t(41741),f=t(64911),p=t(70769),v=t(29451),g=t(68980),j=t(48974),C=t(67294),b=t(86501),N=t(63750),w=t(5678),y=t(31618);let Z=()=>{let e=(0,n.qr)(e=>e.profiles),s=(0,n.qr)(e=>e.currentProfile),t=(0,p.p)(e=>e.userSigNonce),a=(0,p.p)(e=>e.setUserSigNonce),[Z,_]=(0,C.useState)(""),[k,S]=(0,C.useState)(!1),M=e=>{"RelayError"!==e&&(S(!1),b.ZP.success("Default profile updated successfully!"))},P=e=>{S(!1)},{signTypedDataAsync:D}=(0,y.yw)({onError:P}),{error:E,write:R}=(0,y.GG)({address:h.Nm,abi:i.O,functionName:"setDefaultProfile",onSuccess:()=>{M(),a(t+1)},onError:e=>{P(e),a(t-1)}}),L=Boolean(e.find(e=>e.isDefault)),T=null==e?void 0:e.sort((e,s)=>e.isDefault===s.isDefault?0:e.isDefault?-1:1);(0,w.qR)(()=>{var e;_(null===(e=T[0])||void 0===e?void 0:e.id)});let[V]=(0,g.lAu)({onCompleted:e=>{let{broadcast:s}=e;return M(s.__typename)}}),[q]=(0,g.oTM)({onCompleted:async e=>{let{createSetDefaultProfileTypedData:s}=e,{id:t,typedData:l}=s,r=await D((0,f.Z)(l)),{data:n}=await V({variables:{request:{id:t,signature:r}}});if((null==n?void 0:n.broadcast.__typename)==="RelayError"){let{profileId:a}=l.value;return null==R?void 0:R({args:[a]})}},onError:P}),A=async()=>{if(!s)return b.ZP.error(m.D.SignWallet);try{return S(!0),await q({variables:{options:{overrideSigNonce:t},request:{profileId:Z}}})}catch(e){P(e)}};return s?(0,l.jsxs)(u.Z,{className:"space-y-5 p-5",children:[E&&(0,l.jsx)(c.B,{title:"Transaction failed!",error:E}),L?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"text-lg font-bold",children:"Your default profile"}),(0,l.jsx)(o.Z,{profile:T[0]})]}):(0,l.jsxs)("div",{className:"flex items-center space-x-1.5 font-bold text-yellow-500",children:[(0,l.jsx)(N.Vgl,{className:"h-5 w-5"}),(0,l.jsx)("div",{children:"You don't have any default profile set!"})]}),(0,l.jsx)("div",{className:"text-lg font-bold",children:"Select default profile"}),(0,l.jsxs)("p",{children:["Selecting your default account helps to display the selected profile across ",h.iC,", you can change your default profile anytime."]}),(0,l.jsx)("div",{className:"text-lg font-bold",children:"What else you should know"}),(0,l.jsxs)("div",{className:"lt-text-gray-500 divide-y text-sm dark:divide-gray-700",children:[(0,l.jsxs)("p",{className:"pb-3",children:["Only the default profile will be visible across the ",h.iC,", example notifications, follow etc."]}),(0,l.jsx)("p",{className:"py-3",children:"You can change default profile anytime here."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"label",children:"Select profile"}),(0,l.jsx)("select",{className:"focus:border-brand-500 focus:ring-brand-400 w-full rounded-xl border border-gray-300 bg-white dark:bg-gray-900/70 outline-none dark:border-gray-700 ",onChange:e=>_(e.target.value),children:null==T?void 0:T.map(e=>(0,l.jsxs)("option",{value:null==e?void 0:e.id,children:["@",(0,v.Z)(null==e?void 0:e.handle)]},null==e?void 0:e.id))})]}),(0,l.jsx)(d.z,{className:"ml-auto",type:"submit",disabled:k,onClick:A,icon:k?(0,l.jsx)(x.$,{size:"xs"}):(0,l.jsx)(j.Z,{className:"h-4 w-4"}),children:"Save"})]}):(0,l.jsx)(r.default,{})};var _=t(21094),k=t(11281);let S=()=>{let e=(0,n.qr)(e=>e.currentProfile);return e?(0,l.jsxs)(_.Me,{children:[(0,l.jsx)(k.Z,{title:"Account settings • ".concat(h.iC)}),(0,l.jsx)(_.ST,{children:(0,l.jsx)(a.Z,{})}),(0,l.jsx)(_.VK,{className:"space-y-5",children:(0,l.jsx)(Z,{})})]}):(0,l.jsx)(r.default,{})};var M=S},70769:function(e,s,t){"use strict";t.d(s,{p:function(){return n}});var l=t(73445),r=t(782);let n=(0,l.Ue)((0,r.XR)(e=>({userSigNonce:0,setUserSigNonce:s=>e(()=>({userSigNonce:s}))})))}},function(e){e.O(0,[4980,2013,5445,9866,1228,9498,1664,1618,1692,2697,2100,8649,1257,496,6781,4732,674,3463,9774,2888,179],function(){return e(e.s=36093)}),_N_E=e.O()}]);