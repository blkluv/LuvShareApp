(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9603,3463],{4896:function(e,t,n){"use strict";function r(e){return e}function i(e){let t={subscribe(t){let n=null,r=!1,i=!1,a=!1;function o(){if(null===n){a=!0;return}!i&&(i=!0,"function"==typeof n?n():n&&n.unsubscribe())}return n=e({next(e){r||t.next?.(e)},error(e){r||(r=!0,t.error?.(e),o())},complete(){r||(r=!0,t.complete?.(),o())}}),a&&o(),{unsubscribe:o}},pipe:(...e)=>(0===e.length?r:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)})(t)};return t}n.d(t,{Y_:function(){return eW},XY:function(){return e$}});class a extends Error{constructor(e){super(e),this.name="ObservableAbortError",Object.setPrototypeOf(this,a.prototype)}}class o extends Error{static from(e,t={}){return e instanceof Error?e instanceof o||"TRPCClientError"===e.name?(t.meta&&(e.meta={...e.meta,...t.meta}),e):new o(e.message,{...t,cause:e,result:null}):new o(e.error.message??"",{...t,cause:void 0,result:e})}constructor(e,t){let n=t?.cause;super(e,{cause:n}),this.meta=t?.meta,this.cause=n,this.shape=t?.result?.error,this.data=t?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,o.prototype)}}function s(e){let t=Object.create(null);for(let n in e){let r=e[n];t[r]=n}return t}let l={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};s(l),s(l);let u=()=>{},c=e=>(function e(t,n){let r=new Proxy(u,{get(r,i){if("string"==typeof i&&"then"!==i)return e(t,[...n,i])},apply(e,r,i){let a="apply"===n[n.length-1];return t({args:a?i.length>=2?i[1]:[]:i,path:a?n.slice(0,-1):n})}});return r})(e,[]),d=e=>new Proxy(u,{get(t,n){if("string"==typeof n&&"then"!==n)return e(n)}}),h=e=>"function"==typeof e;function p(e){var t;return{url:e.url,fetch:e.fetch,AbortController:(t=e.AbortController)?t:"undefined"!=typeof window&&window.AbortController?window.AbortController:"undefined"!=typeof globalThis&&globalThis.AbortController?globalThis.AbortController:null}}let f={query:"GET",mutation:"POST"};function m(e){return"input"in e?e.runtime.transformer.serialize(e.input):function(e){let t={};for(let n=0;n<e.length;n++){let r=e[n];t[n]=r}return t}(e.inputs.map(t=>e.runtime.transformer.serialize(t)))}let v=e=>{let t=e.url+"/"+e.path,n=[];if("inputs"in e&&n.push("batch=1"),"query"===e.type){let r=m(e);void 0!==r&&n.push(`input=${encodeURIComponent(JSON.stringify(r))}`)}return n.length&&(t+="?"+n.join("&")),t},g=e=>{if("query"===e.type)return;let t=m(e);return void 0!==t?JSON.stringify(t):void 0},y=e=>w({...e,contentTypeHeader:"application/json",getUrl:v,getBody:g});async function b(e,t){let n=e.getUrl(e),r=e.getBody(e),{type:i}=e,a=await e.headers();if("subscription"===i)throw Error("Subscriptions should use wsLink");let o={...e.contentTypeHeader?{"content-type":e.contentTypeHeader}:{},...e.batchModeHeader?{"trpc-batch-mode":e.batchModeHeader}:{},...a};return(function(e){if(e)return e;if("undefined"!=typeof window&&h(window.fetch))return window.fetch;if("undefined"!=typeof globalThis&&h(globalThis.fetch))return globalThis.fetch;throw Error("No fetch implementation found")})(e.fetch)(n,{method:f[i],signal:t?.signal,body:r,headers:o})}function w(e){let t=e.AbortController?new e.AbortController:null,n={},r=new Promise((r,i)=>{b(e,t).then(e=>(n.response=e,e.json())).then(e=>{n.responseJSON=e,r({json:e,meta:n})}).catch(e=>{i(o.from(e,{meta:n}))})}),i=()=>{t?.abort()};return{promise:r,cancel:i}}function x(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}class _ extends Error{constructor(){super("Unable to transform response from server")}}function k(e,t){let n;try{n=function(e,t){if("error"in e){let n=t.transformer.deserialize(e.error);return{ok:!1,error:{...e,error:n}}}let r={...e.result,...(!e.result.type||"data"===e.result.type)&&{type:"data",data:t.transformer.deserialize(e.result.data)}};return{ok:!0,result:r}}(e,t)}catch(r){throw new _}if(!n.ok&&(!x(n.error.error)||"number"!=typeof n.error.error.code)||n.ok&&!x(n.result))throw new _;return n}let T=()=>{throw Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function E(e){let t=null,n=null,r=()=>{clearTimeout(n),n=null,t=null};function i(){let n=function(t){let n=[[]],r=0;for(;;){let i=t[r];if(!i)break;let a=n[n.length-1];if(i.aborted){i.reject?.(Error("Aborted")),r++;continue}let o=e.validate(a.concat(i).map(e=>e.key));if(o){a.push(i),r++;continue}if(0===a.length){i.reject?.(Error("Input is too big for a single dispatch")),r++;continue}n.push([])}return n}(t);for(let i of(r(),n)){if(!i.length)continue;let a={items:i,cancel:T};for(let o of i)o.batch=a;let s=(e,t)=>{let n=a.items[e];n.resolve?.(t),n.batch=null,n.reject=null,n.resolve=null},{promise:l,cancel:u}=e.fetch(a.items.map(e=>e.key),s);a.cancel=u,l.then(e=>{for(let t=0;t<e.length;t++){let n=e[t];s(t,n)}for(let r of a.items)r.reject?.(Error("Missing result")),r.batch=null}).catch(e=>{for(let t of a.items)t.reject?.(e),t.batch=null})}}return{load:function(e){let r={aborted:!1,key:e,batch:null,resolve:T,reject:T},a=new Promise((e,n)=>{r.reject=n,r.resolve=e,t||(t=[]),t.push(r)});n||(n=setTimeout(i));let o=()=>{r.aborted=!0,r.batch?.items.every(e=>e.aborted)&&(r.batch.cancel(),r.batch=null)};return{promise:a,cancel:o}}}}function C(e){return function(t){let n=p(t),r=t.maxURLLength??1/0;return a=>{let s=i=>{let o=e=>{if(r===1/0)return!0;let t=e.map(e=>e.path).join(","),o=e.map(e=>e.input),s=v({...n,runtime:a,type:i,path:t,inputs:o});return s.length<=r},s=e({...n,runtime:a,type:i,opts:t});return{validate:o,fetch:s}},l=E(s("query")),u=E(s("mutation")),c=E(s("subscription")),d={query:l,subscription:c,mutation:u};return({op:e})=>i(t=>{let n;let r=d[e.type],{promise:i,cancel:s}=r.load(e);return i.then(e=>{n=e;let r=k(e.json,a);if(!r.ok){t.error(o.from(r.error,{meta:e.meta}));return}t.next({context:e.meta,result:r.result}),t.complete()}).catch(e=>{t.error(o.from(e,{meta:n?.meta}))}),()=>{s()}})}}}let S=e=>t=>{let n=t.map(e=>e.path).join(","),r=t.map(e=>e.input),{promise:i,cancel:a}=y({...e,path:n,inputs:r,headers:()=>e.opts.headers?"function"==typeof e.opts.headers?e.opts.headers({opList:t}):e.opts.headers:{}});return{promise:i.then(e=>{let n=Array.isArray(e.json)?e.json:t.map(()=>e.json),r=n.map(t=>({meta:e.meta,json:t}));return r}),cancel:a}},j=C(S);function L(e){return t=>{let n=p(t);return r=>({op:a})=>i(i=>{let s;let{path:l,input:u,type:c}=a,{promise:d,cancel:h}=e.requester({...n,runtime:r,type:c,path:l,input:u,headers:()=>t.headers?"function"==typeof t.headers?t.headers({op:a}):t.headers:{}});return d.then(e=>{s=e.meta;let t=k(e.json,r);if(!t.ok){i.error(o.from(t.error,{meta:s}));return}i.next({context:e.meta,result:t.result}),i.complete()}).catch(e=>{i.error(o.from(e,{meta:s}))}),()=>{h()}})}}L({requester:y});class P{$request({type:e,input:t,path:n,context:r={}}){var a;let o=(a={links:this.links,op:{id:++this.requestId,type:e,path:n,input:t,context:r}},i(e=>{let t=function e(t=0,n=a.op){let r=a.links[t];if(!r)throw Error("No more links to execute - did you forget to add an ending link?");let i=r({op:n,next(n){let r=e(t+1,n);return r}});return i}();return t.subscribe(e)}));return o.pipe(e=>{let t=0,n=null,r=[];return{subscribe:i=>(t++,r.push(i),n||(n=e.subscribe({next(e){for(let t of r)t.next?.(e)},error(e){for(let t of r)t.error?.(e)},complete(){for(let e of r)e.complete?.()}})),{unsubscribe(){t--,function(){if(0===t&&n){let e=n;n=null,e.unsubscribe()}}();let e=r.findIndex(e=>e===i);e>-1&&r.splice(e,1)}})}})}requestAsPromise(e){let t=this.$request(e),{promise:n,abort:r}=function(e){let t;let n=new Promise((n,r)=>{let i=!1;function o(){i||(i=!0,r(new a("This operation was aborted.")),s.unsubscribe())}let s=e.subscribe({next(e){i=!0,n(e),o()},error(e){i=!0,r(e),o()},complete(){i=!0,o()}});t=o});return{promise:n,abort:t}}(t),i=new Promise((t,i)=>{e.signal?.addEventListener("abort",r),n.then(e=>{t(e.result.data)}).catch(e=>{i(o.from(e))})});return i}query(e,t,n){return this.requestAsPromise({type:"query",path:e,input:t,context:n?.context,signal:n?.signal})}mutation(e,t,n){return this.requestAsPromise({type:"mutation",path:e,input:t,context:n?.context,signal:n?.signal})}subscription(e,t,n){let r=this.$request({type:"subscription",path:e,input:t,context:n?.context});return r.subscribe({next(e){"started"===e.result.type?n.onStarted?.():"stopped"===e.result.type?n.onStopped?.():n.onData?.(e.result.data)},error(e){n.onError?.(e)},complete(){n.onComplete?.()}})}constructor(e){this.requestId=0;let t=(()=>{let t=e.transformer;return t?"input"in t?e.transformer:{input:t,output:t}:{input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}}})();this.runtime={transformer:{serialize:e=>t.input.serialize(e),deserialize:e=>t.output.deserialize(e)},combinedTransformer:t},this.links=e.links.map(e=>e(this.runtime))}}let M={query:"query",mutate:"mutation",subscribe:"subscription"},R=e=>M[e];async function I(e){let t=e.parse??JSON.parse,n=n=>{if(e.signal?.aborted||!n||"}"===n)return;let r=n.indexOf(":"),i=n.substring(2,r-1),a=n.substring(r+1);e.onSingle(Number(i),t(a))};await O(e.readableStream,n,e.textDecoder)}async function O(e,t,n){let r="",i=e=>{let i=n.decode(e),a=i.split("\n");if(1===a.length)r+=a[0];else if(a.length>1){t(r+a[0]);for(let o=1;o<a.length-1;o++)t(a[o]);r=a[a.length-1]}};"getReader"in e?await A(e,i):await new Promise(t=>{e.on("data",i),e.on("end",t)}),t(r)}async function A(e,t){let n=e.getReader(),r=await n.read();for(;!r.done;)t(r.value),r=await n.read()}let N=(e,t)=>{let n=e.AbortController?new e.AbortController:null,r=b({...e,contentTypeHeader:"application/json",batchModeHeader:"stream",getUrl:v,getBody:g},n),i=()=>n?.abort(),a=r.then(async r=>{if(!r.body)throw Error("Received response without body");let i={response:r};return I({readableStream:r.body,onSingle:t,parse:e=>({json:JSON.parse(e),meta:i}),signal:n?.signal,textDecoder:e.textDecoder})});return{cancel:i,promise:a}},D=e=>{let t=function(e){if(e)return e;if("undefined"!=typeof window&&window.TextDecoder)return new window.TextDecoder;if("undefined"!=typeof globalThis&&globalThis.TextDecoder)return new globalThis.TextDecoder;throw Error("No TextDecoder implementation found")}(e.opts.textDecoder);return(n,r)=>{let i=n.map(e=>e.path).join(","),a=n.map(e=>e.input),{cancel:o,promise:s}=N({...e,textDecoder:t,path:i,inputs:a,headers:()=>e.opts.headers?"function"==typeof e.opts.headers?e.opts.headers({opList:n}):e.opts.headers:{}},(e,t)=>{r(e,t)});return{promise:s.then(()=>[]),cancel:o}}};C(D);let q=e=>{if("input"in e){if(!(e.input instanceof FormData))throw Error("Input is not FormData");return e.input}},F=e=>{if("mutation"!==e.type)throw Error("We only handle mutations with formdata");return w({...e,getUrl:()=>`${e.url}/${e.path}`,getBody:q})};L({requester:F});var B,U,H,V=n(6154),Z=function(){function e(){this.keyToValue=new Map,this.valueToKey=new Map}return e.prototype.set=function(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)},e.prototype.getByKey=function(e){return this.keyToValue.get(e)},e.prototype.getByValue=function(e){return this.valueToKey.get(e)},e.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},e}(),z=function(){function e(e){this.generateIdentifier=e,this.kv=new Z}return e.prototype.register=function(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))},e.prototype.clear=function(){this.kv.clear()},e.prototype.getIdentifier=function(e){return this.kv.getByValue(e)},e.prototype.getValue=function(e){return this.kv.getByKey(e)},e}(),$=(B=function(e,t){return(B=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}B(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),W=function(e){function t(){var t=e.call(this,function(e){return e.name})||this;return t.classToAllowedProps=new Map,t}return $(t,e),t.prototype.register=function(t,n){"object"==typeof n?(n.allowProps&&this.classToAllowedProps.set(t,n.allowProps),e.prototype.register.call(this,t,n.identifier)):e.prototype.register.call(this,t,n)},t.prototype.getAllowedProps=function(e){return this.classToAllowedProps.get(e)},t}(z),Q=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o};function G(e,t){Object.entries(e).forEach(function(e){var n=Q(e,2),r=n[0];return t(n[1],r)})}function K(e,t){return -1!==e.indexOf(t)}function J(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r))return r}}var Y=function(){function e(){this.transfomers={}}return e.prototype.register=function(e){this.transfomers[e.name]=e},e.prototype.findApplicable=function(e){return function(e,t){var n=function(e){if("values"in Object)return Object.values(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}(e);if("find"in n)return n.find(t);for(var r=0;r<n.length;r++){var i=n[r];if(t(i))return i}}(this.transfomers,function(t){return t.isApplicable(e)})},e.prototype.findByName=function(e){return this.transfomers[e]},e}(),X=function(e){return void 0===e},ee=function(e){return"object"==typeof e&&null!==e&&e!==Object.prototype&&(null===Object.getPrototypeOf(e)||Object.getPrototypeOf(e)===Object.prototype)},et=function(e){return ee(e)&&0===Object.keys(e).length},en=function(e){return Array.isArray(e)},er=function(e){return e instanceof Map},ei=function(e){return e instanceof Set},ea=function(e){return"Symbol"===Object.prototype.toString.call(e).slice(8,-1)},eo=function(e){return"number"==typeof e&&isNaN(e)},es=function(e){return"boolean"==typeof e||null===e||X(e)||"number"==typeof e&&!isNaN(e)||"string"==typeof e||ea(e)},el=function(e){return e.replace(/\./g,"\\.")},eu=function(e){return e.map(String).map(el).join(".")},ec=function(e){for(var t=[],n="",r=0;r<e.length;r++){var i=e.charAt(r);if("\\"===i&&"."===e.charAt(r+1)){n+=".",r++;continue}if("."===i){t.push(n),n="";continue}n+=i}var a=n;return t.push(a),t},ed=function(){return(ed=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eh=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},ep=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function ef(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}var em=[ef(X,"undefined",function(){return null},function(){}),ef(function(e){return"bigint"==typeof e},"bigint",function(e){return e.toString()},function(e){return"undefined"!=typeof BigInt?BigInt(e):(console.error("Please add a BigInt polyfill."),e)}),ef(function(e){return e instanceof Date&&!isNaN(e.valueOf())},"Date",function(e){return e.toISOString()},function(e){return new Date(e)}),ef(function(e){return e instanceof Error},"Error",function(e,t){var n={name:e.name,message:e.message};return t.allowedErrorProps.forEach(function(t){n[t]=e[t]}),n},function(e,t){var n=Error(e.message);return n.name=e.name,n.stack=e.stack,t.allowedErrorProps.forEach(function(t){n[t]=e[t]}),n}),ef(function(e){return e instanceof RegExp},"regexp",function(e){return""+e},function(e){return RegExp(e.slice(1,e.lastIndexOf("/")),e.slice(e.lastIndexOf("/")+1))}),ef(ei,"set",function(e){return ep([],eh(e.values()))},function(e){return new Set(e)}),ef(er,"map",function(e){return ep([],eh(e.entries()))},function(e){return new Map(e)}),ef(function(e){var t;return eo(e)||(t=e)===1/0||t===-1/0},"number",function(e){return eo(e)?"NaN":e>0?"Infinity":"-Infinity"},Number),ef(function(e){return 0===e&&1/e==-1/0},"number",function(){return"-0"},Number),ef(function(e){return e instanceof URL},"URL",function(e){return e.toString()},function(e){return new URL(e)})];function ev(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}var eg=ev(function(e,t){return!!ea(e)&&!!t.symbolRegistry.getIdentifier(e)},function(e,t){return["symbol",t.symbolRegistry.getIdentifier(e)]},function(e){return e.description},function(e,t,n){var r=n.symbolRegistry.getValue(t[1]);if(!r)throw Error("Trying to deserialize unknown symbol");return r}),ey=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(e,t){return e[t.name]=t,e},{}),eb=ev(function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},function(e){return["typed-array",e.constructor.name]},function(e){return ep([],eh(e))},function(e,t){var n=ey[t[1]];if(!n)throw Error("Trying to deserialize unknown typed array");return new n(e)});function ew(e,t){return null!=e&&!!e.constructor&&!!t.classRegistry.getIdentifier(e.constructor)}var ex=ev(ew,function(e,t){return["class",t.classRegistry.getIdentifier(e.constructor)]},function(e,t){var n=t.classRegistry.getAllowedProps(e.constructor);if(!n)return ed({},e);var r={};return n.forEach(function(t){r[t]=e[t]}),r},function(e,t,n){var r=n.classRegistry.getValue(t[1]);if(!r)throw Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(r.prototype),e)}),e_=ev(function(e,t){return!!t.customTransformerRegistry.findApplicable(e)},function(e,t){return["custom",t.customTransformerRegistry.findApplicable(e).name]},function(e,t){return t.customTransformerRegistry.findApplicable(e).serialize(e)},function(e,t,n){var r=n.customTransformerRegistry.findByName(t[1]);if(!r)throw Error("Trying to deserialize unknown custom value");return r.deserialize(e)}),ek=[ex,eg,e_,eb],eT=function(e,t){var n=J(ek,function(n){return n.isApplicable(e,t)});if(n)return{value:n.transform(e,t),type:n.annotation(e,t)};var r=J(em,function(n){return n.isApplicable(e,t)});if(r)return{value:r.transform(e,t),type:r.annotation}},eE={};em.forEach(function(e){eE[e.annotation]=e});var eC=function(e,t,n){if(en(t))switch(t[0]){case"symbol":return eg.untransform(e,t,n);case"class":return ex.untransform(e,t,n);case"custom":return e_.untransform(e,t,n);case"typed-array":return eb.untransform(e,t,n);default:throw Error("Unknown transformation: "+t)}else{var r=eE[t];if(!r)throw Error("Unknown transformation: "+t);return r.untransform(e,n)}},eS=function(e,t){for(var n=e.keys();t>0;)n.next(),t--;return n.next().value};function ej(e){if(K(e,"__proto__"))throw Error("__proto__ is not allowed as a property");if(K(e,"prototype"))throw Error("prototype is not allowed as a property");if(K(e,"constructor"))throw Error("constructor is not allowed as a property")}var eL=function(e,t){ej(t);for(var n=0;n<t.length;n++){var r=t[n];if(ei(e))e=eS(e,+r);else if(er(e)){var i=+r,a=0==+t[++n]?"key":"value",o=eS(e,i);switch(a){case"key":e=o;break;case"value":e=e.get(o)}}else e=e[r]}return e},eP=function(e,t,n){if(ej(t),0===t.length)return n(e);for(var r=e,i=0;i<t.length-1;i++){var a=t[i];if(en(r))r=r[+a];else if(ee(r))r=r[a];else if(ei(r)){var o=+a;r=eS(r,o)}else if(er(r)){if(i===t.length-2)break;var o=+a,s=0==+t[++i]?"key":"value",l=eS(r,o);switch(s){case"key":r=l;break;case"value":r=r.get(l)}}}var u=t[t.length-1];if(en(r)?r[+u]=n(r[+u]):ee(r)&&(r[u]=n(r[u])),ei(r)){var c=eS(r,+u),d=n(c);c!==d&&(r.delete(c),r.add(d))}if(er(r)){var o=+t[t.length-2],h=eS(r,o),s=0==+u?"key":"value";switch(s){case"key":var p=n(h);r.set(p,r.get(h)),p!==h&&r.delete(h);break;case"value":r.set(h,n(r.get(h)))}}return e},eM=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},eR=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},eI=function(e,t,n,r,i){if(void 0===r&&(r=[]),void 0===i&&(i=[]),es(e)||(a=e,o=r,(l=(s=t).get(a))?l.push(o):s.set(a,[o])),!(ee(e)||en(e)||er(e)||ei(e)||ew(e,n))){var a,o,s,l,u,c=eT(e,n);return c?{transformedValue:c.value,annotations:[c.type]}:{transformedValue:e}}if(K(i,e))return{transformedValue:null};var d=eT(e,n),h=null!==(u=null==d?void 0:d.value)&&void 0!==u?u:e;es(e)||(i=eR(eR([],eM(i)),[e]));var p=en(h)?[]:{},f={};return(G(h,function(e,a){var o=eI(e,t,n,eR(eR([],eM(r)),[a]),i);p[a]=o.transformedValue,en(o.annotations)?f[a]=o.annotations:ee(o.annotations)&&G(o.annotations,function(e,t){f[el(a)+"."+t]=e})}),et(f))?{transformedValue:p,annotations:d?[d.type]:void 0}:{transformedValue:p,annotations:d?[d.type,f]:f}};function eO(e){return Object.prototype.toString.call(e).slice(8,-1)}function eA(e){return"Array"===eO(e)}var eN=function(){return(eN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eD=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o},eq=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},eF=function(){function e(){this.classRegistry=new W,this.symbolRegistry=new z(function(e){var t;return null!==(t=e.description)&&void 0!==t?t:""}),this.customTransformerRegistry=new Y,this.allowedErrorProps=[]}return e.prototype.serialize=function(e){var t,n,r=new Map,i=eI(e,r,this),a={json:i.transformedValue};i.annotations&&(a.meta=eN(eN({},a.meta),{values:i.annotations}));var o=(t={},n=void 0,(r.forEach(function(e){if(!(e.length<=1)){var r=eM(e.map(function(e){return e.map(String)}).sort(function(e,t){return e.length-t.length})),i=r[0],a=r.slice(1);0===i.length?n=a.map(eu):t[eu(i)]=a.map(eu)}}),n)?et(t)?[n]:[n,t]:et(t)?void 0:t);return o&&(a.meta=eN(eN({},a.meta),{referentialEqualities:o})),a},e.prototype.deserialize=function(e){var t,n,r,i=e.json,a=e.meta,o=function e(t,n={}){if(eA(t))return t.map(t=>e(t,n));if(!function(e){if("Object"!==eO(e))return!1;let t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}(t))return t;let r=Object.getOwnPropertyNames(t),i=Object.getOwnPropertySymbols(t);return[...r,...i].reduce((r,i)=>{if(eA(n.props)&&!n.props.includes(i))return r;let a=t[i],o=e(a,n);return function(e,t,n,r,i){let a=({}).propertyIsEnumerable.call(r,t)?"enumerable":"nonenumerable";"enumerable"===a&&(e[t]=n),i&&"nonenumerable"===a&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}(r,i,o,t,n.nonenumerable),r},{})}(i);return(null==a?void 0:a.values)&&(t=o,n=a.values,r=this,function e(t,n,r){if(void 0===r&&(r=[]),t){if(!en(t)){G(t,function(t,i){return e(t,n,eR(eR([],eM(r)),eM(ec(i))))});return}var i=eM(t,2),a=i[0],o=i[1];o&&G(o,function(t,i){e(t,n,eR(eR([],eM(r)),eM(ec(i))))}),n(a,r)}}(n,function(e,n){t=eP(t,n,function(t){return eC(t,e,r)})}),o=t),(null==a?void 0:a.referentialEqualities)&&(o=function(e,t){function n(t,n){var r=eL(e,ec(n));t.map(ec).forEach(function(t){e=eP(e,t,function(){return r})})}if(en(t)){var r=eM(t,2),i=r[0],a=r[1];i.forEach(function(t){e=eP(e,ec(t),function(){return e})}),a&&G(a,n)}else G(t,n);return e}(o,a.referentialEqualities)),o},e.prototype.stringify=function(e){return JSON.stringify(this.serialize(e))},e.prototype.parse=function(e){return this.deserialize(JSON.parse(e))},e.prototype.registerClass=function(e,t){this.classRegistry.register(e,t)},e.prototype.registerSymbol=function(e,t){this.symbolRegistry.register(e,t)},e.prototype.registerCustom=function(e,t){this.customTransformerRegistry.register(eN({name:t},e))},e.prototype.allowErrorProps=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.allowedErrorProps).push.apply(e,eq([],eD(t)))},e.defaultInstance=new e,e.serialize=e.defaultInstance.serialize.bind(e.defaultInstance),e.deserialize=e.defaultInstance.deserialize.bind(e.defaultInstance),e.stringify=e.defaultInstance.stringify.bind(e.defaultInstance),e.parse=e.defaultInstance.parse.bind(e.defaultInstance),e.registerClass=e.defaultInstance.registerClass.bind(e.defaultInstance),e.registerSymbol=e.defaultInstance.registerSymbol.bind(e.defaultInstance),e.registerCustom=e.defaultInstance.registerCustom.bind(e.defaultInstance),e.allowErrorProps=e.defaultInstance.allowErrorProps.bind(e.defaultInstance),e}();eF.serialize,eF.deserialize,eF.stringify,eF.parse,eF.registerClass,eF.registerCustom,eF.registerSymbol,eF.allowErrorProps;var eB=n(1604);function eU(){eU=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(u){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a,o,s=Object.create((t&&t.prototype instanceof p?t:p).prototype);return r(s,"_invoke",{value:(a=new T(i||[]),o="suspendedStart",function(t,r){if("executing"===o)throw Error("Generator is already running");if("completed"===o){if("throw"===t)throw r;return C()}for(a.method=t,a.arg=r;;){var i=a.delegate;if(i){var s=function e(t,n){var r=n.method,i=t.iterator[r];if(void 0===i)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),h;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,h):o:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,h)}(i,a);if(s){if(s===h)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===o)throw o="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o="executing";var l=d(e,n,a);if("normal"===l.type){if(o=a.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(o="completed",a.method="throw",a.arg=l.arg)}})}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=c;var h={};function p(){}function f(){}function m(){}var v={};l(v,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(E([])));y&&y!==t&&n.call(y,a)&&(v=y);var b=m.prototype=p.prototype=Object.create(v);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var i;r(this,"_invoke",{value:function(r,a){function o(){return new t(function(i,o){!function r(i,a,o,s){var l=d(e[i],e,a);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==typeof c&&n.call(c,"__await")?t.resolve(c.__await).then(function(e){r("next",e,o,s)},function(e){r("throw",e,o,s)}):t.resolve(c).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,s)})}s(l.arg)}(r,a,i,o)})}return i=i?i.then(o,o):o()}})}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:f,configurable:!0}),f.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,o,function(){return this}),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},w(b),l(b,s,"Generator"),l(b,a,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function eH(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(u){n(u);return}s.done?t(l):Promise.resolve(l).then(r,i)}function eV(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){eH(a,r,i,o,s,"next",e)}function s(e){eH(a,r,i,o,s,"throw",e)}o(void 0)})}}var eZ=eB.z.object({data:eB.z.object({challenge:eB.z.object({text:eB.z.string()})})}),ez=function(e){let t=new P(e),n=d(e=>t.hasOwnProperty(e)?t[e]:"__untypedClient"===e?t:c(({path:n,args:r})=>{let i=[e,...n],a=R(i.pop()),o=i.join(".");return t[a](o,...r)}));return n}({transformer:eF,links:[j({url:"https://sdk-iriko.huddle01.com/trpc"})]}),e$=(U=eV(eU().mark(function e(t){var n,r;return eU().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.Z.request({method:"POST",url:"https://api.lens.dev/",headers:{"Content-Type":"application/json"},data:{query:"query Challenge($request: ChallengeRequest!) {\n                challenge(request: $request) { text }\n              }",variables:{request:{address:t}}}});case 2:return n=e.sent.data,r=eZ.parse(n).data.challenge.text,e.abrupt("return",{message:r});case 6:case"end":return e.stop()}},e)})),function(e){return U.apply(this,arguments)}),eW=(H=eV(eU().mark(function e(t,n){var r,i,a;return eU().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=function(){var e=eV(eU().mark(function e(){return eU().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.Z.request({method:"POST",url:"https://api.lens.dev/",headers:{"Content-Type":"application/json"},data:{query:"mutation ($request: SignedAuthChallenge!) { \n            authenticate(request: $request) {\n              accessToken\n              refreshToken\n            }\n          }",variables:{request:{address:n,signature:t}}}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.next=4,r();case 4:return i=e.sent,e.next=7,ez.auth.login.mutate({address:n,chain:"lens",accessToken:i.data.data.authenticate.accessToken,walletName:"lens"});case 7:return a=e.sent,e.abrupt("return",{accessToken:a.accessToken});case 11:throw e.prev=11,e.t0=e.catch(0),Error("Error getting lens access token");case 14:case"end":return e.stop()}},e,null,[[0,11]])})),function(e,t){return H.apply(this,arguments)})},99983:function(e,t,n){"use strict";let r;n.d(t,{e:function(){return rw}});var i,a,o,s=n(69753),l=n(67294),u=n(18607);function c(){let e=(0,u.g)();return e.provider}var d=n(61688);let h=d.useSyncExternalStore;var p=n(32161),f=n(89886),m=n(30081),v=n(33989);class g extends v.l{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.client.defaultMutationOptions(e),(0,p.VS)(t,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}onUnsubscribe(){if(!this.listeners.length){var e;null==(e=this.currentMutation)||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();let t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let e=this.currentMutation?this.currentMutation.state:(0,f.R)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){m.V.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var t,n,r,i,a,o,s,l;e.onSuccess?(null==(t=(n=this.mutateOptions).onSuccess)||t.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(r=(i=this.mutateOptions).onSettled)||r.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&(null==(a=(o=this.mutateOptions).onError)||a.call(o,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(s=(l=this.mutateOptions).onSettled)||s.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}e.listeners&&this.listeners.forEach(e=>{e(this.currentResult)})})}}var y=n(51098);function b(e,t){return"function"==typeof e?e(...t):!!e}function w(){}var x=n(15761),_=n(72379);class k extends v.l{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.length&&(this.currentQuery.addObserver(this),T(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return E(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return E(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){let n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),(0,p.VS)(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();let i=this.hasListeners();i&&C(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),i&&(this.currentQuery!==r||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();let a=this.computeRefetchInterval();i&&(this.currentQuery!==r||this.options.enabled!==n.enabled||a!==this.currentRefetchInterval)&&this.updateRefetchInterval(a)}getOptimisticResult(e){let t=this.client.getQueryCache().build(this.client,e);return this.createResult(t,e)}getCurrentResult(){return this.currentResult}trackResult(e){let t={};return Object.keys(e).forEach(n=>{Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),e[n])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){let t=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,t);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(p.ZT)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),p.sk||this.currentResult.isStale||!(0,p.PN)(this.options.staleTime))return;let e=(0,p.Kp)(this.currentResult.dataUpdatedAt,this.options.staleTime);this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},e+1)}computeRefetchInterval(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!p.sk&&!1!==this.options.enabled&&(0,p.PN)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||x.j.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){let n;let r=this.currentQuery,i=this.options,a=this.currentResult,o=this.currentResultState,s=this.currentResultOptions,l=e!==r,u=l?e.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:d}=e,{dataUpdatedAt:h,error:f,errorUpdatedAt:m,fetchStatus:v,status:g}=d,y=!1,b=!1;if(t._optimisticResults){let w=this.hasListeners(),x=!w&&T(e,t),k=w&&C(e,r,t,i);(x||k)&&(v=(0,_.Kw)(e.options.networkMode)?"fetching":"paused",h||(g="loading")),"isRestoring"===t._optimisticResults&&(v="idle")}if(t.keepPreviousData&&!d.dataUpdatedAt&&null!=c&&c.isSuccess&&"error"!==g)n=c.data,h=c.dataUpdatedAt,g=c.status,y=!0;else if(t.select&&void 0!==d.data){if(a&&d.data===(null==o?void 0:o.data)&&t.select===this.selectFn)n=this.selectResult;else try{this.selectFn=t.select,n=t.select(d.data),n=(0,p.oE)(null==a?void 0:a.data,n,t),this.selectResult=n,this.selectError=null}catch(E){this.selectError=E}}else n=d.data;if(void 0!==t.placeholderData&&void 0===n&&"loading"===g){let j;if(null!=a&&a.isPlaceholderData&&t.placeholderData===(null==s?void 0:s.placeholderData))j=a.data;else if(j="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==j)try{j=t.select(j),this.selectError=null}catch(L){this.selectError=L}void 0!==j&&(g="success",n=(0,p.oE)(null==a?void 0:a.data,j,t),b=!0)}this.selectError&&(f=this.selectError,n=this.selectResult,m=Date.now(),g="error");let P="fetching"===v,M="loading"===g,R="error"===g,I={status:g,fetchStatus:v,isLoading:M,isSuccess:"success"===g,isError:R,isInitialLoading:M&&P,data:n,dataUpdatedAt:h,error:f,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:P,isRefetching:P&&!M,isLoadingError:R&&0===d.dataUpdatedAt,isPaused:"paused"===v,isPlaceholderData:b,isPreviousData:y,isRefetchError:R&&0!==d.dataUpdatedAt,isStale:S(e,t),refetch:this.refetch,remove:this.remove};return I}updateResult(e){let t=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,(0,p.VS)(n,t))return;this.currentResult=n;let r={cache:!0};(null==e?void 0:e.listeners)!==!1&&(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options;if("all"===e||!e&&!this.trackedProps.size)return!0;let n=new Set(null!=e?e:this.trackedProps);return this.options.useErrorBoundary&&n.add("error"),Object.keys(this.currentResult).some(e=>{let r=this.currentResult[e]!==t[e];return r&&n.has(e)})})()&&(r.listeners=!0),this.notify({...r,...e})}updateQuery(){let e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;let t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){let t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||(0,_.DV)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){m.V.batch(()=>{var t,n,r,i,a,o,s,l;e.onSuccess?(null==(t=(n=this.options).onSuccess)||t.call(n,this.currentResult.data),null==(r=(i=this.options).onSettled)||r.call(i,this.currentResult.data,null)):e.onError&&(null==(a=(o=this.options).onError)||a.call(o,this.currentResult.error),null==(s=(l=this.options).onSettled)||s.call(l,void 0,this.currentResult.error)),e.listeners&&this.listeners.forEach(e=>{e(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function T(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)||e.state.dataUpdatedAt>0&&E(e,t,t.refetchOnMount)}function E(e,t,n){if(!1!==t.enabled){let r="function"==typeof n?n(e):n;return"always"===r||!1!==r&&S(e,t)}return!1}function C(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&S(e,n)}function S(e,t){return e.isStaleByTime(t.staleTime)}let j=l.createContext((r=!1,{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r})),L=()=>l.useContext(j),P=l.createContext(!1),M=()=>l.useContext(P);P.Provider;let R=(e,t)=>{(e.suspense||e.useErrorBoundary)&&!t.isReset()&&(e.retryOnMount=!1)},I=e=>{l.useEffect(()=>{e.clearReset()},[e])},O=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&b(n,[e.error,r]),A=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},N=(e,t)=>e.isLoading&&e.isFetching&&!t,D=(e,t,n)=>(null==e?void 0:e.suspense)&&N(t,n),q=(e,t,n)=>t.fetchOptimistic(e).then(({data:t})=>{null==e.onSuccess||e.onSuccess(t),null==e.onSettled||e.onSettled(t,null)}).catch(t=>{n.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)});var F=n(45216),B=n(38934);let U=["cacheTime","networkMode","onError","onMutate","onSettled","onSuccess","retry","retryDelay","useErrorBoundary","meta"],H=["cacheTime","enabled","networkMode","initialData","initialDataUpdatedAt","isDataEqual","keepPreviousData","meta","notifyOnChangeProps","onError","onSettled","onSuccess","placeholderData","refetchInterval","refetchIntervalInBackground","refetchOnMount","refetchOnReconnect","refetchOnWindowFocus","retry","retryOnMount","retryDelay","select","staleTime","structuralSharing","suspense","useErrorBoundary"];function V(e){let{data:t,dataUpdatedAt:n,error:r,errorUpdatedAt:i,failureCount:a,isError:o,isFetched:s,isFetchedAfterMount:u,isFetching:c,isPaused:d,isLoadingError:f,isPlaceholderData:v,isPreviousData:g,isRefetchError:b,isRefetching:w,isStale:x,isSuccess:_,refetch:T,remove:E,status:C,fetchStatus:S}=function(e,t,n){let r=(0,p._v)(e,void 0,void 0);return function(e,t){let n=(0,y.NL)({context:e.context}),r=M(),i=L(),a=n.defaultQueryOptions(e);a._optimisticResults=r?"isRestoring":"optimistic",a.onError&&(a.onError=m.V.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=m.V.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=m.V.batchCalls(a.onSettled)),A(a),R(a,i),I(i);let[o]=l.useState(()=>new t(n,a)),s=o.getOptimisticResult(a);if(h(l.useCallback(e=>r?()=>void 0:o.subscribe(m.V.batchCalls(e)),[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),l.useEffect(()=>{o.setOptions(a,{listeners:!1})},[a,o]),D(a,s,r))throw q(a,o,i);if(O({result:s,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:o.getCurrentQuery()}))throw s.error;return a.notifyOnChangeProps?s:o.trackResult(s)}(r,k)}({...e,context:B.Q}),j=(0,l.useMemo)(()=>"loading"===C&&"idle"===S?"idle":C,[C,S]),P=(0,l.useMemo)(()=>"idle"===j,[j]),N=(0,l.useMemo)(()=>"loading"===j&&"fetching"===S,[j,S]);return{data:t,error:r,isError:o,isFetched:s,isFetching:c,isIdle:P,isLoading:N,isRefetching:w,isSuccess:_,refetch:T,status:j,internal:{fetchStatus:S,dataUpdatedAt:n,errorUpdatedAt:i,failureCount:a,isFetchedAfterMount:u,isLoadingError:f,isPaused:d,isPlaceholderData:v,isPreviousData:g,isRefetchError:b,isStale:x,remove:E}}}var Z=n(3255),z=n(52798);function $(){return(0,z.useSyncExternalStoreWithSelector)(e=>(function(e){let t=(0,u.g)(),n=async()=>e(c()),r=t.subscribe(({provider:e})=>e,n);return r})(e),()=>c(),()=>c(),e=>e)}let W=(e,t)=>[{entity:"getPlaybackInfo",args:e,config:t}],Q=(e,t,n,r,i)=>{let a=l.useMemo(()=>e?t??n:r??i,[e,t,n,r,i]);return l.useMemo(()=>l.isValidElement(a)?l.cloneElement(a):null,[a])},G=(e,t)=>l.useMemo(()=>e&&l.isValidElement(e)?l.cloneElement(e):t,[e,t]);var K=n(84688),J=n(5947),Y=n(85893);let X=({streamKey:e,children:t,controls:n,theme:r,title:i,onError:a,aspectRatio:o="16to9",objectFit:s="contain",mediaElementRef:u,onPlaybackStatusUpdate:c,playbackStatusSelector:d,renderChildrenOutsideContainer:h})=>{let p=$(),f=l.useMemo(()=>{let t=p.getConfig().webrtcIngestBaseUrl;return e&&t?`${t}/${e}`:null},[e,p]),[m,v]=l.useState(null),[g,y]=l.useState(null),b=l.useCallback(e=>{let t=e?{type:(0,K.Qi)(e)?"access-control":(0,K.kN)(e)?"offline":"unknown",message:e?.message??"Error with playback."}:null;return y(t),e&&(console.warn(e),a?.(e)),e},[a]);l.useEffect(()=>{e&&y(null)},[e]);let w=l.useCallback(e=>{e&&(v(e),u?.(e))},[u]),x=l.useMemo(()=>({ref:w,ingestUrl:f,objectFit:s,options:n,broadcastError:g,onBroadcastError:b,onPlaybackStatusUpdate:c,playbackStatusSelector:d}),[g,w,n,f,s,b,c,d]),_=l.useMemo(()=>({autoPlay:!1,playbackId:void 0,muted:!1,priority:!1,ingestUrl:f??void 0}),[f]),k=l.useMemo(()=>({hidePosterOnPlayed:!0,showLoadingSpinner:!0,loadingText:null,showUploadingIndicator:!1,error:g}),[g]),T=l.useMemo(()=>({ingestUrl:f,children:t,controls:n,theme:r,title:i,aspectRatio:o,objectFit:s,onBroadcastError:b,onPlaybackStatusUpdate:c,renderChildrenOutsideContainer:h}),[f,o,t,n,s,r,i,b,c,h]);return{mediaElement:m,broadcastProps:x,mediaControllerProps:_,controlsContainerProps:k,props:T}},ee=e=>{let[t,n]=l.useState(null),{onChange:r,thumbIcon:i,defaultThumbIcon:a,sliderWidth:o,ariaName:s,isActive:u,leftCss:c,middleCss:d,rightCss:h,thumbCss:p}=e,f=u||null!==t,m=l.useCallback(async(e,t)=>{if(o){let i=Math.min(Math.max(0,e/o),1);t?(await r?.(i),n(null)):n(i)}},[r,o]),{value:v,middleValue:g}=l.useMemo(()=>{let n=null!==t?t:isNaN(e.value)?0:e.value,r=null!==t?0:!e.secondaryValue||isNaN(e.value)||isNaN(e.secondaryValue)?0:e.secondaryValue-e.value;return{value:n,middleValue:r>0?r:0}},[t,e.value,e.secondaryValue]),y=l.useMemo(()=>({css:{...p,zIndex:1},size:f?"active":"default"}),[p,f]),b=G(i,l.cloneElement(a,y)),w=l.useMemo(()=>1-(v+g),[v,g]),x=l.useMemo(()=>Math.round(100*v),[v]);return{title:`${x}% ${s}`,value:x,active:f,handle:b,sliderProps:{onUpdate:m},sliderLeftTrackProps:{shown:v>.001,rounded:1!==v||f?"left":"full",css:{...c,flex:v}},sliderMiddleTrackProps:{shown:(g??0)>0,rounded:1===g?f?"right":"full":v<=.001?"left":0===w?"right":"none",css:{...d,flex:g}},sliderRightTrackProps:{shown:(w??0)>0,rounded:v<=.001&&!f?"full":"right",css:{...h,flex:w}}}},et=e=>{let{togglePlay:t,canPlay:n,buffered:r,isBroadcast:i,_updateLastInteraction:a}=e,o=l.useMemo(()=>n||0!==r,[n,r]),s=l.useCallback(()=>{o&&(i?a():t())},[t,o,i,a]);return{isLoaded:o,containerProps:{onPress:s}}},en=e=>{let{enterIcon:t,exitIcon:n,onPress:r,fullscreen:i,pictureInPicture:a,requestToggleFullscreen:o,defaultEnterIcon:s,defaultExitIcon:u,...c}=e,d=l.useCallback(async()=>{await r?.(),await o()},[r,o]),h=Q(i,n,u,t,s),p=l.useMemo(()=>i?"Exit full screen (f)":"Full screen (f)",[i]);return{title:p,buttonProps:a?null:{onPress:d,children:h,...c}}},er=e=>{let{playIcon:t,pauseIcon:n,onPress:r,togglePlay:i,playing:a,defaultPauseIcon:o,defaultPlayIcon:s,...u}=e,c=async()=>{await r?.(),await i()},d=Q(a,n,o,t,s),h=l.useMemo(()=>a?"Pause (k)":"Play (k)",[a]);return{title:h,buttonProps:{onPress:c,children:d,...u}}},ei=e=>{let{duration:t,progress:n,requestSeek:r,buffered:i,live:a,...o}=e,[s,u,c]=l.useMemo(()=>[0,t&&!isNaN(t)?t:0,n&&!isNaN(n)?n:0],[t,n]),d=l.useMemo(()=>c/(u-s),[s,u,c]),h=l.useMemo(()=>i/(u-s),[s,u,i]),p=l.useCallback(async t=>{let n=t*(u-s);await e?.onSeek?.(n),r(n)},[u,s,r,e]),f=l.useMemo(()=>(t/60).toFixed(1),[t]);return{isVisible:!a,title:`progress of ${f} minutes`,progressProps:{onChange:p,value:d,secondaryValue:h,leftCss:{backgroundColor:"$progressLeft"},middleCss:{backgroundColor:"$progressMiddle"},rightCss:{backgroundColor:"$progressRight"},thumbCss:{backgroundColor:"$progressThumb"},...o}}},ea=e=>{if(null!=e&&!isNaN(e)&&isFinite(e)){let t=Math.round(e),n=Math.floor(t/3600),r=Math.floor(t%60);return n>0?`${n}:${Math.floor(t%3600/60).toString().padStart(2,"0")}:${r<10?"0":""}${r}`:`${Math.floor(t/60)}:${r.toString().padStart(2,"0")}`}return"0:00"},eo=e=>{let{duration:t,progress:n,live:r}=e,i=l.useMemo(()=>ea(n??null),[n]),a=l.useMemo(()=>ea(t??null),[t]),o=l.useMemo(()=>r?i:`${i} / ${a}`,[i,a,r]);return{title:o,live:r}},es=e=>{let{unmutedIcon:t,mutedIcon:n,onPress:r,showSlider:i=!0,defaultUnmutedIcon:a,defaultMutedIcon:o,requestVolume:s,requestToggleMute:u,isVolumeChangeSupported:c,muted:d,...h}=e,p=l.useCallback(async()=>{await r?.(),u()},[r,u]),f=Q(!d,t,a,n,o),m=l.useMemo(()=>d?"Unmute (m)":"Mute (m)",[d]),v=l.useCallback(async e=>{s(e)},[s]);return{title:m,buttonProps:{onPress:p,children:f,...h},progressProps:{shown:c&&i,onChange:v,leftCss:{backgroundColor:"$volumeLeft"},middleCss:{backgroundColor:"$volumeMiddle"},rightCss:{backgroundColor:"$volumeRight"},thumbCss:{backgroundColor:"$volumeThumb"}}}},el=({decentralizedSrcOrPlaybackId:e,playbackId:t,refetchPlaybackInfoInterval:n,autoUrlUpload:r,onAssetStatusChange:i})=>{let{mutate:a,status:o,progress:s}=function(e){let t=$(),[n,r]=(0,l.useState)(void 0),i=function(e,t,n){let{data:r,error:i,isError:a,isIdle:o,isLoading:s,isSuccess:u,mutate:c,mutateAsync:d,reset:f,variables:v,status:x}=function(e,t,n){let r=(0,p.lV)(e,t,void 0),i=(0,y.NL)({context:r.context}),[a]=l.useState(()=>new g(i,r));l.useEffect(()=>{a.setOptions(r)},[a,r]);let o=h(l.useCallback(e=>a.subscribe(m.V.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),s=l.useCallback((e,t)=>{a.mutate(e,t).catch(w)},[a]);if(o.error&&b(a.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}(t,{context:B.Q,mutationKey:n,..."object"==typeof e?.mutationConfig?(0,F.p)(e.mutationConfig,...U):{},useErrorBoundary:!1});return(0,l.useMemo)(()=>({data:r,error:i,isError:a,isIdle:o,isLoading:s,isSuccess:u,mutate:e?()=>c({...e,config:void 0}):void 0,mutateAsync:()=>e?d({...e,config:void 0}):void 0,variables:v,status:x,internal:{reset:f}}),[r,i,a,o,s,u,c,d,f,v,x,e])}(e,async e=>(function(e){let t=c();return t.createAsset(e)})({...e,onProgress:e=>r(e)}),[{entity:"createAsset",livepeerProvider:t}]);return(0,l.useMemo)(()=>({...i,progress:n}),[i,n])}(e?{sources:[{name:e.id,url:e.url}]}:null);l.useEffect(()=>{s?.[0]&&i(s[0])},[s,i]);let{data:u,error:d}=function(e){let t=$();return V(function(e,t){let n="string"==typeof e?e:{playbackId:e?.playbackId??""};return{clearClient:e.clearClient,queryKey:W(n,t.getConfig()),queryFn:async()=>(function(e){let t=c();return t.getPlaybackInfo(e)})(e),enabled:Boolean("string"==typeof e?e:e?.playbackId),..."object"==typeof e?(0,Z.ei)(e,...H):{}}}(e,t))}({playbackId:e?.id??t??void 0,staleTime:864e5,refetchInterval:e=>!e&&n}),f=l.useMemo(()=>d?.code,[d]);return l.useEffect(()=>{r&&a&&"idle"===o&&404===f&&a()},[r,f,a,o]),u},eu="https://w3s.link",ec="https://arweave.net",ed=({src:e,playbackId:t,jwt:n,refetchPlaybackInfoInterval:r,autoUrlUpload:i={fallback:!0},playbackInfo:a,screenWidth:o,accessKey:s,onAccessKeyRequest:u})=>{let[c,d]=l.useState(null),h=l.useCallback(e=>{d(e)},[d]),p=l.useMemo(()=>t?(0,Z.lV)(t)??(0,Z.qv)(t):Array.isArray(e)?null:(0,Z.lV)(e)??(0,Z.qv)(e),[t,e]),f=el({decentralizedSrcOrPlaybackId:p,playbackId:t,refetchPlaybackInfoInterval:r,autoUrlUpload:i,onAssetStatusChange:h}),m=l.useMemo(()=>a??f,[a,f]),v=l.useCallback(async()=>{if(s)return s;if(m?.meta?.playbackPolicy?.type==="webhook"){let e=await u?.(m.meta.playbackPolicy);return e??null}return null},[s,u,m]),{data:g}=V({queryKey:[m,u,s],queryFn:v,enabled:Boolean(m||s),staleTime:1/0}),[y,b]=l.useState([]);l.useEffect(()=>{let e=(o??1280)*2.5,t=(a??f)?.meta?.source?.map(t=>({url:t?.url,screenWidthDelta:t?.width?Math.abs(e-t.width):t?.url.includes("static360p")||t?.url.includes("low-bitrate")?Math.abs(e-480):t?.url.includes("static720p")?Math.abs(e-1280):t?.url.includes("static1080p")?Math.abs(e-1920):t?.url.includes("static2160p")?Math.abs(e-3840):null}))??null;t&&b(t)},[a,f,o]);let w=l.useMemo(()=>{if(p&&i){let t="boolean"!=typeof i?{arweaveGateway:i.arweaveGateway??ec,ipfsGateway:i.ipfsGateway??eu}:{arweaveGateway:ec,ipfsGateway:eu};if(p.url.startsWith("ar://")){let{host:n}=new URL(t.arweaveGateway),r={type:"video",mime:"video/mp4",src:`https://${n}/${p.id}`};return r}if(!p.url.startsWith("ipfs://"))return{type:"video",mime:"video/mp4",src:e};{let{host:a}=new URL(t.ipfsGateway),o={type:"video",mime:"video/mp4",src:`https://${a}/ipfs/${p.id}`};return o}}return null},[i,p,e]),[x,_]=l.useMemo(()=>{let t=["none",null],r=y.length>0?y.map(e=>e.url):"string"==typeof e?[e]:e;if(!r)return t;let i=r.map(e=>{if(n){let t=new URL(e);return t.searchParams.append("jwt",n),t.toString()}if(g){let r=new URL(e);return r.searchParams.append("accessKey",g),r.toString()}return e}),a=i.map(e=>"string"==typeof e?(0,J.g)(e):null).filter(e=>e);return a?.[0]?.type==="audio"?["audio",a.filter(e=>"audio"===e.type)]:a?.[0]?.type==="video"||a?.[0]?.type==="hls"||a?.[0]?.type==="webrtc"?["video",a.filter(e=>"video"===e.type||"hls"===e.type||"webrtc"===e.type)]:t},[y,e,n,g]),k=l.useMemo(()=>{if(!_&&w)return[w];if("video"===x){let e=[..._];return e.sort((e,t)=>{if("video"===e.type&&"video"===t.type){let n=y.find(t=>t.url===e.src),r=y.find(e=>e.url===t.src);return r?.screenWidthDelta&&n?.screenWidthDelta?n.screenWidthDelta-r.screenWidthDelta:1}return"video"===e.type&&("hls"===t.type||"webrtc"===t.type)||"webrtc"===e.type&&"hls"===t.type?-1:1})}return _},[_,x,w,y]);return{source:k,uploadStatus:c}},eh=({autoPlay:e,children:t,controls:n,muted:r,playbackId:i,src:a,playbackInfo:o,theme:s,title:u,poster:c,loop:d,onStreamStatusChange:h,onAccessControlError:p,onError:f,onSourceUpdated:m,jwt:v,viewerId:g,refetchPlaybackInfoInterval:y=5e3,autoUrlUpload:b=!0,accessKey:w,onAccessKeyRequest:x,showLoadingSpinner:_=!0,showUploadingIndicator:k=!0,showTitle:T=!0,priority:E,aspectRatio:C="16to9",objectFit:S="contain",mediaElementRef:j,_isCurrentlyShown:L,onPlaybackStatusUpdate:P,playbackStatusSelector:M,renderChildrenOutsideContainer:R},{_screenWidth:I})=>{let[O,A]=l.useState(null),{source:N,uploadStatus:D}=ed({src:a,playbackId:i,jwt:v,refetchPlaybackInfoInterval:y,autoUrlUpload:b,screenWidth:I,playbackInfo:o,accessKey:w,onAccessKeyRequest:x}),[q,F]=l.useState(null),B=l.useCallback(e=>{let t=e?{type:(0,K.Qi)(e)?"access-control":(0,K.kN)(e)?"offline":"unknown",message:e?.message??"Error with playback."}:null;F(t);try{t&&console.log(t),e?t?.type==="offline"?h?.(!1):t?.type==="access-control"?p?.(Error(t.message)):t?.message&&f?.(Error(t.message)):h?.(!0)}catch(n){}return t},[p,h,f]);l.useEffect(()=>{N&&(m?.(N),F(null))},[N,m]);let[U,H]=l.useState(!1),V=l.useMemo(()=>E||L||U,[E,L,U]);l.useEffect(()=>{L&&!U&&H(!0)},[L,U]);let z=l.useMemo(()=>Array.isArray(N)&&N?.[0]?.type!=="audio"||void 0,[N]),$=l.useCallback(e=>{e&&(A(e),j?.(e))},[j]),W=l.useMemo(()=>k?D?.phase==="processing"&&(0,Z.hj)(D?.progress)?`Processing: ${(100*Number(D?.progress)).toFixed(0)}%`:D?.phase==="failed"?"Upload Failed":null:null,[D,k]),Q=l.useMemo(()=>({ref:$,autoPlay:e,playbackId:i,muted:r,poster:c,loop:d,objectFit:S,options:n,priority:E,playbackError:q,onPlaybackError:B,isCurrentlyShown:L,viewerId:g,onPlaybackStatusUpdate:P,playbackStatusSelector:M}),[$,i,e,r,c,d,S,n,E,q,B,L,g,P,M]),G=l.useMemo(()=>({autoPlay:e,playbackId:i??void 0,muted:r,priority:E,viewerId:g}),[e,i,r,E,g]),J=l.useMemo(()=>({hidePosterOnPlayed:z,showLoadingSpinner:_,loadingText:W,showUploadingIndicator:k,error:q}),[z,_,W,k,q]),Y=l.useMemo(()=>({autoPlay:e,children:t,controls:n,playbackId:i,src:a,theme:s,title:u,poster:c,loop:d,jwt:v,refetchPlaybackInfoInterval:y,autoUrlUpload:b,showTitle:T,aspectRatio:C,objectFit:S,renderChildrenOutsideContainer:R}),[e,t,n,i,a,s,u,c,d,v,y,b,T,C,S,R]),X=l.useMemo(()=>V?N:null,[V,N]);return{mediaElement:O,source:X,uploadStatus:D,playerProps:Q,mediaControllerProps:G,controlsContainerProps:J,props:Y}};n(41539),n(39714);var ep=n(51115),ef=n(24270),em=n(88462);n(4480),n(21249),n(23157),n(47042),n(66992),n(78783),n(33948),n(60285),n(41637),n(88674);var ev=n(54098),eg=n.n(ev),ey=n(4792);n(74916),n(15306),n(26699),n(32023);var eb=function(){if(!(0,ey.i)())return!1;var e,t,n,r,i,a,o,s,l,u,c,d,h=!!(null!==(e=window)&&void 0!==e&&e.RTCPeerConnection||null!==(t=window)&&void 0!==t&&t.webkitRTCPeerConnection||null!==(n=window)&&void 0!==n&&n.mozRTCPeerConnection),p=!!(null!==(r=navigator)&&void 0!==r&&r.getUserMedia||null!==(i=navigator)&&void 0!==i&&null!==(a=i.mediaDevices)&&void 0!==a&&a.getUserMedia||null!==(o=navigator)&&void 0!==o&&o.webkitGetUserMedia||null!==(s=navigator)&&void 0!==s&&s.mozGetUserMedia||null!==(l=navigator)&&void 0!==l&&l.msGetUserMedia),f=!!(null!==(u=window)&&void 0!==u&&u.RTCDataChannel||null!==(c=window)&&void 0!==c&&c.webkitRTCDataChannel||null!==(d=window)&&void 0!==d&&d.mozRTCDataChannel);return h&&p&&f};function ew(e){var t,n,r,i=(null===(t=window)||void 0===t?void 0:t.RTCPeerConnection)||(null===(n=window)||void 0===n?void 0:n.webkitRTCPeerConnection)||(null===(r=window)||void 0===r?void 0:r.mozRTCPeerConnection);return i?new i({iceServers:e?[{urls:"stun:".concat(e)},{urls:"turn:".concat(e),username:"livepeer",credential:"livepeer"}]:[]}):null}function ex(e,t,n,r){return e_.apply(this,arguments)}function e_(){return(e_=(0,ef._)((0,ef.a)().mark(function e(t,n,r,i){var a,o,s;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n&&r)){e.next=20;break}return e.next=3,function(e,t,n){return eE.apply(this,arguments)}(n,r.sdp,i);case 3:if(!(a=e.sent).ok){e.next=14;break}return e.next=7,a.text();case 7:return o=e.sent,e.next=10,t.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:o}));case 10:return s=a.headers.get("Link"),e.abrupt("return",function(e){try{var t,n=null==e?void 0:e.split(", ").map(function(e){var t,n=e.split("; "),r={urls:""},i=(0,em.b)(n);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.startsWith("stun:")||a.startsWith("turn:")?r.urls=a:a.startsWith("username=")?r.username=a.slice(10,-1):a.startsWith("credential=")&&(r.credential=a.slice(12,-1))}}catch(o){i.e(o)}finally{i.f()}return r}).filter(function(e){return e.urls});return n&&(null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0)>0?n:null}catch(r){console.error(r)}return null}(s));case 14:return e.next=16,a.text();case 16:throw Error(e.sent);case 18:e.next=21;break;case 20:throw Error("Peer connection not defined.");case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ek(e,t){return eT.apply(this,arguments)}function eT(){return(eT=(0,ef._)((0,ef.a)().mark(function e(t,n){var r,i;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n)){e.next=12;break}return e.next=3,t.createOffer();case 3:return r=e.sent,e.next=6,t.setLocalDescription(r);case 6:return e.next=8,function(e){return ej.apply(this,arguments)}(t);case 8:if(i=e.sent){e.next=11;break}throw Error("failed to gather ICE candidates for offer");case 11:return e.abrupt("return",i);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function eE(){return(eE=(0,ef._)((0,ef.a)().mark(function e(t,n,r){var i,a,o;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new AbortController,a=setTimeout(function(){return i.abort()},null!=r?r:1e4),e.next=4,eg()(t,{method:"POST",mode:"cors",headers:{"content-type":"application/sdp"},body:n,signal:i.signal});case 4:return o=e.sent,clearTimeout(a),e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function eC(e,t,n){return eS.apply(this,arguments)}function eS(){return(eS=(0,ef._)((0,ef.a)().mark(function e(t,n,r){var i,a,o;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=setTimeout(function(){return n.abort()},null!=r?r:1e4),e.prev=1,e.next=4,eg()(t,{method:"HEAD",signal:n.signal});case 4:return a=e.sent,clearTimeout(i),o=new URL(a.url),e.abrupt("return",o);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",null);case 13:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function ej(){return(ej=(0,ef._)((0,ef.a)().mark(function e(t){return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){setTimeout(function(){e(t.localDescription)},5e3),t.onicegatheringstatechange=function(n){"complete"===t.iceGatheringState&&e(t.localDescription)}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var eL=function(e,t,n,r){var i=!1,a=new AbortController,o=null,s=new MediaStream;return eC(e,a,null==r?void 0:r.sdpTimeout).then(function(e){if(!i&&e){var a,l,u,c=e.toString();(o=ew(e.host))&&(o.addTransceiver("video",{direction:"recvonly"}),o.addTransceiver("audio",{direction:"recvonly"}),o.ontrack=(a=(0,ef._)((0,ef.a)().mark(function e(t){var r,i,a,o,l;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s){e.next=18;break}r=t.track,a=(i=s.getTracks()).some(function(e){return"video"===e.kind}),o=i.some(function(e){return"audio"===e.kind}),e.t0=r.kind,e.next="video"===e.t0?9:"audio"===e.t0?13:17;break;case 9:if(!a){e.next=11;break}return e.abrupt("break",18);case 11:case 15:return s.addTrack(r),e.abrupt("break",18);case 13:if(!o){e.next=15;break}return e.abrupt("break",18);case 17:console.log("got unknown track "+r);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(0),null==n||null===(l=n.onError)||void 0===l||l.call(n,e.t1);case 23:case"end":return e.stop()}},e,null,[[0,20]])})),function(e){return a.apply(this,arguments)}),o.addEventListener("connectionstatechange",(l=(0,ef._)((0,ef.a)().mark(function e(r){var i,a,l,u;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(null===(i=o)||void 0===i?void 0:i.connectionState)!=="failed"){e.next=3;break}throw Error("Failed to connect to peer.");case 3:(null===(a=o)||void 0===a?void 0:a.connectionState)!=="connected"||t.srcObject||(t.srcObject=s,null==n||null===(l=n.onConnected)||void 0===l||l.call(n)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),null==n||null===(u=n.onError)||void 0===u||u.call(n,e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),function(e){return l.apply(this,arguments)})),o.addEventListener("negotiationneeded",(u=(0,ef._)((0,ef.a)().mark(function e(t){var i,a;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ek(o,c);case 3:return i=e.sent,e.next=6,ex(o,c,i,null==r?void 0:r.sdpTimeout);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),null==n||null===(a=n.onError)||void 0===a||a.call(n,e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return u.apply(this,arguments)})))}}).catch(function(e){var t;return null==n?void 0:null===(t=n.onError)||void 0===t?void 0:t.call(n,e)}),{destroy:function(){var e,n,r;i=!0,null==a||null===(e=a.abort)||void 0===e||e.call(a),t&&(t.srcObject=null),null===(n=o)||void 0===n||null===(r=n.close)||void 0===r||r.call(n)}}};function eP(e){return(eP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var eM=function(e,t,n,r,i){var a=!1,o=new AbortController,s=null,l=null,u=null,c=null,d=null;return eC(e,o,null==i?void 0:i.sdpTimeout).then(function(e){if(!a&&e){var o,h,p,f=e.toString().replace("video+","");(s=ew(e.host))&&(s.addEventListener("negotiationneeded",(o=(0,ef._)((0,ef.a)().mark(function e(t){var n,a;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ek(s,f);case 3:return n=e.sent,e.next=6,ex(s,f,n,null==i?void 0:i.sdpTimeout);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),null==r||null===(a=r.onError)||void 0===a||a.call(r,e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return o.apply(this,arguments)})),s.addEventListener("connectionstatechange",(h=(0,ef._)((0,ef.a)().mark(function e(n){var i,a,o,d;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(null===(i=s)||void 0===i?void 0:i.connectionState)!=="failed"){e.next=3;break}throw Error("Failed to connect to peer.");case 3:(null===(a=s)||void 0===a?void 0:a.connectionState)==="connected"&&l&&c&&u&&(t.srcObject=l,null==r||null===(o=r.onConnected)||void 0===o||o.call(r,{stream:l,videoTransceiver:u,audioTransceiver:c})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),null==r||null===(d=r.onError)||void 0===d||d.call(r,e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),function(e){return h.apply(this,arguments)})),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((p=(0,ef._)((0,ef.a)().mark(function e(t){var r,i,a,o,d,h,p,f,m,v,g,y;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p=null!==(r=null==t?void 0:null===(i=t.getVideoTracks)||void 0===i?void 0:null===(a=i.call(t))||void 0===a?void 0:a[0])&&void 0!==r?r:null,f=null!==(o=null==t?void 0:null===(d=t.getAudioTracks)||void 0===d?void 0:null===(h=d.call(t))||void 0===h?void 0:h[0])&&void 0!==o?o:null,!p){e.next=6;break}return e.next=5,p.applyConstraints(eN(null!=n?n:"16to9"));case 5:u=null!==(m=null===(v=s)||void 0===v?void 0:v.addTransceiver(p,{direction:"sendonly"}))&&void 0!==m?m:null;case 6:f&&(c=null!==(g=null===(y=s)||void 0===y?void 0:y.addTransceiver(f,{direction:"sendonly"}))&&void 0!==g?g:null),l=t;case 8:case"end":return e.stop()}},e)})),function(e){return p.apply(this,arguments)})).catch(function(e){var t;return null==r?void 0:null===(t=r.onError)||void 0===t?void 0:t.call(r,e)}),d=function(){eg()(f,{method:"DELETE",mode:"cors"}).catch(function(e){var t;return null==r?void 0:null===(t=r.onError)||void 0===t?void 0:t.call(r,e)})})}}).catch(function(e){var t;return null==r?void 0:null===(t=r.onError)||void 0===t?void 0:t.call(r,e)}),{destroy:function(){null===(e=d)||void 0===e||e(),a=!0,null==o||null===(n=o.abort)||void 0===n||n.call(o),t&&(t.srcObject=null),null===(r=s)||void 0===r||null===(i=r.close)||void 0===i||i.call(r);var e,n,r,i,u,c,h,p,f=null!==(u=null===(c=l)||void 0===c?void 0:null===(h=c.getTracks)||void 0===h?void 0:h.call(c))&&void 0!==u?u:[],m=(0,em.b)(f);try{for(m.s();!(p=m.n()).done;){var v,g=p.value;null==g||null===(v=g.stop)||void 0===v||v.call(g)}}catch(y){m.e(y)}finally{m.f()}}}},eR=(i=(0,ef._)((0,ef.a)().mark(function e(t){var n,r,i,a,o,s,l,u,c,d,h,p,f,m,v,g,y,b,w,x,_,k,T,E,C;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f=t.newMediaStream,m=t.prevMediaStream,v=t.aspectRatio,g=t.element,y=t.onConnected,b=t.videoTransceiver,w=t.audioTransceiver,x=null!==(n=null==m?void 0:null===(r=m.getVideoTracks)||void 0===r?void 0:null===(i=r.call(m))||void 0===i?void 0:i[0])&&void 0!==n?n:null,_=null!==(a=null==m?void 0:null===(o=m.getAudioTracks)||void 0===o?void 0:null===(s=o.call(m))||void 0===s?void 0:s[0])&&void 0!==a?a:null,k=null!==(l=null==f?void 0:null===(u=f.getVideoTracks)||void 0===u?void 0:null===(c=u.call(f))||void 0===c?void 0:c[0])&&void 0!==l?l:null,T=null!==(d=null==f?void 0:null===(h=f.getAudioTracks)||void 0===h?void 0:null===(p=h.call(f))||void 0===p?void 0:p[0])&&void 0!==d?d:null,!k){e.next=11;break}return e.next=8,k.applyConstraints(eN(v));case 8:return e.next=10,b.sender.replaceTrack(k);case 10:k.enabled=null===(E=null==x?void 0:x.enabled)||void 0===E||E;case 11:if(!T){e.next=15;break}return e.next=14,w.sender.replaceTrack(T);case 14:T.enabled=null===(C=null==_?void 0:_.enabled)||void 0===C||C;case 15:g.srcObject=f,y({stream:f,videoTransceiver:b,audioTransceiver:w});case 17:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),eI=(a=(0,ef._)((0,ef.a)().mark(function e(t){var n,r,i,a,o,s,l,u;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.source,e.prev=1,e.next=4,null===(r=navigator)||void 0===r?void 0:null===(i=r.mediaDevices)||void 0===i?void 0:i.getUserMedia((0,ef.b)((0,ef.b)({},"object"===eP(n.streamConstraints)?n.streamConstraints:{}),{},{video:(0,ef.b)((0,ef.b)({},"boolean"!=typeof(null===(a=n.streamConstraints)||void 0===a?void 0:a.video)?null===(o=n.streamConstraints)||void 0===o?void 0:o.video:{}),null!=n&&n.videoDeviceId?{deviceId:null==n?void 0:n.videoDeviceId}:{}),audio:(0,ef.b)((0,ef.b)({},"boolean"!=typeof(null===(s=n.streamConstraints)||void 0===s?void 0:s.audio)?null===(l=n.streamConstraints)||void 0===l?void 0:l.audio:{}),null!=n&&n.audioDeviceId?{deviceId:null==n?void 0:n.audioDeviceId}:{})}));case 4:return u=e.sent,e.abrupt("return",null!=u?u:null);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return a.apply(this,arguments)}),eO=function(e){var t,n;if("undefined"!=typeof navigator&&null!==(t=navigator)&&void 0!==t&&null!==(n=t.mediaDevices)&&void 0!==n&&n.enumerateDevices){var r=function(){navigator.mediaDevices.enumerateDevices().then(function(t){return e(t)})};return navigator.mediaDevices.addEventListener("devicechange",r),r(),function(){navigator.mediaDevices.removeEventListener("devicechange",r)}}return function(){}},eA=(o=(0,ef._)((0,ef.a)().mark(function e(t){var n,r,i;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!("undefined"!=typeof navigator&&null!==(n=navigator)&&void 0!==n&&null!==(r=n.mediaDevices)&&void 0!==r&&r.getDisplayMedia)){e.next=6;break}return e.next=4,navigator.mediaDevices.getDisplayMedia(t);case 4:return i=e.sent,e.abrupt("return",i);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return o.apply(this,arguments)}),eN=function(e){return{width:{ideal:1280},height:{ideal:720},aspectRatio:{ideal:"9to16"===e?9/16:"1to1"===e?1:"21to9"===e?21/9:"4to5"===e?.8:16/9}}},eD=n(36135),eq=n(87462),eF=n(36206),eB=n(45623),eU=n(25360),eH=n(91276),eV=n(77342),eZ=n(46063),ez=n(95420),e$=n(42651),eW=n(29115),eQ=n(75320),eG=n(27552),eK=n(71930),eJ=n(23541),eY=n(88426);let eX="Dialog",[e0,e1]=(0,eU.b)(eX),[e2,e5]=e0(eX),e4=e=>{let{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=(0,l.useRef)(null),u=(0,l.useRef)(null),[c=!1,d]=(0,eV.T)({prop:r,defaultProp:i,onChange:a});return(0,l.createElement)(e2,{scope:t,triggerRef:s,contentRef:u,contentId:(0,eH.M)(),titleId:(0,eH.M)(),descriptionId:(0,eH.M)(),open:c,onOpenChange:d,onOpenToggle:(0,l.useCallback)(()=>d(e=>!e),[d]),modal:o},n)},e6=(0,l.forwardRef)((e,t)=>{let{__scopeDialog:n,...r}=e,i=e5("DialogTrigger",n),a=(0,eB.e)(t,i.triggerRef);return(0,l.createElement)(eQ.WV.button,(0,eq.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":td(i.open)},r,{ref:a,onClick:(0,eF.M)(e.onClick,i.onOpenToggle)}))}),e3="DialogPortal",[e9,e7]=e0(e3,{forceMount:void 0}),e8=e=>{let{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=e5(e3,t);return(0,l.createElement)(e9,{scope:t,forceMount:n},l.Children.map(r,e=>(0,l.createElement)(eW.z,{present:n||a.open},(0,l.createElement)(e$.h,{asChild:!0,container:i},e))))},te="DialogOverlay",tt=(0,l.forwardRef)((e,t)=>{let n=e7(te,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=e5(te,e.__scopeDialog);return a.modal?(0,l.createElement)(eW.z,{present:r||a.open},(0,l.createElement)(tn,(0,eq.Z)({},i,{ref:t}))):null}),tn=(0,l.forwardRef)((e,t)=>{let{__scopeDialog:n,...r}=e,i=e5(te,n);return(0,l.createElement)(eK.Z,{as:eY.g7,allowPinchZoom:!0,shards:[i.contentRef]},(0,l.createElement)(eQ.WV.div,(0,eq.Z)({"data-state":td(i.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),tr="DialogContent",ti=(0,l.forwardRef)((e,t)=>{let n=e7(tr,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=e5(tr,e.__scopeDialog);return(0,l.createElement)(eW.z,{present:r||a.open},a.modal?(0,l.createElement)(ta,(0,eq.Z)({},i,{ref:t})):(0,l.createElement)(to,(0,eq.Z)({},i,{ref:t})))}),ta=(0,l.forwardRef)((e,t)=>{let n=e5(tr,e.__scopeDialog),r=(0,l.useRef)(null),i=(0,eB.e)(t,n.contentRef,r);return(0,l.useEffect)(()=>{let e=r.current;if(e)return(0,eJ.Ry)(e)},[]),(0,l.createElement)(ts,(0,eq.Z)({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,eF.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=n.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,eF.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,r=2===t.button||n;r&&e.preventDefault()}),onFocusOutside:(0,eF.M)(e.onFocusOutside,e=>e.preventDefault())}))}),to=(0,l.forwardRef)((e,t)=>{let n=e5(tr,e.__scopeDialog),r=(0,l.useRef)(!1),i=(0,l.useRef)(!1);return(0,l.createElement)(ts,(0,eq.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,o;null===(a=e.onCloseAutoFocus)||void 0===a||a.call(e,t),t.defaultPrevented||(r.current||null===(o=n.triggerRef.current)||void 0===o||o.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{var a,o;null===(a=e.onInteractOutside)||void 0===a||a.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(i.current=!0));let s=t.target,l=null===(o=n.triggerRef.current)||void 0===o?void 0:o.contains(s);l&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),ts=(0,l.forwardRef)((e,t)=>{let{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=e5(tr,n),u=(0,l.useRef)(null),c=(0,eB.e)(t,u);return(0,eG.EW)(),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(ez.M,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a},(0,l.createElement)(eZ.XB,(0,eq.Z)({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":td(s.open)},o,{ref:c,onDismiss:()=>s.onOpenChange(!1)}))),!1)}),tl="DialogTitle",tu=(0,l.forwardRef)((e,t)=>{let{__scopeDialog:n,...r}=e,i=e5(tl,n);return(0,l.createElement)(eQ.WV.h2,(0,eq.Z)({id:i.titleId},r,{ref:t}))}),tc=(0,l.forwardRef)((e,t)=>{let{__scopeDialog:n,...r}=e,i=e5("DialogClose",n);return(0,l.createElement)(eQ.WV.button,(0,eq.Z)({type:"button"},r,{ref:t,onClick:(0,eF.M)(e.onClick,()=>i.onOpenChange(!1))}))});function td(e){return e?"open":"closed"}let[th,tp]=(0,eU.k)("DialogTitleWarning",{contentName:tr,titleName:tl,docsSlug:"dialog"});n(92222);var tf=n(73935);function tm(e,[t,n]){return Math.min(n,Math.max(t,e))}var tv=n(65936),tg=n(78990),ty=n(42043),tb=n(79698),tw=n(9981);let tx=(0,l.forwardRef)((e,t)=>(0,l.createElement)(eQ.WV.span,(0,eq.Z)({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),t_=[" ","Enter","ArrowUp","ArrowDown"],tk=[" ","Enter"],tT="Select",[tE,tC,tS]=(0,tv.B)(tT),[tj,tL]=(0,eU.b)(tT,[tS,ty.D7]),tP=(0,ty.D7)(),[tM,tR]=tj(tT),[tI,tO]=tj(tT),tA=e=>{let{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:u,dir:c,name:d,autoComplete:h,disabled:p,required:f}=e,m=tP(t),[v,g]=(0,l.useState)(null),[y,b]=(0,l.useState)(null),[w,x]=(0,l.useState)(!1),_=(0,tg.gm)(c),[k=!1,T]=(0,eV.T)({prop:r,defaultProp:i,onChange:a}),[E,C]=(0,eV.T)({prop:o,defaultProp:s,onChange:u}),S=(0,l.useRef)(null),j=!v||Boolean(v.closest("form")),[L,P]=(0,l.useState)(new Set),M=Array.from(L).map(e=>e.props.value).join(";");return(0,l.createElement)(ty.fC,m,(0,l.createElement)(tM,{required:f,scope:t,trigger:v,onTriggerChange:g,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:x,contentId:(0,eH.M)(),value:E,onValueChange:C,open:k,onOpenChange:T,dir:_,triggerPointerDownPosRef:S,disabled:p},(0,l.createElement)(tE.Provider,{scope:t},(0,l.createElement)(tI,{scope:e.__scopeSelect,onNativeOptionAdd:(0,l.useCallback)(e=>{P(t=>new Set(t).add(e))},[]),onNativeOptionRemove:(0,l.useCallback)(e=>{P(t=>{let n=new Set(t);return n.delete(e),n})},[])},n)),j?(0,l.createElement)(t9,{key:M,"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:E,onChange:e=>C(e.target.value),disabled:p},void 0===E?(0,l.createElement)("option",{value:""}):null,Array.from(L)):null))},tN=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:n,disabled:r=!1,...i}=e,a=tP(n),o=tR("SelectTrigger",n),s=o.disabled||r,u=(0,eB.e)(t,o.onTriggerChange),c=tC(n),[d,h,p]=t7(e=>{let t=c().filter(e=>!e.disabled),n=t.find(e=>e.value===o.value),r=t8(t,e,n);void 0!==r&&o.onValueChange(r.value)}),f=()=>{s||(o.onOpenChange(!0),p())};return(0,l.createElement)(ty.ee,(0,eq.Z)({asChild:!0},a),(0,l.createElement)(eQ.WV.button,(0,eq.Z)({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":void 0===o.value?"":void 0},i,{ref:u,onClick:(0,eF.M)(i.onClick,e=>{e.currentTarget.focus()}),onPointerDown:(0,eF.M)(i.onPointerDown,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(f(),o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())}),onKeyDown:(0,eF.M)(i.onKeyDown,e=>{let t=""!==d.current,n=e.ctrlKey||e.altKey||e.metaKey;n||1!==e.key.length||h(e.key),(!t||" "!==e.key)&&t_.includes(e.key)&&(f(),e.preventDefault())})})))}),tD=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:n,className:r,style:i,children:a,placeholder:o,...s}=e,u=tR("SelectValue",n),{onValueNodeHasChildrenChange:c}=u,d=void 0!==a,h=(0,eB.e)(t,u.onValueNodeChange);return(0,tw.b)(()=>{c(d)},[c,d]),(0,l.createElement)(eQ.WV.span,(0,eq.Z)({},s,{ref:h,style:{pointerEvents:"none"}}),void 0===u.value&&void 0!==o?o:a)}),tq=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:n,children:r,...i}=e;return(0,l.createElement)(eQ.WV.span,(0,eq.Z)({"aria-hidden":!0},i,{ref:t}),r||"▼")}),tF=e=>(0,l.createElement)(e$.h,(0,eq.Z)({asChild:!0},e)),tB="SelectContent",tU=(0,l.forwardRef)((e,t)=>{let n=tR(tB,e.__scopeSelect),[r,i]=(0,l.useState)();return((0,tw.b)(()=>{i(new DocumentFragment)},[]),n.open)?(0,l.createElement)(tZ,(0,eq.Z)({},e,{ref:t})):r?(0,tf.createPortal)((0,l.createElement)(tH,{scope:e.__scopeSelect},(0,l.createElement)(tE.Slot,{scope:e.__scopeSelect},(0,l.createElement)("div",null,e.children))),r):null}),[tH,tV]=tj(tB),tZ=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:u,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:m,hideWhenDetached:v,avoidCollisions:g,...y}=e,b=tR(tB,n),[w,x]=(0,l.useState)(null),[_,k]=(0,l.useState)(null),T=(0,eB.e)(t,e=>x(e)),[E,C]=(0,l.useState)(null),[S,j]=(0,l.useState)(null),L=tC(n),[P,M]=(0,l.useState)(!1),R=(0,l.useRef)(!1);(0,l.useEffect)(()=>{if(w)return(0,eJ.Ry)(w)},[w]),(0,eG.EW)();let I=(0,l.useCallback)(e=>{let[t,...n]=L().map(e=>e.ref.current),[r]=n.slice(-1),i=document.activeElement;for(let a of e)if(a===i||(null==a||a.scrollIntoView({block:"nearest"}),a===t&&_&&(_.scrollTop=0),a===r&&_&&(_.scrollTop=_.scrollHeight),null==a||a.focus(),document.activeElement!==i))return},[L,_]),O=(0,l.useCallback)(()=>I([E,w]),[I,E,w]);(0,l.useEffect)(()=>{P&&O()},[P,O]);let{onOpenChange:A,triggerPointerDownPosRef:N}=b;(0,l.useEffect)(()=>{if(w){let e={x:0,y:0},t=t=>{var n,r,i,a;e={x:Math.abs(Math.round(t.pageX)-(null!==(n=null===(r=N.current)||void 0===r?void 0:r.x)&&void 0!==n?n:0)),y:Math.abs(Math.round(t.pageY)-(null!==(i=null===(a=N.current)||void 0===a?void 0:a.y)&&void 0!==i?i:0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():w.contains(n.target)||A(!1),document.removeEventListener("pointermove",t),N.current=null};return null!==N.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}},[w,A,N]),(0,l.useEffect)(()=>{let e=()=>A(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[A]);let[D,q]=t7(e=>{let t=L().filter(e=>!e.disabled),n=t.find(e=>e.ref.current===document.activeElement),r=t8(t,e,n);r&&setTimeout(()=>r.ref.current.focus())}),F=(0,l.useCallback)((e,t,n)=>{let r=!R.current&&!n,i=void 0!==b.value&&b.value===t;(i||r)&&(C(e),r&&(R.current=!0))},[b.value]),B=(0,l.useCallback)(()=>null==w?void 0:w.focus(),[w]),U=(0,l.useCallback)((e,t,n)=>{let r=!R.current&&!n,i=void 0!==b.value&&b.value===t;(i||r)&&j(e)},[b.value]),H="popper"===r?t$:tz;return(0,l.createElement)(tH,{scope:n,content:w,viewport:_,onViewportChange:k,itemRefCallback:F,selectedItem:E,onItemLeave:B,itemTextRefCallback:U,focusSelectedItem:O,selectedItemText:S,position:r,isPositioned:P,searchRef:D},(0,l.createElement)(eK.Z,{as:eY.g7,allowPinchZoom:!0},(0,l.createElement)(ez.M,{asChild:!0,trapped:b.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,eF.M)(i,e=>{var t;null===(t=b.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()})},(0,l.createElement)(eZ.XB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>b.onOpenChange(!1)},(0,l.createElement)(H,(0,eq.Z)({role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:e=>e.preventDefault()},y,H===t$?{side:s,sideOffset:u,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:m,hideWhenDetached:v,avoidCollisions:g}:{},{onPlaced:()=>M(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:(0,eF.M)(y.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||q(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let n=L().filter(e=>!e.disabled),r=n.map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(r=r.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let i=e.target,a=r.indexOf(i);r=r.slice(a+1)}setTimeout(()=>I(r)),e.preventDefault()}})}))))))}),tz=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:n,onPlaced:r,...i}=e,a=tR(tB,n),o=tV(tB,n),[s,u]=(0,l.useState)(null),[c,d]=(0,l.useState)(null),h=(0,eB.e)(t,e=>d(e)),p=tC(n),f=(0,l.useRef)(!1),m=(0,l.useRef)(!0),{viewport:v,selectedItem:g,selectedItemText:y,focusSelectedItem:b}=o,w=(0,l.useCallback)(()=>{if(a.trigger&&a.valueNode&&s&&c&&v&&g&&y){let e=a.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),n=a.valueNode.getBoundingClientRect(),i=y.getBoundingClientRect();if("rtl"!==a.dir){let o=i.left-t.left,l=n.left-o,u=e.left-l,d=e.width+u,h=Math.max(d,t.width),m=window.innerWidth-10,b=tm(l,[10,m-h]);s.style.minWidth=d+"px",s.style.left=b+"px"}else{let w=t.right-i.right,x=window.innerWidth-n.right-w,_=window.innerWidth-e.right-x,k=e.width+_,T=Math.max(k,t.width),E=window.innerWidth-10,C=tm(x,[10,E-T]);s.style.minWidth=k+"px",s.style.right=C+"px"}let S=p(),j=window.innerHeight-20,L=v.scrollHeight,P=window.getComputedStyle(c),M=parseInt(P.borderTopWidth,10),R=parseInt(P.paddingTop,10),I=parseInt(P.borderBottomWidth,10),O=parseInt(P.paddingBottom,10),A=M+R+L+O+I,N=Math.min(5*g.offsetHeight,A),D=window.getComputedStyle(v),q=parseInt(D.paddingTop,10),F=parseInt(D.paddingBottom,10),B=e.top+e.height/2-10,U=g.offsetHeight/2,H=g.offsetTop+U,V=M+R+H;if(V<=B){let Z=g===S[S.length-1].ref.current;s.style.bottom="0px";let z=c.clientHeight-v.offsetTop-v.offsetHeight;s.style.height=V+Math.max(j-B,U+(Z?F:0)+z+I)+"px"}else{let $=g===S[0].ref.current;s.style.top="0px";let W=Math.max(B,M+v.offsetTop+($?q:0)+U);s.style.height=W+(A-V)+"px",v.scrollTop=V-B+v.offsetTop}s.style.margin="10px 0",s.style.minHeight=N+"px",s.style.maxHeight=j+"px",null==r||r(),requestAnimationFrame(()=>f.current=!0)}},[p,a.trigger,a.valueNode,s,c,v,g,y,a.dir,r]);(0,tw.b)(()=>w(),[w]);let[x,_]=(0,l.useState)();(0,tw.b)(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);let k=(0,l.useCallback)(e=>{e&&!0===m.current&&(w(),null==b||b(),m.current=!1)},[w,b]);return(0,l.createElement)(tW,{scope:n,contentWrapper:s,shouldExpandOnScrollRef:f,onScrollButtonChange:k},(0,l.createElement)("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x}},(0,l.createElement)(eQ.WV.div,(0,eq.Z)({},i,{ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),t$=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:n,align:r="start",collisionPadding:i=10,...a}=e,o=tP(n);return(0,l.createElement)(ty.VY,(0,eq.Z)({},o,a,{ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[tW,tQ]=tj(tB,{}),tG="SelectViewport",tK=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:n,...r}=e,i=tV(tG,n),a=tQ(tG,n),o=(0,eB.e)(t,i.onViewportChange),s=(0,l.useRef)(0);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),(0,l.createElement)(tE.Slot,{scope:n},(0,l.createElement)(eQ.WV.div,(0,eq.Z)({"data-radix-select-viewport":"",role:"presentation"},r,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:(0,eF.M)(r.onScroll,e=>{let t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=a;if(null!=r&&r.current&&n){let i=Math.abs(s.current-t.scrollTop);if(i>0){let o=window.innerHeight-20,l=parseFloat(n.style.minHeight),u=parseFloat(n.style.height),c=Math.max(l,u);if(c<o){let d=c+i,h=Math.min(o,d),p=d-h;n.style.height=h+"px","0px"===n.style.bottom&&(t.scrollTop=p>0?p:0,n.style.justifyContent="flex-end")}}}s.current=t.scrollTop})}))))}),[tJ,tY]=tj("SelectGroup"),tX=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:n,...r}=e,i=(0,eH.M)();return(0,l.createElement)(tJ,{scope:n,id:i},(0,l.createElement)(eQ.WV.div,(0,eq.Z)({role:"group","aria-labelledby":i},r,{ref:t})))}),t0="SelectItem",[t1,t2]=tj(t0),t5=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,s=tR(t0,n),u=tV(t0,n),c=s.value===r,[d,h]=(0,l.useState)(null!=a?a:""),[p,f]=(0,l.useState)(!1),m=(0,eB.e)(t,e=>{var t;return null===(t=u.itemRefCallback)||void 0===t?void 0:t.call(u,e,r,i)}),v=(0,eH.M)(),g=()=>{i||(s.onValueChange(r),s.onOpenChange(!1))};return(0,l.createElement)(t1,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:(0,l.useCallback)(e=>{h(t=>{var n;return t||(null!==(n=null==e?void 0:e.textContent)&&void 0!==n?n:"").trim()})},[])},(0,l.createElement)(tE.ItemSlot,{scope:n,value:r,disabled:i,textValue:d},(0,l.createElement)(eQ.WV.div,(0,eq.Z)({role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},o,{ref:m,onFocus:(0,eF.M)(o.onFocus,()=>f(!0)),onBlur:(0,eF.M)(o.onBlur,()=>f(!1)),onPointerUp:(0,eF.M)(o.onPointerUp,g),onPointerMove:(0,eF.M)(o.onPointerMove,e=>{if(i){var t;null===(t=u.onItemLeave)||void 0===t||t.call(u)}else e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,eF.M)(o.onPointerLeave,e=>{if(e.currentTarget===document.activeElement){var t;null===(t=u.onItemLeave)||void 0===t||t.call(u)}}),onKeyDown:(0,eF.M)(o.onKeyDown,e=>{var t;let n=(null===(t=u.searchRef)||void 0===t?void 0:t.current)!=="";n&&" "===e.key||(tk.includes(e.key)&&g()," "===e.key&&e.preventDefault())})}))))}),t4="SelectItemText",t6=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:n,className:r,style:i,...a}=e,o=tR(t4,n),s=tV(t4,n),u=t2(t4,n),c=tO(t4,n),[d,h]=(0,l.useState)(null),p=(0,eB.e)(t,e=>h(e),u.onItemTextChange,e=>{var t;return null===(t=s.itemTextRefCallback)||void 0===t?void 0:t.call(s,e,u.value,u.disabled)}),f=null==d?void 0:d.textContent,m=(0,l.useMemo)(()=>(0,l.createElement)("option",{key:u.value,value:u.value,disabled:u.disabled},f),[u.disabled,u.value,f]),{onNativeOptionAdd:v,onNativeOptionRemove:g}=c;return(0,tw.b)(()=>(v(m),()=>g(m)),[v,g,m]),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(eQ.WV.span,(0,eq.Z)({id:u.textId},a,{ref:p})),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?(0,tf.createPortal)(a.children,o.valueNode):null)}),t3=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:n,...r}=e,i=t2("SelectItemIndicator",n);return i.isSelected?(0,l.createElement)(eQ.WV.span,(0,eq.Z)({"aria-hidden":!0},r,{ref:t})):null}),t9=((e,t)=>{let{__scopeSelect:n,onAutoScroll:r,...i}=e,a=tV("SelectScrollButton",n),o=(0,l.useRef)(null),s=tC(n),u=(0,l.useCallback)(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return(0,l.useEffect)(()=>()=>u(),[u]),(0,tw.b)(()=>{var e;let t=s().find(e=>e.ref.current===document.activeElement);null==t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[s]),(0,l.createElement)(eQ.WV.div,(0,eq.Z)({"aria-hidden":!0},i,{ref:t,style:{flexShrink:0,...i.style},onPointerDown:(0,eF.M)(i.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(r,50))}),onPointerMove:(0,eF.M)(i.onPointerMove,()=>{var e;null===(e=a.onItemLeave)||void 0===e||e.call(a),null===o.current&&(o.current=window.setInterval(r,50))}),onPointerLeave:(0,eF.M)(i.onPointerLeave,()=>{u()})}))},(0,l.forwardRef)((e,t)=>{let{value:n,...r}=e,i=(0,l.useRef)(null),a=(0,eB.e)(t,i),o=function(e){let t=(0,l.useRef)({value:e,previous:e});return(0,l.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(n);return(0,l.useEffect)(()=>{let e=i.current,t=window.HTMLSelectElement.prototype,r=Object.getOwnPropertyDescriptor(t,"value"),a=r.set;if(o!==n&&a){let s=new Event("change",{bubbles:!0});a.call(e,n),e.dispatchEvent(s)}},[o,n]),(0,l.createElement)(tx,{asChild:!0},(0,l.createElement)("select",(0,eq.Z)({},r,{ref:a,defaultValue:n})))}));function t7(e){let t=(0,tb.W)(e),n=(0,l.useRef)(""),r=(0,l.useRef)(0),i=(0,l.useCallback)(e=>{let i=n.current+e;t(i),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),a=(0,l.useCallback)(()=>{n.current="",window.clearTimeout(r.current)},[]);return(0,l.useEffect)(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function t8(e,t,n){var r;let i=t.length>1&&Array.from(t).every(e=>e===t[0]),a=i?t[0]:t,o=n?e.indexOf(n):-1,s=(r=Math.max(o,0),e.map((t,n)=>e[(r+n)%e.length])),l=1===a.length;l&&(s=s.filter(e=>e!==n));let u=s.find(e=>e.textValue.toLowerCase().startsWith(a.toLowerCase()));return u!==n?u:void 0}t9.displayName="BubbleSelect";var ne=n(5901),nt=n(49657),nn=n(93041),nr="data-hls-initialized",ni=0,na=function(e,t,n,r){if("true"===t.getAttribute(nr))return{destroy:function(){}};t.setAttribute(nr,"true");var i,a,o=new nn.Z((0,ef.b)({maxBufferLength:15,maxMaxBufferLength:60,liveMaxLatencyDurationCount:7,liveSyncDurationCount:3},r));return t&&o.attachMedia(t),o.on(nn.Z.Events.LEVEL_LOADED,(i=(0,ef._)((0,ef.a)().mark(function e(t,r){var i,a,o,s,l;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=(o=r.details).live,l=o.totalduration,null==n||null===(i=n.onLive)||void 0===i||i.call(n,Boolean(s)),null==n||null===(a=n.onDuration)||void 0===a||a.call(n,null!=l?l:0);case 3:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)})),o.on(nn.Z.Events.MEDIA_ATTACHED,(0,ef._)((0,ef.a)().mark(function t(){return(0,ef.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o.loadSource(e),o.on(nn.Z.Events.MANIFEST_PARSED,function(e,t){var r;null==n||null===(r=n.onCanPlay)||void 0===r||r.call(n)});case 2:case"end":return t.stop()}},t)}))),o.on(nn.Z.Events.ERROR,(a=(0,ef._)((0,ef.a)().mark(function e(t,r){var i,a,s,l,u,c,d;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.type,s=r.details,l=r.fatal,u=a===nn.Z.ErrorTypes.NETWORK_ERROR&&l,c=a===nn.Z.ErrorTypes.MEDIA_ERROR&&l,d=nn.Z.ErrorTypes.NETWORK_ERROR&&"manifestParsingError"===s,!(!l&&!d)){e.next=6;break}return e.abrupt("return");case 6:if(null==n||null===(i=n.onError)||void 0===i||i.call(n,r),!(u||c||d)){e.next=11;break}return e.next=10,new Promise(function(e){return setTimeout(e,1e3*++ni)});case 10:null==o||o.recoverMediaError();case 11:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)})),{destroy:function(){var e,n;null==o||null===(e=o.destroy)||void 0===e||e.call(o),null==t||null===(n=t.removeAttribute)||void 0===n||n.call(t,nr)}}};function no(){no=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(u){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a,o,s=Object.create((t&&t.prototype instanceof p?t:p).prototype);return r(s,"_invoke",{value:(a=new T(i||[]),o="suspendedStart",function(t,r){if("executing"===o)throw Error("Generator is already running");if("completed"===o){if("throw"===t)throw r;return C()}for(a.method=t,a.arg=r;;){var i=a.delegate;if(i){var s=function e(t,n){var r=n.method,i=t.iterator[r];if(void 0===i)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=TypeError("The iterator does not provide a '"+r+"' method")),h;var a=d(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,h):o:(n.method="throw",n.arg=TypeError("iterator result is not an object"),n.delegate=null,h)}(i,a);if(s){if(s===h)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===o)throw o="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o="executing";var l=d(e,n,a);if("normal"===l.type){if(o=a.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(o="completed",a.method="throw",a.arg=l.arg)}})}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=c;var h={};function p(){}function f(){}function m(){}var v={};l(v,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(E([])));y&&y!==t&&n.call(y,a)&&(v=y);var b=m.prototype=p.prototype=Object.create(v);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var i;r(this,"_invoke",{value:function(r,a){function o(){return new t(function(i,o){!function r(i,a,o,s){var l=d(e[i],e,a);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==typeof c&&n.call(c,"__await")?t.resolve(c.__await).then(function(e){r("next",e,o,s)},function(e){r("throw",e,o,s)}):t.resolve(c).then(function(e){u.value=e,o(u)},function(e){return r("throw",e,o,s)})}s(l.arg)}(r,a,i,o)})}return i=i?i.then(o,o):o()}})}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:f,configurable:!0}),f.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,o,function(){return this}),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},w(b),l(b,s,"Generator"),l(b,a,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;k(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function ns(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(u){n(u);return}s.done?t(l):Promise.resolve(l).then(r,i)}function nl(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(e){ns(a,r,i,o,s,"next",e)}function s(e){ns(a,r,i,o,s,"throw",e)}o(void 0)})}}function nu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return nu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nu(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var nd=function(e){return{_element:e._element,setLive:e.setLive,fullscreen:e.fullscreen,togglePlay:e.togglePlay,_updateMediaStream:e._updateMediaStream,deviceIds:e.deviceIds}},nh=l.forwardRef(function(e,t){var n,r=e.ingestUrl,i=e.title,a=e.aspectRatio,o=e.objectFit,s=e.webrtcConfig,u=e.onBroadcastError,c=e.onPlaybackStatusUpdate,d=e.playbackStatusSelector,h=l.useContext(eD.b),p=l.useCallback(function(e){var t;return null!==(t=null==d?void 0:d(e))&&void 0!==t?t:e},[d]);l.useEffect(function(){return h.subscribe(p,function(e,t){return null==c?void 0:c((0,J.s)(e),(0,J.s)(t))})},[c,p,h]);var f=(0,eD.u)(nd),m=f._element,v=f.setLive,g=f.fullscreen,y=f.togglePlay,b=f._updateMediaStream,w=nc(l.useState(null),2),x=w[0],_=w[1],k=l.useCallback((n=nl(no().mark(function e(t){var n,r,i,a,o,s,l,c;return no().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b(t.stream,{audio:null==t?void 0:null===(n=t.audioTransceiver)||void 0===n?void 0:null===(r=n.sender)||void 0===r?void 0:null===(i=r.track)||void 0===i?void 0:null===(a=i.getSettings())||void 0===a?void 0:a.deviceId,video:null==t?void 0:null===(o=t.videoTransceiver)||void 0===o?void 0:null===(s=o.sender)||void 0===s?void 0:null===(l=s.track)||void 0===l?void 0:null===(c=l.getSettings())||void 0===c?void 0:c.deviceId}),_({audio:t.audioTransceiver,video:t.videoTransceiver}),null==u||u(null),null==y||y(!0),v(!0);case 5:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),[v,u,y,b]),T=l.useCallback(function(e){var t,n,r,i=Error(null!==(t=null==e?void 0:null===(n=e.message)||void 0===n?void 0:null===(r=n.toString)||void 0===r?void 0:r.call(n))&&void 0!==t?t:"Error with WebRTC");null==u||u(i)},[u]);return l.useEffect(function(){if(m&&r){var e=eM(r,m,null!=a?a:"16to9",{onConnected:k,onError:T},s).destroy;return function(){null==e||e()}}},[s,a,m,k,r,u,T]),l.useEffect(function(){return h.subscribe(function(e,t){var n,r;(null===(n=e._mediaStream)||void 0===n?void 0:n.id)!==(null===(r=t._mediaStream)||void 0===r?void 0:r.id)&&e._element&&x&&e._mediaStream&&eR({newMediaStream:e._mediaStream,prevMediaStream:t._mediaStream,aspectRatio:null!=a?a:"16to9",element:e._element,videoTransceiver:x.video,audioTransceiver:x.audio,onConnected:k}).catch(function(e){return T(e)})})},[h,x,a,k,T]),(0,Y.jsx)("video",{className:ep.Il.media.video({size:g?"fullscreen":o}),"aria-label":null!=i?i:"Video player",role:"video",width:"100%",height:"100%",ref:t,"webkit-playsinline":"true",playsInline:!0,muted:!0})}),np=function(e){var t=e.value,n=e.onChange,r=e.type,i=e.portalContainer,a=e.mediaDevices,o=(0,l.useMemo)(function(){if(t&&a.every(function(e){return t!==e.deviceId})){var e,n=t.split(":",2),r=n.length>1?"".concat(null===(e=n[0])||void 0===e?void 0:e.slice(0,10),"...").concat(t.slice(-4)):t.slice(0,8);return null!=r?r:"screen"}return null},[a,t]);return(0,Y.jsxs)("div",{className:ep.Il.settings.select.group(),children:[(0,Y.jsx)("label",{className:ep.Il.settings.select.label(),htmlFor:"audio"===r?"audio-source":"video-source",children:"audio"===r?"Audio Source":"Video Source"}),(0,Y.jsxs)(tA,{disabled:0===a.length,value:t,onValueChange:n,name:"audio"===r?"audio-source":"video-source",children:[(0,Y.jsxs)(tN,{className:ep.Il.settings.select.trigger(),"aria-label":"audio"===r?"Audio Source":"Video Source",children:[(0,Y.jsx)(tD,{placeholder:"audio"===r?"Select your audio source...":"Select your video source..."}),(0,Y.jsx)(tq,{className:ep.Il.settings.select.icon(),children:(0,Y.jsx)(nf,{})})]}),(0,Y.jsx)(tF,{container:i,children:(0,Y.jsx)(tU,{className:ep.Il.settings.select.content(),children:(0,Y.jsx)(tK,{className:ep.Il.settings.select.viewport(),children:(0,Y.jsxs)(tX,{children:[a.map(function(e,t){var n;return(0,Y.jsxs)(t5,{value:e.deviceId,className:ep.Il.settings.select.item(),children:[(0,Y.jsx)(t6,{children:null!==(n=e.label)&&void 0!==n?n:"".concat("audio"===r?"Audio Source":"Video Source"," ").concat(t+1," (").concat("default"===e.deviceId?"default":e.deviceId.slice(0,6),")")}),(0,Y.jsx)(t3,{className:ep.Il.settings.select.itemIndicator(),children:(0,Y.jsx)(nm,{})})]},e.deviceId)}),t&&o&&(0,Y.jsxs)(t5,{value:t,className:ep.Il.settings.select.item(),children:[(0,Y.jsx)(t6,{children:"Screen Source (".concat(o,")")}),(0,Y.jsx)(t3,{className:ep.Il.settings.select.itemIndicator(),children:(0,Y.jsx)(nm,{})})]},t)]})})})})]})]})},nf=function(){return(0,Y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 -960 960 960",width:"20",children:(0,Y.jsx)("path",{fill:"currentColor",d:"M480-345 240-585l43-43 197 198 197-197 43 43-240 239Z"})})},nm=function(){return(0,Y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",viewBox:"0 -960 960 960",width:"16",children:(0,Y.jsx)("path",{d:"M378-246 154-470l43-43 181 181 384-384 43 43-427 427Z"})})},nv=function(e){return{deviceIds:e.deviceIds,_updateMediaStream:e._updateMediaStream}},ng=function(e){var t,n=e.portalContainer,r=e.streamConstraints,i=(0,eD.u)(nv),a=i.deviceIds,o=i._updateMediaStream,s=nc(l.useState(null),2),u=s[0],c=s[1];l.useEffect(function(){return eO(function(e){c(e.filter(function(e){return"audioinput"===e.kind}))})},[]);var d=l.useCallback((t=nl(no().mark(function e(t){var n,i,s;return no().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eI({source:{streamConstraints:r,videoDeviceId:null!==(n=null==a?void 0:a.video)&&void 0!==n?n:void 0,audioDeviceId:null!==(i=null!=t?t:null==a?void 0:a.audio)&&void 0!==i?i:void 0}});case 2:(s=e.sent)&&o(s);case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[o,a,r]);return(0,Y.jsx)(np,{type:"audio",onChange:d,value:null==a?void 0:a.audio,mediaDevices:null!=u?u:[],portalContainer:n})},ny=function(){return(0,Y.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",children:[(0,Y.jsx)("path",{d:"M 9.25,9 7.98,10.27 24.71,27 l 1.27,-1.27 Z",fill:"currentColor"}),(0,Y.jsx)("path",{fill:"currentColor",d:"M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 ZM19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z"})]})},nb=function(){return(0,Y.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",children:(0,Y.jsx)("path",{fill:"currentColor",d:"M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 ZM19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z"})})},nw=function(e){return{isVolumeChangeSupported:e.isVolumeChangeSupported,requestToggleMute:e.requestToggleMute,requestVolume:e.requestVolume,muted:e.muted,volume:e.volume}},nx=function(e){var t=(0,eD.u)(nw),n=t.volume,r=t.requestToggleMute,i=t.muted,a=t.requestVolume,o=t.isVolumeChangeSupported,l=es((0,s._)({volume:n,requestToggleMute:r,muted:i,requestVolume:a,isVolumeChangeSupported:o,defaultMutedIcon:(0,Y.jsx)(ny,{}),defaultUnmutedIcon:(0,Y.jsx)(nb,{})},e)),u=l.buttonProps,c=l.title;return(0,Y.jsx)("div",{className:ep.Il.volume.container(),children:(0,Y.jsx)("button",(0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:c,"aria-label":c,onClick:u.onPress},(0,F.o)(u,"onPress","size")))})},n_=function(e){return{deviceIds:e.deviceIds,_updateMediaStream:e._updateMediaStream}},nk=function(e){var t,n=e.portalContainer,r=e.streamConstraints,i=(0,eD.u)(n_),a=i.deviceIds,o=i._updateMediaStream,s=nc(l.useState(null),2),u=s[0],c=s[1];l.useEffect(function(){return eO(function(e){c(e.filter(function(e){return"videoinput"===e.kind}))})},[]);var d=l.useCallback((t=nl(no().mark(function e(t){var n,i,s;return no().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eI({source:{streamConstraints:r,videoDeviceId:null!==(n=null!=t?t:null==a?void 0:a.video)&&void 0!==n?n:void 0,audioDeviceId:null!==(i=null==a?void 0:a.audio)&&void 0!==i?i:void 0}});case 2:(s=e.sent)&&o(s);case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[o,a,r]);return(0,Y.jsx)(np,{type:"video",onChange:d,value:null==a?void 0:a.video,mediaDevices:null!=u?u:[],portalContainer:n})},nT=function(){return(0,Y.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",children:(0,Y.jsx)("path",{d:"m 23.94,18.78 c .03,-0.25 .05,-0.51 .05,-0.78 0,-0.27 -0.02,-0.52 -0.05,-0.78 l 1.68,-1.32 c .15,-0.12 .19,-0.33 .09,-0.51 l -1.6,-2.76 c -0.09,-0.17 -0.31,-0.24 -0.48,-0.17 l -1.99,.8 c -0.41,-0.32 -0.86,-0.58 -1.35,-0.78 l -0.30,-2.12 c -0.02,-0.19 -0.19,-0.33 -0.39,-0.33 l -3.2,0 c -0.2,0 -0.36,.14 -0.39,.33 l -0.30,2.12 c -0.48,.2 -0.93,.47 -1.35,.78 l -1.99,-0.8 c -0.18,-0.07 -0.39,0 -0.48,.17 l -1.6,2.76 c -0.10,.17 -0.05,.39 .09,.51 l 1.68,1.32 c -0.03,.25 -0.05,.52 -0.05,.78 0,.26 .02,.52 .05,.78 l -1.68,1.32 c -0.15,.12 -0.19,.33 -0.09,.51 l 1.6,2.76 c .09,.17 .31,.24 .48,.17 l 1.99,-0.8 c .41,.32 .86,.58 1.35,.78 l .30,2.12 c .02,.19 .19,.33 .39,.33 l 3.2,0 c .2,0 .36,-0.14 .39,-0.33 l .30,-2.12 c .48,-0.2 .93,-0.47 1.35,-0.78 l 1.99,.8 c .18,.07 .39,0 .48,-0.17 l 1.6,-2.76 c .09,-0.17 .05,-0.39 -0.09,-0.51 l -1.68,-1.32 0,0 z m -5.94,2.01 c -1.54,0 -2.8,-1.25 -2.8,-2.8 0,-1.54 1.25,-2.8 2.8,-2.8 1.54,0 2.8,1.25 2.8,2.8 0,1.54 -1.25,2.8 -2.8,2.8 l 0,0 z",fill:"currentColor"})})},nE=function(e){return{_element:e._element}},nC=function(e){var t,n,r,i,a=(0,eD.u)(nE)._element;return(0,Y.jsx)("div",{className:ep.Il.volume.container(),children:(0,Y.jsxs)(e4,{children:[(0,Y.jsx)(e6,{asChild:!0,children:(0,Y.jsx)("button",(0,s._)((0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:"Broadcast settings","aria-label":"Broadcast settings"},(0,F.o)(e,"icon","size","streamConstraints")),{},{children:null!==(t=null==e?void 0:e.icon)&&void 0!==t?t:(0,Y.jsx)(nT,{})}))}),(0,Y.jsxs)(e8,{container:null!==(n=null==a?void 0:a.parentElement)&&void 0!==n?n:a,children:[(0,Y.jsx)(tt,{className:ep.Il.settings.overlay()}),(0,Y.jsxs)(ti,{className:ep.Il.settings.content(),children:[(0,Y.jsx)(tu,{className:ep.Il.settings.title(),children:"Settings"}),(0,Y.jsx)(nk,{streamConstraints:e.streamConstraints,portalContainer:null!==(r=null==a?void 0:a.parentElement)&&void 0!==r?r:a}),(0,Y.jsx)(ng,{streamConstraints:e.streamConstraints,portalContainer:null!==(i=null==a?void 0:a.parentElement)&&void 0!==i?i:a}),(0,Y.jsx)(tc,{asChild:!0,children:(0,Y.jsx)("button",{className:ep.Il.settings.close(),"aria-label":"Close",children:(0,Y.jsx)(nS,{})})})]})]})]})})},nS=function(){return(0,Y.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48",viewBox:"0 -960 960 960",width:"48",children:(0,Y.jsx)("path",{d:"m249-207-42-42 231-231-231-231 42-42 231 231 231-231 42 42-231 231 231 231-42 42-231-231-231 231Z"})})},nj=function(){return(0,Y.jsx)("svg",{width:"100%",height:"100%",viewBox:"-340 -1265 1600 1600",children:(0,Y.jsx)("path",{fill:"currentColor",d:"M451-328h59v-194l79 81 43-43-153-152-152 152 43 43 81-81v194ZM140-160q-24 0-42-18t-18-42v-520q0-24 18-42t42-18h680q24 0 42 18t18 42v520q0 24-18 42t-42 18H140Zm0-60h680v-520H140v520Zm0 0v-520 520Z"})})},nL=function(e){return{_updateMediaStream:e._updateMediaStream}},nP=function(e){var t,n=(0,eD.u)(nL)._updateMediaStream,r=(0,l.useCallback)(nl(no().mark(function t(){var r;return no().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,eA(null==e?void 0:e.options);case 2:(r=t.sent)&&n(r);case 4:case"end":return t.stop()}},t)})),[n,null==e?void 0:e.options]);return(0,Y.jsx)("button",(0,s._)((0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:"Screen share","aria-label":"Screen share"},(0,F.o)(e,"icon","options","size")),{},{onClick:r,children:null!==(t=null==e?void 0:e.icon)&&void 0!==t?t:(0,Y.jsx)(nj,{})}))};function nM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var nR=["onIcon","offIcon","onPress"],nI=function(){return(0,Y.jsx)("svg",{width:"100%",height:"100%",viewBox:"-340 -1265 1600 1600",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Y.jsx)("path",{fill:"currentColor",d:"M140-160q-24 0-42-18t-18-42v-520q0-24 18-42t42-18h520q24 0 42 18t18 42v215l160-160v410L720-435v215q0 24-18 42t-42 18H140Zm0-60h520v-520H140v520Zm0 0v-520 520Z"})})},nO=function(){return(0,Y.jsx)("svg",{width:"100%",height:"100%",viewBox:"-340 -1265 1600 1600",fill:"none",children:(0,Y.jsx)("path",{fill:"currentColor",d:"M880-275 720-435v111l-60-60v-356H304l-60-60h416q24 0 42 18t18 42v215l160-160v410ZM848-27 39-836l42-42L890-69l-42 42ZM484-560Zm-87 82ZM159-800l60 60h-79v520h520v-79l60 60v19q0 24-18 42t-42 18H140q-24 0-42-18t-18-42v-520q0-24 18-42t42-18h19Z"})})},nA=function(e){return{toggleVideo:e.toggleVideo,video:e.video}},nN=function(e){var t,n=(0,eD.u)(nA),r=n.toggleVideo,i=n.video,a=e.onIcon,o=e.offIcon,u=e.onPress,c=nM(e,nR),d=(t=nl(no().mark(function e(){return no().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==u?void 0:u();case 2:return e.next=4,r();case 4:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),h=Q(Boolean(i),a,(0,Y.jsx)(nI,{}),o,(0,Y.jsx)(nO,{})),p=(0,l.useMemo)(function(){return i?"Turn video off (v)":"Turn video on (v)"},[i]);return(0,Y.jsx)("button",(0,s._)((0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:p,"aria-label":p,onClick:d},(0,F.o)(c,"size")),{},{children:h}))},nD=function(e){return{device:e.device}},nq=function(e){var t,n=(0,eD.u)(nD).device,r=l.useRef(null),i=nc(l.useState({width:0,left:0}),2),a=i[0],o=i[1];l.useEffect(function(){if("undefined"!=typeof window){var e=function(){var e,t,n,i=null===(e=r.current)||void 0===e?void 0:e.getBoundingClientRect();o({width:null!==(t=null==i?void 0:i.width)&&void 0!==t?t:0,left:null!==(n=null==i?void 0:i.left)&&void 0!==n?n:0})};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}},[]);var u=nc(l.useState(!1),2),c=u[0],d=u[1],h=nc(l.useState(0),2),p=h[0],f=h[1],m=ee((0,s._)({isActive:c||(null==n?void 0:n.isMobile),sliderWidth:a.width,defaultThumbIcon:(0,Y.jsx)(nF,{})},e)),v=m.title,g=m.value,y=m.active,b=m.handle,w=m.sliderProps,x=m.sliderLeftTrackProps,_=m.sliderMiddleTrackProps,k=m.sliderRightTrackProps,T=nc(l.useState(!1),2),E=T[0],C=T[1];l.useEffect(function(){if(E){var t,n,r,i,o,s,l,u,c=(i=nl(no().mark(function e(t){var n;return no().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now()-p>50,e.next=3,w.onUpdate(t.clientX-a.left,n);case 3:n&&f(Date.now());case 4:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),d=(t=nl(no().mark(function e(t){var n,r,i,o,s;return no().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Date.now()-p>50,!(s=null===(n=t.touches)||void 0===n?void 0:null===(r=n.item)||void 0===r?void 0:null===(i=r.call(n,0))||void 0===i?void 0:i.clientX)){e.next=6;break}return e.next=5,w.onUpdate(s-a.left,o);case 5:o&&f(Date.now());case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),h=(n=nl(no().mark(function t(n){var r;return no().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return C(!1),t.next=3,w.onUpdate(n.clientX-a.left,!0);case 3:return t.next=5,null==e?void 0:null===(r=e.onDone)||void 0===r?void 0:r.call(e);case 5:case"end":return t.stop()}},t)})),function(e){return n.apply(this,arguments)}),m=(r=nl(no().mark(function t(n){var r,i,o,s,l,u,c,d,h;return no().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(C(!1),!(h=null!==(r=null===(i=n.touches)||void 0===i?void 0:null===(o=i.item)||void 0===o?void 0:null===(s=o.call(i,0))||void 0===s?void 0:s.clientX)&&void 0!==r?r:null===(l=n.changedTouches)||void 0===l?void 0:null===(u=l.item)||void 0===u?void 0:null===(c=u.call(l,0))||void 0===c?void 0:c.clientX)){t.next=5;break}return t.next=5,w.onUpdate(h-a.left,!0);case 5:return t.next=7,null==e?void 0:null===(d=e.onDone)||void 0===d?void 0:d.call(e);case 7:case"end":return t.stop()}},t)})),function(e){return r.apply(this,arguments)});return null===(o=document)||void 0===o||o.addEventListener("mousemove",c),null===(s=document)||void 0===s||s.addEventListener("mouseup",h),null===(l=document)||void 0===l||l.addEventListener("touchmove",d),null===(u=document)||void 0===u||u.addEventListener("touchend",m),function(){var e,t,n,r;null===(e=document)||void 0===e||e.removeEventListener("mousemove",c),null===(t=document)||void 0===t||t.removeEventListener("mouseup",h),null===(n=document)||void 0===n||n.removeEventListener("touchmove",d),null===(r=document)||void 0===r||r.removeEventListener("touchend",m)}}},[E,w,e,a,p]);var S=l.useCallback((t=nl(no().mark(function e(t){return no().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.onUpdate(t.clientX-a.left);case 2:C(!0);case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[w,a]),j=l.useCallback(nl(no().mark(function e(){return no().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d(!0);case 1:case"end":return e.stop()}},e)})),[d]),L=l.useCallback(nl(no().mark(function e(){return no().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d(!1);case 1:case"end":return e.stop()}},e)})),[d]);return(0,Y.jsxs)("div",{ref:r,onPointerDown:S,onMouseEnter:j,onMouseLeave:L,role:"slider","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":g,"aria-valuetext":v,"aria-orientation":"horizontal",className:ep.Il.slider.container(),children:[x.shown&&(0,Y.jsx)("div",{className:ep.Il.slider.track.left({size:y?"active":"default",rounded:x.rounded,css:x.css})}),b,_.shown&&(0,Y.jsx)("div",{className:ep.Il.slider.track.middle({size:y?"active":"default",rounded:_.rounded,css:_.css})}),k.shown&&(0,Y.jsx)("div",{className:ep.Il.slider.track.right({size:y?"active":"default",rounded:k.rounded,css:k.css})})]})},nF=function(e){var t=e.size,n=e.css;return(0,Y.jsx)("div",{className:ep.Il.slider.thumb({css:n,size:t})})},nB=function(e){return{fullscreen:e.fullscreen}},nU=function(e){var t=e.children,n=e.aspectRatio,r=e.theme,i=e.tabIndex,a=(0,eD.a)(r),o=(0,eD.u)(nB).fullscreen;return(0,Y.jsx)("div",{style:{display:"contents"},className:"".concat(a?"".concat(a," "):"","livepeer-contents-container"),children:(0,Y.jsx)("div",{className:"".concat(ep.Il.container({aspectRatio:n,size:o?"fullscreen":"default"})," livepeer-aspect-ratio-container"),tabIndex:null!=i?i:0,children:t})})},nH=function(){return(0,Y.jsxs)("svg",{viewBox:"0 0 324 140",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82 8.30584L239.745 5.68359L242.335 118.151L83.9414 118.502L82 8.30584Z",fill:"#97F2EF"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M66 124.072L254.898 124L258 129L68.3248 128.971L66 124.072Z",fill:"#97F2EF"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94.2062 111.151L92.5204 15.5292L229.556 14.1187L231.803 111.716L94.2062 111.151Z",fill:"#4CC38A"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M185 58.1481C185 70.8507 174.703 82 162 82C153.04 82 145.277 77.3008 141.48 70.0741C141.421 69.9609 141.362 69.8472 141.305 69.7328C140.965 69.0558 140.782 66.2859 140.704 64.963C140.278 66.2407 140.43 67.3765 140.507 67.9444C139.533 65.4642 139 62.7423 139 59.8519C139 47.1493 149.297 36 162 36C166.913 36 171.467 37.4132 175.204 39.8814C175.63 41.0012 176.226 43.6667 175.204 45.3704C176 44.8025 177.651 43.3259 177.888 41.963C182.27 45.9317 185 51.6082 185 58.1481Z",fill:"#141716"}),(0,Y.jsx)("path",{d:"M140.704 64.963C140.278 66.2407 140.43 67.3765 140.507 67.9444C140.746 68.5556 141.013 69.1521 141.305 69.7328C140.965 69.0558 140.782 66.2859 140.704 64.963Z",fill:"#141716"}),(0,Y.jsx)("path",{d:"M171 60.5003L156 70V60.6462V51L166.104 57.3994L171 60.5003Z",stroke:"#4CC38A",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Y.jsx)("path",{d:"M101.096 100.921L176.5 101.109M219.885 101.163L198.193 101.136",stroke:"#141716",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M148.197 101.161C148.197 103.28 146.472 104.998 144.344 104.998C142.215 104.998 140.49 103.28 140.49 101.161C140.49 99.042 142.215 97.3242 144.344 97.3242C146.472 97.3242 148.197 99.042 148.197 101.161Z",fill:"#DF0087"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M148.197 101.161C148.197 103.28 146.472 104.998 144.344 104.998C142.215 104.998 140.49 103.28 140.49 101.161C140.49 99.042 142.215 97.3242 144.344 97.3242C146.472 97.3242 148.197 99.042 148.197 101.161Z",stroke:"#141716",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Y.jsx)("path",{d:"M93.7252 111.754L91.7752 14.7408L230.275 13.7374L232.225 112.245L93.7252 111.754Z",stroke:"#141716",strokeWidth:"2.5"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.0868 58.0273L49.9632 88.7907L19.4093 88.9852L19.0201 58.6113L49.0868 58.0273ZM51 89.7922L50.0663 57L18 57.6228L18.4147 90L51 89.7922Z",fill:"#434545"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M296.114 25.1881L297.132 60.7679L261.637 60.9929L261.185 25.8636L296.114 25.1881ZM298.336 61.9263L297.252 24L260 24.7203L260.482 62.1666L298.336 61.9263Z",fill:"#434545"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M293.138 78.0001L293 67.2077L303.689 67.0001L304 77.9308L293.138 78.0001ZM304.309 78.2288L292.842 78.3019L292.696 66.9135L303.98 66.6943L304.309 78.2288ZM303.071 67.6482L293.644 67.8313L293.766 77.3599L303.346 77.2989L303.071 67.6482ZM303.362 67.3425L293.34 67.5372L293.47 77.6618L303.654 77.5969L303.362 67.3425Z",fill:"#434545"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M303.362 67.3424L303.654 77.5969L293.47 77.6617L293.34 67.5371L303.362 67.3424ZM304 77.9307L303.689 67L293 67.2076L293.138 78L304 77.9307Z",fill:"#434545"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M289.594 66.2179L289.78 72.7435L283.299 72.7847L283.216 66.3418L289.594 66.2179ZM290 72.9559L289.802 66L283 66.1321L283.088 73L290 72.9559Z",fill:"#434545"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M290.309 73.254L282.792 73.3019L282.696 65.838L290.093 65.6943L290.309 73.254ZM289.594 66.218L289.78 72.7435L283.299 72.7848L283.216 66.3419L289.594 66.218ZM289.471 72.4455L283.595 72.4829L283.52 66.636L289.303 66.5237L289.471 72.4455ZM283.088 73.0001L283 66.1322L289.802 66.0001L290 72.956L283.088 73.0001Z",fill:"#434545"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.442 36.3017L47.3038 47.0941L57.9925 47.3017L58.3038 36.371L47.442 36.3017ZM58.6124 36.0729L47.1459 35.9998L47 47.3883L58.284 47.6074L58.6124 36.0729ZM57.3747 46.6536L47.9476 46.4704L48.0697 36.9419L57.6496 37.0029L57.3747 46.6536ZM57.6661 46.9593L47.6438 46.7646L47.7736 36.64L57.9582 36.7048L57.6661 46.9593Z",fill:"#434545"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M57.6661 46.9593L57.9582 36.7049L47.7736 36.64L47.6439 46.7646L57.6661 46.9593ZM58.3038 36.371L57.9926 47.3018L47.3038 47.0942L47.4421 36.3018L58.3038 36.371Z",fill:"#434545"})]})},nV=function(){return(0,Y.jsxs)("svg",{viewBox:"0 0 324 142",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Y.jsx)("circle",{cx:"162",cy:"76",r:"23",stroke:"#141716",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,Y.jsx)("path",{d:"M242 88.5C242 88.5 206.183 131 162 131C117.817 131 82 88.5 82 88.5C82 88.5 117.817 46 162 46C206.183 46 242 88.5 242 88.5Z",fill:"#97F2EF"}),(0,Y.jsx)("path",{d:"M249 82C249 82 210.825 128 162.5 128C114.175 128 74.5 82.5 74.5 82.5C74.5 82.5 114.175 32 162.5 32C219 34 249 82 249 82Z",fill:"#97F2EF"}),(0,Y.jsx)("path",{d:"M249 82.5C249 82.5 210.049 129 162 129C113.951 129 75 82.5 75 82.5C75 82.5 113.951 36 162 36C210.049 36 249 82.5 249 82.5Z",fill:"#4CC38A"}),(0,Y.jsx)("path",{d:"M216.5 60.8302C202.013 51.0702 182.921 42 162 42C116.713 42 80 84.5 80 84.5C80 84.5 116.713 127 162 127C207.287 127 244 84.5 244 84.5C244 84.5 240.941 80.9589 235.5 75.921",stroke:"#141716",strokeWidth:"2.5"}),(0,Y.jsx)("path",{d:"M118 117.5C117 119.5 107.5 122.7 107.5 125.5M127 121.5C123.667 126.167 117 136.7 117 141.5",stroke:"#97F2EF",strokeWidth:"2.5"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M193 86C193 100.912 180.912 114 166 114C155.482 114 146.369 108.484 141.912 100C141.842 99.8672 141.773 99.7336 141.706 99.5994C141.306 98.8046 141.091 95.553 141 94C140.5 95.5 140.679 96.8333 140.769 97.5C139.626 94.5884 139 91.3932 139 88C139 73.0883 151.088 60 166 60C171.768 60 177.113 61.6589 181.5 64.5564C182 65.8709 182.7 69 181.5 71C182.434 70.3333 184.373 68.6 184.652 67C189.796 71.6589 193 78.3227 193 86Z",fill:"#141716"}),(0,Y.jsx)("path",{d:"M141 94C140.5 95.5 140.679 96.8333 140.769 97.5C141.05 98.2174 141.363 98.9177 141.706 99.5994C141.306 98.8046 141.091 95.553 141 94Z",fill:"#141716"}),(0,Y.jsx)("path",{d:"M170.403 79C176.754 79 182.328 84.8203 182.328 92C182.328 99.1797 177.606 105 171.254 105C167.788 105 164.552 103.266 162.328 100.523C161.871 99.9592 161.457 99.3526 161.092 98.7097C159.98 96.7509 159.328 94.4549 159.328 92C159.328 84.8203 164.051 79 170.403 79Z",fill:"#4CC38A"}),(0,Y.jsx)("path",{d:"M70.5 43C77 48.1667 87.3 55 94.5 63M98 8C103 19.6667 113 44.8 113 52M156.5 0.5C156 12.5 158 32.5 158 32.5M223 56C231.667 50.6667 241 43 263 39",stroke:"#97F2EF",strokeWidth:"2.5"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M288.028 49.4047L287.706 29.9756L312.554 29.6019L313.278 49.28L288.028 49.4047ZM313.995 49.8165L287.339 49.9481L287 29.4461L313.232 29.0515L313.995 49.8165ZM311.118 30.7687L289.203 31.0984L289.487 48.2522L311.757 48.1424L311.118 30.7687ZM311.795 30.2184L288.497 30.5688L288.798 48.7957L312.474 48.679L311.795 30.2184Z",fill:"#434545"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M311.795 30.2182L312.475 48.6788L288.798 48.7955L288.497 30.5687L311.795 30.2182ZM313.278 49.2798L312.554 29.6017L287.706 29.9755L288.028 49.4045L313.278 49.2798Z",fill:"#434545"}),(0,Y.jsx)("path",{d:"M308.595 29.6018V24.201C308.595 20.224 305.371 17 301.394 17V17C297.417 17 294.193 20.224 294.193 24.201V29.6018",stroke:"#434545",strokeWidth:"2"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.9897 127.881L31.6802 109.168L55.6122 108.808L56.309 127.761L31.9897 127.881ZM57 128.278L31.3266 128.405L31 108.658L56.2646 108.278L57 128.278ZM54.2287 109.932L33.1217 110.25L33.3951 126.771L54.8443 126.665L54.2287 109.932ZM54.8812 109.402L32.4415 109.74L32.732 127.295L55.5352 127.182L54.8812 109.402Z",fill:"#434545"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M54.8813 109.402L55.5353 127.182L32.7321 127.295L32.4416 109.74L54.8813 109.402ZM56.3091 127.761L55.6122 108.808L31.6803 109.168L31.9898 127.881L56.3091 127.761Z",fill:"#434545"}),(0,Y.jsx)("path",{d:"M51.7984 108.808V103.606C51.7984 99.776 48.6932 96.6709 44.8628 96.6709V96.6709C41.0325 96.6709 37.9273 99.776 37.9273 103.606V108.808",stroke:"#434545"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4568 93.4225L16.3139 85.9741L27.3595 85.8309L27.6811 93.3747L16.4568 93.4225ZM28 93.5804L16.1507 93.6308L16 85.7711L27.6606 85.6199L28 93.5804ZM26.7209 86.2782L16.9793 86.4046L17.1054 92.9807L27.005 92.9386L26.7209 86.2782ZM27.0221 86.0672L16.6653 86.2016L16.7994 93.189L27.324 93.1443L27.0221 86.0672Z",fill:"#434545"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.0221 86.0676L27.324 93.1447L16.7994 93.1895L16.6654 86.202L27.0221 86.0676ZM27.6811 93.3751L27.3595 85.8313L16.314 85.9746L16.4568 93.4229L27.6811 93.3751Z",fill:"#434545"}),(0,Y.jsx)("path",{d:"M25.5992 85.831V84.201C25.5992 82.4331 24.1661 81 22.3982 81V81C20.6304 81 19.1972 82.4331 19.1972 84.201V85.831",stroke:"#434545"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M289.419 69.8179L289.288 62.3096L299.413 62.1844L299.708 69.7762L289.419 69.8179ZM300 69.9559L289.138 70L289 62.1322L299.689 62L300 69.9559ZM299 63H290L290.013 69.4319L299.088 69.3951L299 63ZM299.104 62.3909L289.61 62.5083L289.733 69.6139L299.38 69.5748L299.104 62.3909Z",fill:"#434545"}),(0,Y.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M299.104 62.3909L299.38 69.5748L289.733 69.6139L289.61 62.5083L299.104 62.3909ZM299.708 69.7762L299.413 62.1844L289.288 62.3096L289.419 69.8179L299.708 69.7762Z",fill:"#434545"}),(0,Y.jsx)("path",{d:"M296.752 62.9402V61.2516C296.752 60.0081 295.744 59 294.5 59V59C293.257 59 292.249 60.0081 292.249 61.2516V62.9402",stroke:"#434545"})]})},nZ=function(e){var t=e.isBroadcast;return(0,Y.jsxs)("div",{className:ep.Il.controlsContainer.error.background(),children:[(0,Y.jsx)(nH,{}),(0,Y.jsx)("div",{className:ep.Il.controlsContainer.error.title(),children:t?"Stream key invalid":"Stream is offline"}),(0,Y.jsx)("div",{className:ep.Il.controlsContainer.error.text(),children:t?"The provided stream key could not be found. Please check it and try again.":"Playback will start automatically once the stream has started."})]})},nz=function(){return(0,Y.jsxs)("div",{className:ep.Il.controlsContainer.error.background(),children:[(0,Y.jsx)(nV,{}),(0,Y.jsx)("div",{className:ep.Il.controlsContainer.error.title(),children:"Stream is private"}),(0,Y.jsx)("div",{className:ep.Il.controlsContainer.error.text(),children:"It looks like you don't have permission to view this content."})]})},n$=function(e){var t=e.isBroadcast;return(0,Y.jsxs)("div",{className:ep.Il.controlsContainer.error.background(),children:[(0,Y.jsx)(nH,{}),(0,Y.jsx)("div",{className:ep.Il.controlsContainer.error.title(),children:t?"Broadcast failed":"Playback failed"}),(0,Y.jsx)("div",{className:ep.Il.controlsContainer.error.text(),children:t?"There was an error with broadcasting - please try again later.":"There was an error with playback - please wait while we are retrying in the background."})]})},nW=function(e){return{hidden:e.hidden,togglePlay:e.togglePlay,canPlay:e.canPlay,hasPlayed:e.hasPlayed,buffered:e.buffered,ingestUrl:e.ingestUrl,_updateLastInteraction:e._updateLastInteraction}},nQ=function(e){var t=e.top,n=e.middle,r=e.left,i=e.right,a=e.poster,o=e.showLoadingSpinner,s=e.hidePosterOnPlayed,u=e.loadingText,c=e.error,d=e.children,h=(0,eD.u)(nW),p=h.hidden,f=h.togglePlay,m=h.canPlay,v=h.hasPlayed,g=h.buffered,y=h.ingestUrl,b=h._updateLastInteraction,w=l.useMemo(function(){return Boolean(y)},[y]),x=et({togglePlay:f,canPlay:m,buffered:g,isBroadcast:w,_updateLastInteraction:b}),_=x.isLoaded,k=x.containerProps;return(0,Y.jsxs)(Y.Fragment,{children:[a?(0,Y.jsx)("div",{className:ep.Il.controlsContainer.background({display:v&&(void 0===s||s)?"hidden":"shown"}),onMouseUp:k.onPress,children:a}):(0,Y.jsx)("div",{className:ep.Il.controlsContainer.background({display:"hidden"}),onMouseUp:k.onPress}),(void 0===o||o)&&!_&&!(null!=c&&c.type)&&(0,Y.jsxs)("div",{className:ep.Il.controlsContainer.background(),onMouseUp:k.onPress,children:[u&&(0,Y.jsx)("div",{className:ep.Il.controlsContainer.loadingText(),children:u}),(0,Y.jsx)("div",{className:ep.Il.controlsContainer.loading()})]}),(null==c?void 0:c.type)&&(0,Y.jsx)("div",{className:ep.Il.controlsContainer.background(),onMouseUp:k.onPress,children:(null==c?void 0:c.type)==="access-control"?(0,Y.jsx)(nz,{}):(null==c?void 0:c.type)==="offline"?(0,Y.jsx)(nZ,{isBroadcast:w}):(0,Y.jsx)(n$,{isBroadcast:w})}),_&&!(null!=c&&c.type)&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)("div",{className:ep.Il.controlsContainer.gradient({display:p?"hidden":"shown"}),onMouseUp:k.onPress}),(0,Y.jsx)("div",{className:ep.Il.controlsContainer.top.container({display:p?"hidden":"shown"}),children:t}),(0,Y.jsxs)("div",{className:ep.Il.controlsContainer.bottom.container({display:p?"hidden":"shown"}),children:[(0,Y.jsx)("div",{className:ep.Il.controlsContainer.bottom.middle.container(),children:n}),(0,Y.jsxs)("div",{className:ep.Il.controlsContainer.bottom.lower.container(),children:[(0,Y.jsx)("div",{className:ep.Il.controlsContainer.bottom.lower.left(),children:r}),(0,Y.jsx)("div",{className:ep.Il.controlsContainer.bottom.lower.right(),children:i})]})]}),d&&(0,Y.jsx)("div",{className:ep.Il.controlsContainer.background({display:p?"hidden":"shown"}),children:d})]})]})},nG=function(){return(0,Y.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Y.jsx)("path",{fill:"currentColor",d:"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z"}),(0,Y.jsx)("path",{fill:"currentColor",d:"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z"}),(0,Y.jsx)("path",{fill:"currentColor",d:"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z"}),(0,Y.jsx)("path",{fill:"currentColor",d:"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z"})]})},nK=function(){return(0,Y.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",children:[(0,Y.jsx)("path",{fill:"currentColor",d:"m 14,14 -4,0 0,2 6,0 0,-6 -2,0 0,4 0,0 z"}),(0,Y.jsx)("path",{fill:"currentColor",d:"m 22,14 0,-4 -2,0 0,6 6,0 0,-2 -4,0 0,0 z"}),(0,Y.jsx)("path",{fill:"currentColor",d:"m 20,26 2,0 0,-4 4,0 0,-2 -6,0 0,6 0,0 z"}),(0,Y.jsx)("path",{fill:"currentColor",d:"m 10,22 4,0 0,4 2,0 0,-6 -6,0 0,2 0,0 z"})]})},nJ=function(e){return{fullscreen:e.fullscreen,pictureInPicture:e.pictureInPicture,requestToggleFullscreen:e.requestToggleFullscreen}},nY=function(e){var t=(0,eD.u)(nJ),n=t.fullscreen,r=t.pictureInPicture,i=t.requestToggleFullscreen,a=en((0,s._)({fullscreen:n,pictureInPicture:r,requestToggleFullscreen:i,defaultEnterIcon:(0,Y.jsx)(nG,{}),defaultExitIcon:(0,Y.jsx)(nK,{})},e)),o=a.title,l=a.buttonProps;return l?(0,Y.jsx)("button",(0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:o,"aria-label":o,onClick:l.onPress},(0,F.o)(l,"onPress","size"))):(0,Y.jsx)(Y.Fragment,{})},nX=["icon","onPress"],n0=function(){return(0,Y.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",children:(0,Y.jsx)("path",{fill:"currentColor",d:"M25,17 L17,17 L17,23 L25,23 L25,17 L25,17 Z M29,25 L29,10.98 C29,9.88 28.1,9 27,9 L9,9 C7.9,9 7,9.88 7,10.98 L7,25 C7,26.1 7.9,27 9,27 L27,27 C28.1,27 29,26.1 29,25 L29,25 Z M27,25.02 L9,25.02 L9,10.97 L27,10.97 L27,25.02 L27,25.02 Z"})})},n1=function(e){return{requestTogglePictureInPicture:e.requestTogglePictureInPicture,pictureInPicture:e.pictureInPicture,_element:e._element,fullscreen:e.fullscreen}},n2=function(e){var t=(0,eD.u)(n1),n=t.requestTogglePictureInPicture,r=t._element,i=t.pictureInPicture,a=t.fullscreen,o=e.icon,u=e.onPress,c=nM(e,nX),d=l.useCallback(nl(no().mark(function e(){return no().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==u?void 0:u();case 2:return e.next=4,n();case 4:case"end":return e.stop()}},e)})),[u,n]),h=l.useMemo(function(){return(0,nt.vs)(r)},[r]),p=l.useMemo(function(){return i?"Exit mini player (i)":"Mini player (i)"},[i]);if(!h||a)return(0,Y.jsx)(Y.Fragment,{});var f=o||(0,Y.jsx)(n0,{});return(0,Y.jsx)("button",(0,s._)((0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:p,"aria-label":p,onClick:d},c),{},{children:f}))},n5=function(e){return{duration:e.duration,progress:e.progress,live:e.live}},n4=function(){var e=(0,eD.u)(n5),t=eo({duration:e.duration,progress:e.progress,live:e.live}),n=t.title,r=t.live;return(0,Y.jsx)(Y.Fragment,{children:r?(0,Y.jsxs)("div",{className:ep.Il.time.container(),children:[(0,Y.jsx)("div",{className:ep.Il.time.liveIndicator()}),(0,Y.jsx)("span",{className:ep.Il.time.text(),"aria-label":"Live streaming media",children:"LIVE"})]}):(0,Y.jsx)("span",{className:ep.Il.time.text(),"aria-label":"Playback time",children:n})})},n6=function(e){var t=e.content;return(0,Y.jsx)("span",{className:ep.Il.title(),"aria-label":"Title",children:t})};(0,l.memo)(function(e){var t=X(e),n=t.mediaElement,r=t.broadcastProps,i=t.mediaControllerProps,a=t.controlsContainerProps,o=t.props,u=o.children,c=o.controls,d=o.theme,h=o.title,p=o.aspectRatio,f=o.renderChildrenOutsideContainer;return(0,Y.jsxs)(eD.M,{element:n,opts:c,mediaProps:i,children:[(0,Y.jsxs)(nU,{theme:d,aspectRatio:p,tabIndex:e.tabIndex,children:[(0,Y.jsx)(nh,(0,s._)({},r)),!f&&l.isValidElement(u)?l.cloneElement(u,a):(0,Y.jsx)(nQ,(0,s._)((0,s._)({},a),{},{top:(0,Y.jsx)(Y.Fragment,{children:h&&(0,Y.jsx)(n6,{content:h})}),left:(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(nN,{}),(0,Y.jsx)(nx,{}),(0,Y.jsx)(nP,{options:null==e?void 0:e.displayMediaOptions}),(0,Y.jsx)(n4,{})]}),right:(0,Y.jsxs)(Y.Fragment,{children:[e.showPipButton&&(0,Y.jsx)(n2,{}),(0,Y.jsx)(nC,{streamConstraints:e.mediaStreamConstraints}),(0,Y.jsx)(nY,{})]})}))]}),f&&l.isValidElement(u)?u:(0,Y.jsx)(Y.Fragment,{})]})});var n3=function(e){return{fullscreen:e.fullscreen}},n9=l.forwardRef(function(e,t){var n=e.src,r=e.autoPlay,i=e.title,a=e.loop,o=e.muted,s=e.objectFit,u=e.allowCrossOriginCredentials,c=(0,eD.u)(n3).fullscreen,d=l.useMemo(function(){var e;return null!==(e=null==n?void 0:n.filter(function(e){return(null==e?void 0:e.mime)&&(0,nt.wf)(e)}))&&void 0!==e?e:[]},[n]);return(0,Y.jsxs)("audio",{className:ep.Il.media.audio({size:c?"fullscreen":s}),loop:a,"aria-label":null!=i?i:"Audio player",role:"audio",autoPlay:r,ref:t,"webkit-playsinline":"true",playsInline:!0,muted:o,crossOrigin:u?"use-credentials":"anonymous",children:[d.map(function(e){return(0,Y.jsx)("source",{src:e.src,type:e.mime},e.src)}),"Your browser doesn't support the HTML5 <code>audio</code> tag, or the audio format."]})});n9.displayName="AudioPlayer";var n7=function(){return(0,Y.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Y.jsx)("path",{d:"M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z",fill:"currentColor"})})},n8=function(){return(0,Y.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",fill:"none",children:(0,Y.jsx)("path",{d:"M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z",fill:"currentColor"})})},re=function(e){return{togglePlay:e.togglePlay,playing:e.playing}},rt=function(e){var t=(0,eD.u)(re),n=t.togglePlay,r=t.playing,i=er((0,s._)({togglePlay:n,playing:r,defaultPauseIcon:(0,Y.jsx)(n8,{}),defaultPlayIcon:(0,Y.jsx)(n7,{})},e)),a=i.buttonProps,o=i.title;return(0,Y.jsx)("button",(0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:o,"aria-label":o,onClick:a.onPress},(0,F.o)(a,"onPress","size")))},rn=function(e){return{fullscreen:e.fullscreen}},rr=function(e){var t=(0,eD.u)(rn).fullscreen,n=e.content,r=e.title;return"string"==typeof n?(0,Y.jsx)("img",{className:ep.Il.media.poster({size:t?"fullscreen":"default"}),"aria-label":r,alt:r,src:n}):l.isValidElement(n)?l.cloneElement(n,{className:ep.Il.media.poster({size:t?"fullscreen":"default"})}):(0,Y.jsx)(Y.Fragment,{})},ri=function(e){return{duration:e.duration,progress:e.progress,requestSeek:e.requestSeek,buffered:e.buffered,live:e.live}},ra=function(e){var t=(0,eD.u)(ri),n=t.duration,r=t.progress,i=t.requestSeek,a=t.buffered,o=t.live,l=ei((0,s._)({duration:n,progress:r,requestSeek:i,buffered:a,live:o},e)),u=l.isVisible,c=l.progressProps,d=l.title;return u?(0,Y.jsx)(nq,(0,s._)((0,s._)({},c),{},{ariaName:d})):(0,Y.jsx)(Y.Fragment,{})},ro=function(){return(0,Y.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",children:[(0,Y.jsx)("path",{d:"M 9.25,9 7.98,10.27 24.71,27 l 1.27,-1.27 Z",fill:"currentColor"}),(0,Y.jsx)("path",{fill:"currentColor",d:"M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 ZM19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z"})]})},rs=function(){return(0,Y.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",children:(0,Y.jsx)("path",{fill:"currentColor",d:"M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 ZM19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z"})})},rl=function(e){return{isVolumeChangeSupported:e.isVolumeChangeSupported,requestToggleMute:e.requestToggleMute,requestVolume:e.requestVolume,muted:e.muted,volume:e.volume}},ru=function(e){var t=(0,eD.u)(rl),n=t.volume,r=t.requestToggleMute,i=t.muted,a=t.requestVolume,o=t.isVolumeChangeSupported,l=es((0,s._)({volume:n,requestToggleMute:r,muted:i,requestVolume:a,isVolumeChangeSupported:o,defaultMutedIcon:(0,Y.jsx)(ro,{}),defaultUnmutedIcon:(0,Y.jsx)(rs,{})},e)),u=l.progressProps,c=l.buttonProps,d=l.title;return(0,Y.jsxs)("div",{className:ep.Il.volume.container(),children:[(0,Y.jsx)("button",(0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:d,"aria-label":d,onClick:c.onPress},(0,F.o)(c,"onPress","size"))),u.shown&&(0,Y.jsx)(nq,(0,s._)({ariaName:"volume",value:i?0:n},u))]})},rc=function(e){return{setLive:e.setLive,onDurationChange:e.onDurationChange,onCanPlay:e.onCanPlay,_element:e._element}},rd=l.forwardRef(function(e,t){var n,r=e.src,i=e.hlsConfig,a=e.autoPlay,o=e.title,u=e.loop,c=e.muted,d=e.poster,h=e.objectFit,p=e.fullscreen,f=e.playbackError,m=e.onPlaybackError,v=e.priority,g=e.allowCrossOriginCredentials,y=(0,eD.u)(rc),b=y.setLive,w=y.onCanPlay,x=y.onDurationChange,_=y._element,k=l.useCallback((n=nl(no().mark(function e(t){return no().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==m||m(null),b(t);case 2:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),[m,b]);return l.useEffect(function(){if(_&&r){var e=na(null==r?void 0:r.src,_,{onLive:k,onDuration:x,onCanPlay:w,onError:function(e){var t,n,r,i,a,o=Error(null!==(t=null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:null===(i=r.toString)||void 0===i?void 0:i.call(r))&&void 0!==t?t:(null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.code)===401?K.Hn:"Error with HLS.js");null==m||m(o)}},(0,s._)({autoplay:a,xhrSetup:function(e,t){e.withCredentials=Boolean(g)}},i)).destroy;return function(){null==e||e()}}},[a,i,x,w,_,r,k,m,g]),null!=f&&f.type?(0,Y.jsx)(Y.Fragment,{}):(0,Y.jsx)("video",{className:ep.Il.media.video({size:p?"fullscreen":h}),loop:u,"aria-label":null!=o?o:"Video player",role:"video",width:"100%",height:"100%",ref:t,"webkit-playsinline":"true",playsInline:!0,autoPlay:a,muted:c,poster:"string"==typeof d?d:void 0,preload:v?"auto":"metadata",crossOrigin:g?"use-credentials":"anonymous"})}),rh=function(e){return{canPlay:e.canPlay}},rp=l.forwardRef(function(e,t){var n,r,i=e.autoPlay,a=e.title,o=e.loop,s=e.muted,u=e.poster,c=e.objectFit,d=e.priority,h=e.onPlaybackError,p=e.src,f=e.fullscreen,m=(0,eD.u)(rh).canPlay,v=l.useCallback((n=nl(no().mark(function e(t){var n,r,i,a,o;return no().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=null!==(n=null==(i=null==(r=t.target)?void 0:r.parentElement)?void 0:i.currentSrc)&&void 0!==n?n:null==r?void 0:r.currentSrc)){e.next=22;break}return e.prev=4,e.next=7,fetch(a);case 7:if(404!==(o=e.sent).status){e.next=13;break}return console.warn("Video not found"),e.abrupt("return",null==h?void 0:h(Error(K.fu)));case 13:if(401!==o.status){e.next=16;break}return console.warn("Unauthorized to view video"),e.abrupt("return",null==h?void 0:h(Error(K.Hn)));case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(4),console.warn(e.t0),e.abrupt("return",null==h?void 0:h(Error("Error fetching video URL")));case 22:return console.warn("Unknown error loading video"),e.abrupt("return",null==h?void 0:h(Error("Unknown error loading video")));case 24:case"end":return e.stop()}},e,null,[[4,18]])})),function(e){return n.apply(this,arguments)}),[h]);return l.useEffect(function(){m&&(null==h||h(null))},[m,h]),(0,Y.jsx)("video",{className:ep.Il.media.video({size:f?"fullscreen":c}),loop:o,"aria-label":null!=a?a:"Video player",role:"video",autoPlay:i,width:"100%",height:"100%",ref:t,"webkit-playsinline":"true",playsInline:!0,muted:s,poster:"string"==typeof u?u:void 0,onError:v,preload:d?"auto":"metadata",src:null!==(r=null==p?void 0:p.src)&&void 0!==r?r:void 0,children:"Your browser doesn't support the HTML5 <code>video</code> tag, or the video format."})});rp.displayName="HtmlVideoPlayer";var rf=function(e){return{metadata:e.metadata,_element:e._element,setLive:e.setLive}},rm=l.forwardRef(function(e,t){var n=e.src,r=e.autoPlay,i=e.title,a=e.loop,o=e.muted,s=e.poster,u=e.objectFit,c=e.fullscreen,d=e.onPlaybackError,h=e.priority,p=e.webrtcConfig,f=(0,eD.u)(rf),m=f.metadata,v=f._element,g=f.setLive,y=l.useCallback(nl(no().mark(function e(){return no().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==d||d(null),g(!0);case 2:case"end":return e.stop()}},e)})),[d,g]);return l.useEffect(function(){null!=m&&m.bframes&&d(Error("Metadata indicates that WebRTC playback contains bframes."))},[m,d]),l.useEffect(function(){if(v&&n.src){var e=eL(null==n?void 0:n.src,v,{onConnected:y,onError:function(e){var t,n,r,i=Error(null!==(t=null==e?void 0:null===(n=e.message)||void 0===n?void 0:null===(r=n.toString)||void 0===r?void 0:r.call(n))&&void 0!==t?t:"Error with WebRTC");null==d||d(i)}},p).destroy;return function(){null==e||e()}}},[p,v,y,n,d]),(0,Y.jsx)("video",{className:ep.Il.media.video({size:c?"fullscreen":u}),loop:a,"aria-label":null!=i?i:"Video player",role:"video",width:"100%",height:"100%",ref:t,"webkit-playsinline":"true",playsInline:!0,autoPlay:r,muted:o,poster:"string"==typeof s?s:void 0,preload:h?"auto":"metadata"})}),rv=function(e){return{fullscreen:e.fullscreen}},rg=l.forwardRef(function(e,t){var n=(0,eD.u)(rv).fullscreen,r=e.src,i=e.onPlaybackError,a=e.playbackError,o=e.lowLatency,u=e.onPlaybackStatusUpdate,c=e.playbackStatusSelector,d=nc(l.useMemo(function(){return[!(0,ey.i)()||nn.Z.isSupported(),eb()]},[]),2),h=d[0],p=d[1],f=l.useMemo(function(){var e;return null==r?void 0:null===(e=r.filter(function(e){return!!o||"webrtc"!==e.type}))||void 0===e?void 0:e.map(function(e){return"hls"!==e.type||h?e:(0,s._)((0,s._)({},e),{},{type:"video",mime:"application/vnd.apple.mpegurl"})})},[r,h,o]),m=nc(l.useState(0),2),v=m[0],g=m[1],y=l.useCallback(function(){g(function(e){return e+1})},[g]),b=l.useMemo(function(){var e,t;return e=1e3*Math.pow(2,v),t=null,{debouncedFn:function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];null===t&&(t=setTimeout(function(){t=null,y.apply(void 0,r)},e))},cancel:function(){t&&(clearTimeout(t),t=null)}}},[y,v]),w=b.debouncedFn,x=b.cancel,_=l.useRef(w),k=l.useRef(x);l.useEffect(function(){_.current=w,k.current=x},[w,x]);var T=l.useMemo(function(){var e,t;return null!==(e=null==f?void 0:f[v%(null!==(t=null==f?void 0:f.length)&&void 0!==t?t:0)])&&void 0!==e?e:null},[f,v]);l.useEffect(function(){if((null==a?void 0:a.type)==="offline"&&(null==T?void 0:T.type)!=="hls"){var e;null==_||null===(e=_.current)||void 0===e||e.call(_)}},[a,T]),l.useEffect(function(){var e,t;(null==a?void 0:a.type)==="unknown"?null==_||null===(e=_.current)||void 0===e||e.call(_):null===a&&(null==k||null===(t=k.current)||void 0===t||t.call(k))},[a]),l.useEffect(function(){var e;((null==T?void 0:T.type)!=="webrtc"||p)&&((null==T?void 0:T.type)!=="hls"||h)&&((null==T?void 0:T.type)!=="video"||(0,nt.wf)(T))||null==_||null===(e=_.current)||void 0===e||e.call(_)},[h,p,T]);var E=l.useContext(eD.b),C=l.useCallback(function(e){return c?c(e):e},[c]);return l.useEffect(function(){return E.subscribe(C,function(e,t){return null==u?void 0:u((0,J.s)(e),(0,J.s)(t))})},[u,C,E]),l.useEffect(function(){if(T){var e,t,n;null==E||null===(e=E.getState)||void 0===e||null===(t=e.call(E))||void 0===t||null===(n=t._updateSource)||void 0===n||n.call(t,null==T?void 0:T.src)}},[E,T]),l.useEffect(function(){return(0,ne.z2)(E,function(e){null==i||i(e),console.error("Not able to report player metrics",e)}).destroy},[i,E]),(null==T?void 0:T.type)==="webrtc"?(0,Y.jsx)(rm,(0,s._)((0,s._)({},e),{},{ref:t,src:T,fullscreen:n})):(null==T?void 0:T.type)==="hls"?(0,Y.jsx)(rd,(0,s._)((0,s._)({},e),{},{ref:t,src:T,fullscreen:n})):(0,Y.jsx)(rp,(0,s._)((0,s._)({},e),{},{ref:t,src:T,fullscreen:n}))}),ry=l.memo(rg),rb=function(e){var t=nc(l.useState(!1),2),n=t[0],r=t[1];return l.useEffect(function(){if("undefined"!=typeof window&&e){if("IntersectionObserver"in window){var t=new IntersectionObserver(function(e){var t=nc(e,1)[0];return r(Boolean(null==t?void 0:t.isIntersecting))});return t.observe(e),function(){t.disconnect()}}r(!0)}},[e]),n},rw=(0,l.memo)(function(e){var t,n=nc(l.useState(!1),2),r=n[0],i=n[1],a=l.useMemo(function(){var e,t,n,r;return"undefined"!=typeof window&&null!==(e=(null===(t=window)||void 0===t?void 0:null===(n=t.screen)||void 0===n?void 0:n.availWidth)||(null===(r=window)||void 0===r?void 0:r.innerWidth))&&void 0!==e?e:null},[]),o=l.useMemo(function(){var t;return null!==(t=e._isCurrentlyShown)&&void 0!==t?t:r},[e._isCurrentlyShown,r]),u=eh((0,s._)((0,s._)({},e),{},{_isCurrentlyShown:o}),{_screenWidth:a}),c=u.mediaElement,d=u.playerProps,h=u.mediaControllerProps,p=u.controlsContainerProps,f=u.source,m=u.props,v=m.children,g=m.controls,y=m.theme,b=m.title,w=m.poster,x=m.showTitle,_=m.aspectRatio,k=m.renderChildrenOutsideContainer,T=rb(c);return l.useEffect(function(){i(T)},[T]),(0,Y.jsxs)(eD.M,{element:c,opts:g,mediaProps:h,children:[(0,Y.jsxs)(nU,{theme:y,aspectRatio:_,tabIndex:e.tabIndex,children:[f&&(null==f?void 0:null===(t=f[0])||void 0===t?void 0:t.type)==="audio"?(0,Y.jsx)(n9,(0,s._)((0,s._)({},d),{},{src:f,allowCrossOriginCredentials:e.allowCrossOriginCredentials})):(0,Y.jsx)(ry,(0,s._)((0,s._)({},d),{},{hlsConfig:e.hlsConfig,webrtcConfig:e.webrtcConfig,lowLatency:e.lowLatency,playbackStatusSelector:e.playbackStatusSelector,allowCrossOriginCredentials:e.allowCrossOriginCredentials,src:f})),!k&&l.isValidElement(v)?l.cloneElement(v,p):(0,Y.jsx)(nQ,(0,s._)((0,s._)({},p),{},{poster:w&&(0,Y.jsx)(rr,{content:w,title:b}),top:(0,Y.jsx)(Y.Fragment,{children:b&&x&&(0,Y.jsx)(n6,{content:b})}),middle:(0,Y.jsx)(ra,{}),left:(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(rt,{}),(0,Y.jsx)(ru,{}),(0,Y.jsx)(n4,{})]}),right:(0,Y.jsxs)(Y.Fragment,{children:[e.showPipButton&&(0,Y.jsx)(n2,{}),(0,Y.jsx)(nY,{})]})}))]}),k&&l.isValidElement(v)?v:(0,Y.jsx)(Y.Fragment,{})]})})},31530:function(e,t,n){"use strict";var r=n(28710).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},48457:function(e,t,n){"use strict";var r=n(49974),i=n(46916),a=n(47908),o=n(53411),s=n(97659),l=n(4411),u=n(26244),c=n(86135),d=n(18554),h=n(71246),p=Array;e.exports=function(e){var t,n,f,m,v,g,y=a(e),b=l(this),w=arguments.length,x=w>1?arguments[1]:void 0,_=void 0!==x;_&&(x=r(x,w>2?arguments[2]:void 0));var k=h(y),T=0;if(k&&!(this===p&&s(k)))for(v=(m=d(y,k)).next,n=b?new this:[];!(f=i(v,m)).done;T++)g=_?o(m,x,[f.value,T],!0):f.value,c(n,T,g);else for(t=u(y),n=b?new this(t):p(t);t>T;T++)g=_?x(y[T],T):y[T],c(n,T,g);return n.length=T,n}},42092:function(e,t,n){var r=n(49974),i=n(1702),a=n(68361),o=n(47908),s=n(26244),l=n(65417),u=i([].push),c=function(e){var t=1==e,n=2==e,i=3==e,c=4==e,d=6==e,h=7==e,p=5==e||d;return function(f,m,v,g){for(var y,b,w=o(f),x=a(w),_=r(m,v),k=s(x),T=0,E=g||l,C=t?E(f,k):n||h?E(f,0):void 0;k>T;T++)if((p||T in x)&&(b=_(y=x[T],T,w),e)){if(t)C[T]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return T;case 2:u(C,y)}else switch(e){case 4:return!1;case 7:u(C,y)}}return d?-1:i||c?c:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},81194:function(e,t,n){var r=n(47293),i=n(5112),a=n(7392),o=i("species");e.exports=function(e){return a>=51||!r(function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},41589:function(e,t,n){var r=n(51400),i=n(26244),a=n(86135),o=Array,s=Math.max;e.exports=function(e,t,n){for(var l=i(e),u=r(t,l),c=r(void 0===n?l:n,l),d=o(s(c-u,0)),h=0;u<c;u++,h++)a(d,h,e[u]);return d.length=h,d}},94362:function(e,t,n){var r=n(41589),i=Math.floor,a=function(e,t){var n=e.length,l=i(n/2);return n<8?o(e,t):s(e,a(r(e,0,l),t),a(r(e,l),t),t)},o=function(e,t){for(var n,r,i=e.length,a=1;a<i;){for(r=a,n=e[a];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==a++&&(e[r]=n)}return e},s=function(e,t,n,r){for(var i=t.length,a=n.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?0>=r(t[o],n[s])?t[o++]:n[s++]:o<i?t[o++]:n[s++];return e};e.exports=a},77475:function(e,t,n){var r=n(43157),i=n(4411),a=n(70111),o=n(5112)("species"),s=Array;e.exports=function(e){var t;return r(e)&&(i(t=e.constructor)&&(t===s||r(t.prototype))?t=void 0:a(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?s:t}},65417:function(e,t,n){var r=n(77475);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},53411:function(e,t,n){var r=n(19670),i=n(99212);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(o){i(e,"throw",o)}}},49920:function(e,t,n){var r=n(47293);e.exports=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},76178:function(e){e.exports=function(e,t){return{value:e,done:t}}},86135:function(e,t,n){"use strict";var r=n(34948),i=n(3070),a=n(79114);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},89190:function(e,t,n){var r=n(98052);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},7207:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},48324:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},98509:function(e,t,n){var r=n(80317)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},27007:function(e,t,n){"use strict";n(74916);var r=n(21470),i=n(98052),a=n(22261),o=n(47293),s=n(5112),l=n(68880),u=s("species"),c=RegExp.prototype;e.exports=function(e,t,n,d){var h=s(e),p=!o(function(){var t={};return t[h]=function(){return 7},7!=""[e](t)}),f=p&&!o(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return t=!0,null},n[h](""),!t});if(!p||!f||n){var m=r(/./[h]),v=t(h,""[e],function(e,t,n,i,o){var s=r(e),l=t.exec;return l===a||l===c.exec?p&&!o?{done:!0,value:m(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}});i(String.prototype,e,v[0]),i(c,h,v[1])}d&&l(c[h],"sham",!0)}},10647:function(e,t,n){var r=n(1702),i=n(47908),a=Math.floor,o=r("".charAt),s=r("".replace),l=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,h){var p=n+e.length,f=r.length,m=c;return void 0!==d&&(d=i(d),m=u),s(h,m,function(i,s){var u;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,p);case"<":u=d[l(s,1,-1)];break;default:var c=+s;if(0===c)return i;if(c>f){var h=a(c/10);if(0===h)return i;if(h<=f)return void 0===r[h-1]?o(s,1):r[h-1]+o(s,1);return i}u=r[c-1]}return void 0===u?"":u})}},43157:function(e,t,n){var r=n(84326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},63061:function(e,t,n){"use strict";var r=n(13383).IteratorPrototype,i=n(70030),a=n(79114),o=n(58003),s=n(97497),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=i(r,{next:a(+!u,n)}),o(e,c,!1,!0),s[c]=l,e}},51656:function(e,t,n){"use strict";var r=n(82109),i=n(46916),a=n(31913),o=n(76530),s=n(60614),l=n(63061),u=n(79518),c=n(27674),d=n(58003),h=n(68880),p=n(98052),f=n(5112),m=n(97497),v=n(13383),g=o.PROPER,y=o.CONFIGURABLE,b=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,x=f("iterator"),_="keys",k="values",T="entries",E=function(){return this};e.exports=function(e,t,n,o,f,v,C){l(n,t,o);var S,j,L,P=function(e){if(e===f&&A)return A;if(!w&&e in I)return I[e];switch(e){case _:case k:case T:return function(){return new n(this,e)}}return function(){return new n(this)}},M=t+" Iterator",R=!1,I=e.prototype,O=I[x]||I["@@iterator"]||f&&I[f],A=!w&&O||P(f),N="Array"==t&&I.entries||O;if(N&&(S=u(N.call(new e)))!==Object.prototype&&S.next&&(a||u(S)===b||(c?c(S,b):s(S[x])||p(S,x,E)),d(S,M,!0,!0),a&&(m[M]=E)),g&&f==k&&O&&O.name!==k&&(!a&&y?h(I,"name",k):(R=!0,A=function(){return i(O,this)})),f){if(j={values:P(k),keys:v?A:P(_),entries:P(T)},C)for(L in j)!w&&!R&&L in I||p(I,L,j[L]);else r({target:t,proto:!0,forced:w||R},j)}return(!a||C)&&I[x]!==A&&p(I,x,A,{name:f}),m[t]=A,j}},13383:function(e,t,n){"use strict";var r,i,a,o=n(47293),s=n(60614),l=n(70111),u=n(70030),c=n(79518),d=n(98052),h=n(5112),p=n(31913),f=h("iterator"),m=!1;[].keys&&("next"in(a=[].keys())?(i=c(c(a)))!==Object.prototype&&(r=i):m=!0),!l(r)||o(function(){var e={};return r[f].call(e)!==e})?r={}:p&&(r=u(r)),s(r[f])||d(r,f,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},79518:function(e,t,n){var r=n(92597),i=n(60614),a=n(47908),o=n(6200),s=n(49920),l=o("IE_PROTO"),u=Object,c=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=a(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},97651:function(e,t,n){var r=n(46916),i=n(19670),a=n(60614),o=n(84326),s=n(22261),l=TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var u=r(n,e,t);return null!==u&&i(u),u}if("RegExp"===o(e))return r(s,e,t);throw l("RegExp#exec called on incompatible receiver")}},34706:function(e,t,n){var r=n(46916),i=n(92597),a=n(47976),o=n(67066),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return!(void 0===t&&!("flags"in s)&&!i(e,"flags")&&a(s,e))?t:r(o,e)}},28710:function(e,t,n){var r=n(1702),i=n(19303),a=n(41340),o=n(84488),s=r("".charAt),l=r("".charCodeAt),u=r("".slice),c=function(e){return function(t,n){var r,c,d=a(o(t)),h=i(n),p=d.length;return h<0||h>=p?e?"":void 0:(r=l(d,h))<55296||r>56319||h+1===p||(c=l(d,h+1))<56320||c>57343?e?s(d,h):r:e?u(d,h,h+2):(r-55296<<10)+(c-56320)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},33197:function(e,t,n){var r=n(1702),i=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",s=RangeError,l=r(a.exec),u=Math.floor,c=String.fromCharCode,d=r("".charCodeAt),h=r([].join),p=r([].push),f=r("".replace),m=r("".split),v=r("".toLowerCase),g=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=d(e,n++);if(i>=55296&&i<=56319&&n<r){var a=d(e,n++);(64512&a)==56320?p(t,((1023&i)<<10)+(1023&a)+65536):(p(t,i),n--)}else p(t,i)}return t},y=function(e){return e+22+75*(e<26)},b=function(e,t,n){var r=0;for(e=n?u(e/700):e>>1,e+=u(e/t);e>455;)e=u(e/35),r+=36;return u(r+36*e/(e+38))},w=function(e){var t,n,r=[],i=(e=g(e)).length,a=128,l=0,d=72;for(t=0;t<e.length;t++)(n=e[t])<128&&p(r,c(n));var f=r.length,m=f;for(f&&p(r,"-");m<i;){var v=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=a&&n<v&&(v=n);var w=m+1;if(v-a>u((2147483647-l)/w))throw s(o);for(l+=(v-a)*w,a=v,t=0;t<e.length;t++){if((n=e[t])<a&&++l>2147483647)throw s(o);if(n==a){for(var x=l,_=36;;){var k=_<=d?1:_>=d+26?26:_-d;if(x<k)break;var T=x-k,E=36-k;p(r,c(y(k+T%E))),x=u(T/E),_+=36}p(r,c(y(x))),d=b(l,w,m==f),l=0,m++}}l++,a++}return h(r,"")};e.exports=function(e){var t,n,r=[],o=m(f(v(e),a,"."),".");for(t=0;t<o.length;t++)p(r,l(i,n=o[t])?"xn--"+w(n):n);return h(r,".")}},85143:function(e,t,n){var r=n(47293),i=n(5112),a=n(19781),o=n(31913),s=i("iterator");e.exports=!r(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2"),r="";return e.pathname="c%20d",t.forEach(function(e,n){t.delete("b"),r+=n+e}),n.delete("a",2),o&&(!e.toJSON||!n.has("a",1)||n.has("a",2))||!t.size&&(o||!a)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})},92222:function(e,t,n){"use strict";var r=n(82109),i=n(47293),a=n(43157),o=n(70111),s=n(47908),l=n(26244),u=n(7207),c=n(86135),d=n(65417),h=n(81194),p=n(5112),f=n(7392),m=p("isConcatSpreadable"),v=f>=51||!i(function(){var e=[];return e[m]=!1,e.concat()[0]!==e}),g=function(e){if(!o(e))return!1;var t=e[m];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,arity:1,forced:!v||!h("concat")},{concat:function(e){var t,n,r,i,a,o=s(this),h=d(o,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(a=-1===t?o:arguments[t],g(a))for(u(p+(i=l(a))),n=0;n<i;n++,p++)n in a&&c(h,p,a[n]);else u(p+1),c(h,p++,a);return h.length=p,h}})},4480:function(e,t,n){"use strict";var r=n(82109),i=n(42092).filter;r({target:"Array",proto:!0,forced:!n(81194)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},66992:function(e,t,n){"use strict";var r=n(45656),i=n(51223),a=n(97497),o=n(29909),s=n(3070).f,l=n(51656),u=n(76178),c=n(31913),d=n(19781),h="Array Iterator",p=o.set,f=o.getterFor(h);e.exports=l(Array,"Array",function(e,t){p(this,{type:h,target:r(e),index:0,kind:t})},function(){var e=f(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,u(void 0,!0)):"keys"==n?u(r,!1):"values"==n?u(t[r],!1):u([r,t[r]],!1)},"values");var m=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!c&&d&&"values"!==m.name)try{s(m,"name",{value:"values"})}catch(v){}},21249:function(e,t,n){"use strict";var r=n(82109),i=n(42092).map;r({target:"Array",proto:!0,forced:!n(81194)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},47042:function(e,t,n){"use strict";var r=n(82109),i=n(43157),a=n(4411),o=n(70111),s=n(51400),l=n(26244),u=n(45656),c=n(86135),d=n(5112),h=n(81194),p=n(50206),f=h("slice"),m=d("species"),v=Array,g=Math.max;r({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var n,r,d,h=u(this),f=l(h),y=s(e,f),b=s(void 0===t?f:t,f);if(i(h)&&(a(n=h.constructor)&&(n===v||i(n.prototype))?n=void 0:o(n)&&null===(n=n[m])&&(n=void 0),n===v||void 0===n))return p(h,y,b);for(d=0,r=new(void 0===n?v:n)(g(b-y,0));y<b;y++,d++)y in h&&c(r,d,h[y]);return r.length=d,r}})},39714:function(e,t,n){"use strict";var r=n(76530).PROPER,i=n(98052),a=n(19670),o=n(41340),s=n(47293),l=n(34706),u="toString",c=RegExp.prototype[u],d=s(function(){return"/a/b"!=c.call({source:"a",flags:"b"})}),h=r&&c.name!=u;(d||h)&&i(RegExp.prototype,u,function(){var e=a(this);return"/"+o(e.source)+"/"+o(l(e))},{unsafe:!0})},78783:function(e,t,n){"use strict";var r=n(28710).charAt,i=n(41340),a=n(29909),o=n(51656),s=n(76178),l="String Iterator",u=a.set,c=a.getterFor(l);o(String,"String",function(e){u(this,{type:l,string:i(e),index:0})},function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?s(void 0,!0):(e=r(n,i),t.index+=e.length,s(e,!1))})},15306:function(e,t,n){"use strict";var r=n(22104),i=n(46916),a=n(1702),o=n(27007),s=n(47293),l=n(19670),u=n(60614),c=n(68554),d=n(19303),h=n(17466),p=n(41340),f=n(84488),m=n(31530),v=n(58173),g=n(10647),y=n(97651),b=n(5112)("replace"),w=Math.max,x=Math.min,_=a([].concat),k=a([].push),T=a("".indexOf),E=a("".slice),C="$0"==="a".replace(/./,"$0"),S=!!/./[b]&&""===/./[b]("a","$0");o("replace",function(e,t,n){var a=S?"$":"$0";return[function(e,n){var r=f(this),a=c(e)?void 0:v(e,b);return a?i(a,e,r,n):i(t,p(r),e,n)},function(e,i){var o=l(this),s=p(e);if("string"==typeof i&&-1===T(i,a)&&-1===T(i,"$<")){var c=n(t,o,s,i);if(c.done)return c.value}var f=u(i);f||(i=p(i));var v=o.global;if(v){var b=o.unicode;o.lastIndex=0}for(var C=[];;){var S=y(o,s);if(null===S||(k(C,S),!v))break;""===p(S[0])&&(o.lastIndex=m(s,h(o.lastIndex),b))}for(var j="",L=0,P=0;P<C.length;P++){for(var M,R=p((S=C[P])[0]),I=w(x(d(S.index),s.length),0),O=[],A=1;A<S.length;A++)k(O,void 0===(M=S[A])?M:String(M));var N=S.groups;if(f){var D=_([R],O,I,s);void 0!==N&&k(D,N);var q=p(r(i,void 0,D))}else q=g(R,s,I,O,N,i);I>=L&&(j+=E(s,L,I)+q,L=I+R.length)}return j+E(s,L)}]},!!s(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!C||S)},23157:function(e,t,n){"use strict";var r,i=n(82109),a=n(21470),o=n(31236).f,s=n(17466),l=n(41340),u=n(3929),c=n(84488),d=n(84964),h=n(31913),p=a("".startsWith),f=a("".slice),m=Math.min,v=d("startsWith");i({target:"String",proto:!0,forced:!(!h&&!v&&(r=o(String.prototype,"startsWith"))&&!r.writable)&&!v},{startsWith:function(e){var t=l(c(this));u(e);var n=s(m(arguments.length>1?arguments[1]:void 0,t.length)),r=l(e);return p?p(t,r,n):f(t,n,n+r.length)===r}})},33948:function(e,t,n){var r=n(17854),i=n(48324),a=n(98509),o=n(66992),s=n(68880),l=n(5112),u=l("iterator"),c=l("toStringTag"),d=o.values,h=function(e,t){if(e){if(e[u]!==d)try{s(e,u,d)}catch(n){e[u]=d}if(e[c]||s(e,c,t),i[t]){for(var r in o)if(e[r]!==o[r])try{s(e,r,o[r])}catch(a){e[r]=o[r]}}}};for(var p in i)h(r[p]&&r[p].prototype,p);h(a,"DOMTokenList")},65556:function(e,t,n){"use strict";n(66992);var r=n(82109),i=n(17854),a=n(46916),o=n(1702),s=n(19781),l=n(85143),u=n(98052),c=n(47045),d=n(89190),h=n(58003),p=n(63061),f=n(29909),m=n(25787),v=n(60614),g=n(92597),y=n(49974),b=n(70648),w=n(19670),x=n(70111),_=n(41340),k=n(70030),T=n(79114),E=n(18554),C=n(71246),S=n(48053),j=n(5112),L=n(94362),P=j("iterator"),M="URLSearchParams",R=M+"Iterator",I=f.set,O=f.getterFor(M),A=f.getterFor(R),N=Object.getOwnPropertyDescriptor,D=function(e){if(!s)return i[e];var t=N(i,e);return t&&t.value},q=D("fetch"),F=D("Request"),B=D("Headers"),U=F&&F.prototype,H=B&&B.prototype,V=i.RegExp,Z=i.TypeError,z=i.decodeURIComponent,$=i.encodeURIComponent,W=o("".charAt),Q=o([].join),G=o([].push),K=o("".replace),J=o([].shift),Y=o([].splice),X=o("".split),ee=o("".slice),et=/\+/g,en=[,,,,],er=function(e){try{return z(e)}catch(t){return e}},ei=function(e){var t,n=K(e,et," "),r=4;try{return z(n)}catch(i){for(;r;)n=K(n,en[(t=r--)-1]||(en[t-1]=V("((?:%[\\da-f]{2}){"+t+"})","gi")),er);return n}},ea=/[!'()~]|%20/g,eo={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},es=function(e){return eo[e]},el=function(e){return K($(e),ea,es)},eu=p(function(e,t){I(this,{type:R,iterator:E(O(e).entries),kind:t})},"Iterator",function(){var e=A(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n},!0),ec=function(e){this.entries=[],this.url=null,void 0!==e&&(x(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===W(e,0)?ee(e,1):e:_(e)))};ec.prototype={type:M,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,o,s,l,u=C(e);if(u)for(n=(t=E(e,u)).next;!(r=a(n,t)).done;){if((s=a(o=(i=E(w(r.value))).next,i)).done||(l=a(o,i)).done||!a(o,i).done)throw Z("Expected sequence with length 2");G(this.entries,{key:_(s.value),value:_(l.value)})}else for(var c in e)g(e,c)&&G(this.entries,{key:c,value:_(e[c])})},parseQuery:function(e){if(e)for(var t,n,r=X(e,"&"),i=0;i<r.length;)(t=r[i++]).length&&(n=X(t,"="),G(this.entries,{key:ei(J(n)),value:ei(Q(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)G(n,el((e=t[r++]).key)+"="+el(e.value));return Q(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ed=function(){m(this,eh);var e=arguments.length>0?arguments[0]:void 0,t=I(this,new ec(e));s||(this.size=t.entries.length)},eh=ed.prototype;if(d(eh,{append:function(e,t){var n=O(this);S(arguments.length,2),G(n.entries,{key:_(e),value:_(t)}),!s&&this.length++,n.updateURL()},delete:function(e){for(var t=O(this),n=S(arguments.length,1),r=t.entries,i=_(e),a=n<2?void 0:arguments[1],o=void 0===a?a:_(a),l=0;l<r.length;){var u=r[l];if(u.key===i&&(void 0===o||u.value===o)){if(Y(r,l,1),void 0!==o)break}else l++}s||(this.size=r.length),t.updateURL()},get:function(e){var t=O(this).entries;S(arguments.length,1);for(var n=_(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){var t=O(this).entries;S(arguments.length,1);for(var n=_(e),r=[],i=0;i<t.length;i++)t[i].key===n&&G(r,t[i].value);return r},has:function(e){for(var t=O(this).entries,n=S(arguments.length,1),r=_(e),i=n<2?void 0:arguments[1],a=void 0===i?i:_(i),o=0;o<t.length;){var s=t[o++];if(s.key===r&&(void 0===a||s.value===a))return!0}return!1},set:function(e,t){var n,r=O(this);S(arguments.length,1);for(var i=r.entries,a=!1,o=_(e),l=_(t),u=0;u<i.length;u++)(n=i[u]).key===o&&(a?Y(i,u--,1):(a=!0,n.value=l));a||G(i,{key:o,value:l}),s||(this.size=i.length),r.updateURL()},sort:function(){var e=O(this);L(e.entries,function(e,t){return e.key>t.key?1:-1}),e.updateURL()},forEach:function(e){for(var t,n=O(this).entries,r=y(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new eu(this,"keys")},values:function(){return new eu(this,"values")},entries:function(){return new eu(this,"entries")}},{enumerable:!0}),u(eh,P,eh.entries,{name:"entries"}),u(eh,"toString",function(){return O(this).serialize()},{enumerable:!0}),s&&c(eh,"size",{get:function(){return O(this).entries.length},configurable:!0,enumerable:!0}),h(ed,M),r({global:!0,constructor:!0,forced:!l},{URLSearchParams:ed}),!l&&v(B)){var ep=o(H.has),ef=o(H.set),em=function(e){if(x(e)){var t,n=e.body;if(b(n)===M)return ep(t=e.headers?new B(e.headers):new B,"content-type")||ef(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),k(e,{body:T(0,_(n)),headers:T(0,t)})}return e};if(v(q)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return q(e,arguments.length>1?em(arguments[1]):{})}}),v(F)){var ev=function(e){return m(this,U),new F(e,arguments.length>1?em(arguments[1]):{})};U.constructor=ev,ev.prototype=U,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ev})}}e.exports={URLSearchParams:ed,getState:O}},41637:function(e,t,n){n(65556)},68789:function(e,t,n){"use strict";n(78783);var r,i=n(82109),a=n(19781),o=n(85143),s=n(17854),l=n(49974),u=n(1702),c=n(98052),d=n(47045),h=n(25787),p=n(92597),f=n(21574),m=n(48457),v=n(41589),g=n(28710).codeAt,y=n(33197),b=n(41340),w=n(58003),x=n(48053),_=n(65556),k=n(29909),T=k.set,E=k.getterFor("URL"),C=_.URLSearchParams,S=_.getState,j=s.URL,L=s.TypeError,P=s.parseInt,M=Math.floor,R=Math.pow,I=u("".charAt),O=u(/./.exec),A=u([].join),N=u(1..toString),D=u([].pop),q=u([].push),F=u("".replace),B=u([].shift),U=u("".split),H=u("".slice),V=u("".toLowerCase),Z=u([].unshift),z="Invalid scheme",$="Invalid host",W="Invalid port",Q=/[a-z]/i,G=/[\d+-.a-z]/i,K=/\d/,J=/^0x/i,Y=/^[0-7]+$/,X=/^\d+$/,ee=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,en=/[\0\t\n\r #/:<>?@[\\\]^|]/,er=/^[\u0000-\u0020]+/,ei=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ea=/[\t\n\r]/g,eo=function(e){var t,n,r,i,a,o,s,l=U(e,".");if(l.length&&""==l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(r=0,n=[];r<t;r++){if(""==(i=l[r]))return e;if(a=10,i.length>1&&"0"==I(i,0)&&(a=O(J,i)?16:8,i=H(i,8==a?1:2)),""===i)o=0;else{if(!O(10==a?X:8==a?Y:ee,i))return e;o=P(i,a)}q(n,o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=R(256,5-t))return null}else if(o>255)return null;for(r=0,s=D(n);r<n.length;r++)s+=n[r]*R(256,3-r);return s},es=function(e){var t,n,r,i,a,o,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,d=0,h=function(){return I(e,d)};if(":"==h()){if(":"!=I(e,1))return;d+=2,c=++u}for(;h();){if(8==u)return;if(":"==h()){if(null!==c)return;d++,c=++u;continue}for(t=n=0;n<4&&O(ee,h());)t=16*t+P(h(),16),d++,n++;if("."==h()){if(0==n||(d-=n,u>6))return;for(r=0;h();){if(i=null,r>0){if("."!=h()||!(r<4))return;d++}if(!O(K,h()))return;for(;O(K,h());){if(a=P(h(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;d++}l[u]=256*l[u]+i,(2==++r||4==r)&&u++}if(4!=r)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;l[u++]=t}if(null!==c)for(o=u-c,u=7;0!=u&&o>0;)s=l[u],l[u--]=l[c+o-1],l[c+--o]=s;else if(8!=u)return;return l},el=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t},eu=function(e){var t,n,r,i;if("number"==typeof e){for(n=0,t=[];n<4;n++)Z(t,e%256),e=M(e/256);return A(t,".")}if("object"==typeof e){for(n=0,t="",r=el(e);n<8;n++)(!i||0!==e[n])&&(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=N(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ec={},ed=f({},ec,{" ":1,'"':1,"<":1,">":1,"`":1}),eh=f({},ed,{"#":1,"?":1,"{":1,"}":1}),ep=f({},eh,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ef=function(e,t){var n=g(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},em={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ev=function(e,t){var n;return 2==e.length&&O(Q,I(e,0))&&(":"==(n=I(e,1))||!t&&"|"==n)},eg=function(e){var t;return e.length>1&&ev(H(e,0,2))&&(2==e.length||"/"===(t=I(e,2))||"\\"===t||"?"===t||"#"===t)},ey={},eb={},ew={},ex={},e_={},ek={},eT={},eE={},eC={},eS={},ej={},eL={},eP={},eM={},eR={},eI={},eO={},eA={},eN={},eD={},eq={},eF=function(e,t,n){var r,i,a,o=b(e);if(t){if(i=this.parse(o))throw L(i);this.searchParams=null}else{if(void 0!==n&&(r=new eF(n,!0)),i=this.parse(o,null,r))throw L(i);(a=S(new C)).bindURL(this),this.searchParams=a}};eF.prototype={type:"URL",parse:function(e,t,n){var i,a,o,s,l=this,u=t||ey,c=0,d="",h=!1,f=!1,g=!1;for(e=b(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=F(e,er,""),e=F(e,ei,"$1")),i=m(e=F(e,ea,""));c<=i.length;){switch(a=i[c],u){case ey:if(a&&O(Q,a))d+=V(a),u=eb;else{if(t)return z;u=ew;continue}break;case eb:if(a&&(O(G,a)||"+"==a||"-"==a||"."==a))d+=V(a);else if(":"==a){if(t&&(l.isSpecial()!=p(em,d)||"file"==d&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=d,t){l.isSpecial()&&em[l.scheme]==l.port&&(l.port=null);return}d="","file"==l.scheme?u=eM:l.isSpecial()&&n&&n.scheme==l.scheme?u=ex:l.isSpecial()?u=eE:"/"==i[c+1]?(u=e_,c++):(l.cannotBeABaseURL=!0,q(l.path,""),u=eN)}else{if(t)return z;d="",u=ew,c=0;continue}break;case ew:if(!n||n.cannotBeABaseURL&&"#"!=a)return z;if(n.cannotBeABaseURL&&"#"==a){l.scheme=n.scheme,l.path=v(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,u=eq;break}u="file"==n.scheme?eM:ek;continue;case ex:if("/"==a&&"/"==i[c+1])u=eC,c++;else{u=ek;continue}break;case e_:if("/"==a){u=eS;break}u=eA;continue;case ek:if(l.scheme=n.scheme,a==r)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=v(n.path),l.query=n.query;else if("/"==a||"\\"==a&&l.isSpecial())u=eT;else if("?"==a)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=v(n.path),l.query="",u=eD;else if("#"==a)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=v(n.path),l.query=n.query,l.fragment="",u=eq;else{l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=v(n.path),l.path.length--,u=eA;continue}break;case eT:if(l.isSpecial()&&("/"==a||"\\"==a))u=eC;else if("/"==a)u=eS;else{l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,u=eA;continue}break;case eE:if(u=eC,"/"!=a||"/"!=I(d,c+1))continue;c++;break;case eC:if("/"!=a&&"\\"!=a){u=eS;continue}break;case eS:if("@"==a){h&&(d="%40"+d),h=!0,o=m(d);for(var y,w,x=0;x<o.length;x++){var _=o[x];if(":"==_&&!g){g=!0;continue}var k=ef(_,ep);g?l.password+=k:l.username+=k}d=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(h&&""==d)return"Invalid authority";c-=m(d).length+1,d="",u=ej}else d+=a;break;case ej:case eL:if(t&&"file"==l.scheme){u=eI;continue}if(":"!=a||f){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(l.isSpecial()&&""==d)return $;if(t&&""==d&&(l.includesCredentials()||null!==l.port))return;if(s=l.parseHost(d))return s;if(d="",u=eO,t)return;continue}"["==a?f=!0:"]"==a&&(f=!1),d+=a}else{if(""==d)return $;if(s=l.parseHost(d))return s;if(d="",u=eP,t==eL)return}break;case eP:if(O(K,a))d+=a;else{if(!(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial())&&!t)return W;if(""!=d){var T=P(d,10);if(T>65535)return W;l.port=l.isSpecial()&&T===em[l.scheme]?null:T,d=""}if(t)return;u=eO;continue}break;case eM:if(l.scheme="file","/"==a||"\\"==a)u=eR;else if(n&&"file"==n.scheme){if(a==r)l.host=n.host,l.path=v(n.path),l.query=n.query;else if("?"==a)l.host=n.host,l.path=v(n.path),l.query="",u=eD;else if("#"==a)l.host=n.host,l.path=v(n.path),l.query=n.query,l.fragment="",u=eq;else{eg(A(v(i,c),""))||(l.host=n.host,l.path=v(n.path),l.shortenPath()),u=eA;continue}}else{u=eA;continue}break;case eR:if("/"==a||"\\"==a){u=eI;break}n&&"file"==n.scheme&&!eg(A(v(i,c),""))&&(ev(n.path[0],!0)?q(l.path,n.path[0]):l.host=n.host),u=eA;continue;case eI:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&ev(d))u=eA;else if(""==d){if(l.host="",t)return;u=eO}else{if(s=l.parseHost(d))return s;if("localhost"==l.host&&(l.host=""),t)return;d="",u=eO}continue}d+=a;break;case eO:if(l.isSpecial()){if(u=eA,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a){if(t||"#"!=a){if(a!=r&&(u=eA,"/"!=a))continue}else l.fragment="",u=eq}else l.query="",u=eD;break;case eA:if(a==r||"/"==a||"\\"==a&&l.isSpecial()||!t&&("?"==a||"#"==a)){if(".."===(y=V(y=d))||"%2e."===y||".%2e"===y||"%2e%2e"===y?(l.shortenPath(),"/"==a||"\\"==a&&l.isSpecial()||q(l.path,"")):"."===(w=d)||"%2e"===V(w)?"/"==a||"\\"==a&&l.isSpecial()||q(l.path,""):("file"==l.scheme&&!l.path.length&&ev(d)&&(l.host&&(l.host=""),d=I(d,0)+":"),q(l.path,d)),d="","file"==l.scheme&&(a==r||"?"==a||"#"==a))for(;l.path.length>1&&""===l.path[0];)B(l.path);"?"==a?(l.query="",u=eD):"#"==a&&(l.fragment="",u=eq)}else d+=ef(a,eh);break;case eN:"?"==a?(l.query="",u=eD):"#"==a?(l.fragment="",u=eq):a!=r&&(l.path[0]+=ef(a,ec));break;case eD:t||"#"!=a?a!=r&&("'"==a&&l.isSpecial()?l.query+="%27":"#"==a?l.query+="%23":l.query+=ef(a,ec)):(l.fragment="",u=eq);break;case eq:a!=r&&(l.fragment+=ef(a,ed))}c++}},parseHost:function(e){var t,n,r;if("["==I(e,0)){if("]"!=I(e,e.length-1)||!(t=es(H(e,1,-1))))return $;this.host=t}else if(this.isSpecial()){if(O(et,e=y(e))||null===(t=eo(e)))return $;this.host=t}else{if(O(en,e))return $;for(r=0,t="",n=m(e);r<n.length;r++)t+=ef(n[r],ec);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(em,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&("file"!=this.scheme||1!=t||!ev(e[0],!0))&&e.length--},serialize:function(){var e=this.scheme,t=this.username,n=this.password,r=this.host,i=this.port,a=this.path,o=this.query,s=this.fragment,l=e+":";return null!==r?(l+="//",this.includesCredentials()&&(l+=t+(n?":"+n:"")+"@"),l+=eu(r),null!==i&&(l+=":"+i)):"file"==e&&(l+="//"),l+=this.cannotBeABaseURL?a[0]:a.length?"/"+A(a,"/"):"",null!==o&&(l+="?"+o),null!==s&&(l+="#"+s),l},setHref:function(e){var t=this.parse(e);if(t)throw L(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new eB(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+eu(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",ey)},getUsername:function(){return this.username},setUsername:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=ef(t[n],ep)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=ef(t[n],ep)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?eu(e):eu(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,ej)},getHostname:function(){var e=this.host;return null===e?"":eu(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,eL)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,eP))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+A(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,eO))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==I(e,0)&&(e=H(e,1)),this.query="",this.parse(e,eD)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(""==(e=b(e))){this.fragment=null;return}"#"==I(e,0)&&(e=H(e,1)),this.fragment="",this.parse(e,eq)},update:function(){this.query=this.searchParams.serialize()||null}};var eB=function(e){var t=h(this,eU),n=x(arguments.length,1)>1?arguments[1]:void 0,r=T(t,new eF(e,!1,n));a||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},eU=eB.prototype,eH=function(e,t){return{get:function(){return E(this)[e]()},set:t&&function(e){return E(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(d(eU,"href",eH("serialize","setHref")),d(eU,"origin",eH("getOrigin")),d(eU,"protocol",eH("getProtocol","setProtocol")),d(eU,"username",eH("getUsername","setUsername")),d(eU,"password",eH("getPassword","setPassword")),d(eU,"host",eH("getHost","setHost")),d(eU,"hostname",eH("getHostname","setHostname")),d(eU,"port",eH("getPort","setPort")),d(eU,"pathname",eH("getPathname","setPathname")),d(eU,"search",eH("getSearch","setSearch")),d(eU,"searchParams",eH("getSearchParams")),d(eU,"hash",eH("getHash","setHash"))),c(eU,"toJSON",function(){return E(this).serialize()},{enumerable:!0}),c(eU,"toString",function(){return E(this).serialize()},{enumerable:!0}),j){var eV=j.createObjectURL,eZ=j.revokeObjectURL;eV&&c(eB,"createObjectURL",l(eV,j)),eZ&&c(eB,"revokeObjectURL",l(eZ,j))}w(eB,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:eB})},60285:function(e,t,n){n(68789)},54125:function(e){e.exports=function(){var e={80:function(e,t,n){e.exports=n(728).default},728:function(e,t,n){"use strict";n.d(t,{default:function(){return tO}});var r=n(48),i=n.n(r),a=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},o=function(){return("000000"+(2176782336*Math.random()<<0).toString(36)).slice(-6)},s=function(e){return e&&void 0!==e.nodeName?(e.muxId||(e.muxId=e.id||o()),e.muxId):e},l=function(e){e&&void 0!==e.nodeName?e=s(t=e):t=document.querySelector(e);var t,n=t&&t.nodeName?t.nodeName.toLowerCase():"";return[t,e,n]},u=n(640),c=n.n(u),d=c().methodFactory;c().methodFactory=function(e,t,n){var r=d(e,t,n);return function(){for(var e=["[mux]"],t=0;t<arguments.length;t++)e.push(arguments[t]);r.apply(void 0,e)}},c().setLevel(c().getLevel());var h=c();function p(){return"1"===(i().doNotTrack||i().navigator&&i().navigator.doNotTrack)}var f={now:function(){var e=i().performance,t=e&&e.timing,n=t&&t.navigationStart;return Math.round("number"==typeof n&&"function"==typeof e.now?n+e.now():Date.now())}},m=function(e){return v(e)[0]},v=function(e){if("string"!=typeof e||""===e)return["localhost"];var t,n=(e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4];return n&&(t=(n.match(/[^\.]+\.[^\.]+$/)||[])[0]),[n,t]},g={exists:function(){var e=i().performance;return void 0!==(e&&e.timing)},domContentLoadedEventEnd:function(){var e=i().performance,t=e&&e.timing;return t&&t.domContentLoadedEventEnd},navigationStart:function(){var e=i().performance,t=e&&e.timing;return t&&t.navigationStart}};function y(e,t,n){n=void 0===n?1:n,e[t]=e[t]||0,e[t]+=n}var b=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],w=["x-cdn","content-type"].concat(b);function x(e){var t={};return(e=e||"").trim().split(/[\r\n]+/).forEach(function(e){if(e){var n=e.split(": "),r=n.shift();r&&(w.indexOf(r.toLowerCase())>=0||0===r.toLowerCase().indexOf("x-litix-"))&&(t[r]=n.join(": "))}}),t}function _(e){if(e){var t=b.find(function(t){return void 0!==e[t]});return t?e[t]:void 0}}var k=function(e){var t={};for(var n in e){var r=e[n];-1!==r["DATA-ID"].search("io.litix.data.")&&(t[r["DATA-ID"].replace("io.litix.data.","")]=r.VALUE)}return t};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var C=function(e){if(!e)return{};var t=g.navigationStart(),n=e.loading,r=n?n.start:e.trequest,i=n?n.first:e.tfirst,a=n?n.end:e.tload;return{bytesLoaded:e.total,requestStart:Math.round(t+r),responseStart:Math.round(t+i),responseEnd:Math.round(t+a)}},S=function(e){if(e&&"function"==typeof e.getAllResponseHeaders)return x(e.getAllResponseHeaders())};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P=function(e,t){if(!e||"function"!=typeof e.getRequests)return{};var n=e.getRequests({state:"executed"});if(0===n.length)return{};var r,i=n[n.length-1],a=m(i.url),o=i.url,s=i.bytesLoaded,l=new Date(i.requestStartDate).getTime(),u=new Date(i.firstByteDate).getTime(),c=new Date(i.requestEndDate).getTime(),d=isNaN(i.duration)?0:i.duration,h="function"==typeof t.getMetricsFor?t.getMetricsFor(i.mediaType).HttpList:t.getDashMetrics().getHttpRequests(i.mediaType);return h.length>0&&(r=x(h[h.length-1]._responseHeaders||"")),{requestStart:l,requestResponseStart:u,requestResponseEnd:c,requestBytesLoaded:s,requestResponseHeaders:r,requestMediaDuration:d,requestHostname:a,requestUrl:o,requestId:r?_(r):void 0}},M=function(e,t){var n=t.getQualityFor(e),r=t.getCurrentTrackFor(e).bitrateList;return r?{currentLevel:n,renditionWidth:r[n].width||null,renditionHeight:r[n].height||null,renditionBitrate:r[n].bandwidth}:{}},R=function(e){var t;return null===(t=e.match(/.*codecs\*?="(.*)"/))||void 0===t?void 0:t[1]};function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=0,A=function(){var e,t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n)}return e=[{key:"on",value:function(e,t,n){return t._eventEmitterGuid=t._eventEmitterGuid||++O,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],n&&(t=t.bind(n)),this._listeners[e].push(t),t}},{key:"off",value:function(e,t){var n=this._listeners&&this._listeners[e];n&&n.forEach(function(e,r){e._eventEmitterGuid===t._eventEmitterGuid&&n.splice(r,1)})}},{key:"one",value:function(e,t,n){var r=this;t._eventEmitterGuid=t._eventEmitterGuid||++O;var i=function i(){r.off(e,i),t.apply(n||this,arguments)};i._eventEmitterGuid=t._eventEmitterGuid,this.on(e,i)}},{key:"emit",value:function(e,t){var n=this;if(this._listeners){t=t||{};var r=this._listeners["before*"]||[],i=this._listeners[e]||[],a=this._listeners["after"+e]||[],o=function(t,r){(t=t.slice()).forEach(function(t){t.call(n,{type:e},r)})};o(r,t),o(i,t),o(a,t)}}}],I(n.prototype,e),t&&I(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){var e;function t(e){var n=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,t),this.pm=e,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,e.on("playing",function(){n._playheadShouldBeProgressing=!0}),e.on("play",this._startPlaybackHeartbeatInterval.bind(this)),e.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),e.on("seeking",this._startPlaybackHeartbeatInterval.bind(this)),e.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),e.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("seeked",function(){e.data.player_is_paused?n._stopPlaybackHeartbeatInterval():n._startPlaybackHeartbeatInterval()}),e.on("timeupdate",function(){null!==n._playbackHeartbeatInterval&&e.emit("playbackheartbeat")}),e.on("devicesleep",function(t,r){null!==n._playbackHeartbeatInterval&&(i().clearInterval(n._playbackHeartbeatInterval),e.emit("playbackheartbeatend",{viewer_time:r.viewer_time}),n._playbackHeartbeatInterval=null)})}return N(t.prototype,[{key:"_startPlaybackHeartbeatInterval",value:function(){var e=this;null===this._playbackHeartbeatInterval&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=i().setInterval(function(){e.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(i().clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}]),e&&N(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var F=(e5=function e(t){var n=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),t.on("viewinit",function(){n.viewErrored=!1}),t.on("error",function(e,r){try{var i=t.errorTranslator({player_error_code:r.player_error_code,player_error_message:r.player_error_message,player_error_context:r.player_error_context});i?(t.data.player_error_code=i.player_error_code||r.player_error_code,t.data.player_error_message=i.player_error_message||r.player_error_message,t.data.player_error_context=i.player_error_context||r.player_error_context,n.viewErrored=!0):(delete t.data.player_error_code,delete t.data.player_error_message,delete t.data.player_error_context)}catch(a){t.mux.log.warn("Exception in error translator callback.",a),n.viewErrored=!0}})},e4&&q(e5.prototype,e4),e6&&q(e5,e6),Object.defineProperty(e5,"prototype",{writable:!1}),e5);function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var U=function(){var e;function t(e){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,t),this.pm=e,this._watchTimeTrackerLastCheckedTime=null,e.on("playbackheartbeat",this._updateWatchTime.bind(this)),e.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}return B(t.prototype,[{key:"_updateWatchTime",value:function(e,t){var n=t.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=n),y(this.pm.data,"view_watch_time",n-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=n}},{key:"_clearWatchTimeState",value:function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null}}]),e&&B(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(){var e,t;function n(e){var t=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,n),this.pm=e,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=f.now(),this._isAdPlaying=!1,e.on("playbackheartbeat",this._updatePlaybackTime.bind(this)),e.on("playbackheartbeatend",this._clearPlaybackTimeState.bind(this)),e.on("seeking",this._clearPlaybackTimeState.bind(this)),e.on("adplaying",function(){t._isAdPlaying=!0}),e.on("adended",function(){t._isAdPlaying=!1}),e.on("adpause",function(){t._isAdPlaying=!1}),e.on("adbreakstart",function(){t._isAdPlaying=!1}),e.on("adbreakend",function(){t._isAdPlaying=!1}),e.on("adplay",function(){t._isAdPlaying=!1})}return e=[{key:"_updatePlaybackTime",value:function(){var e=this.pm.data.player_playhead_time,t=f.now(),n=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition?n=e-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(n=t-this._lastTime),n>0&&n<=1e3&&y(this.pm.data,"view_content_playback_time",n),this._playbackTimeTrackerLastPlayheadPosition=e,this._lastTime=t}},{key:"_clearPlaybackTimeState",value:function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1}}],H(n.prototype,e),t&&H(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var z=function(){var e,t;function n(e){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,n),this.pm=e;var t=this._updatePlayheadTime.bind(this);e.on("playbackheartbeat",t),e.on("playbackheartbeatend",t),e.on("timeupdate",t),e.on("destroy",function(){e.off("timeupdate",t)})}return e=[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=void 0===this.pm.data.view_max_playhead_position?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(e,t){var n=this,r=function(){n.pm.currentFragmentPDT&&n.pm.currentFragmentStart&&(n.pm.data.player_program_time=n.pm.currentFragmentPDT+n.pm.data.player_playhead_time-n.pm.currentFragmentStart)};if(t&&t.player_playhead_time)this.pm.data.player_playhead_time=t.player_playhead_time,r(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var i=this.pm.getPlayheadTime();void 0!==i&&(this.pm.data.player_playhead_time=i,r(),this._updateMaxPlayheadPosition())}}}],Z(n.prototype,e),t&&Z(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=(e3=function e(t){if(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e),!t.disableRebufferTracking){var n,r=function(e,t){i(t),n=void 0},i=function(e){if(n){var r=e.viewer_time-n;y(t.data,"view_rebuffer_duration",r),n=e.viewer_time,t.data.view_rebuffer_duration>3e5&&(t.emit("viewend"),t.send("viewend"),t.mux.log.warn("Ending view after rebuffering for longer than ".concat(3e5,"ms, future events will be ignored unless a programchange or videochange occurs.")))}t.data.view_watch_time>=0&&t.data.view_rebuffer_count>0&&(t.data.view_rebuffer_frequency=t.data.view_rebuffer_count/t.data.view_watch_time,t.data.view_rebuffer_percentage=t.data.view_rebuffer_duration/t.data.view_watch_time)};t.on("playbackheartbeat",function(e,t){return i(t)}),t.on("rebufferstart",function(e,i){n||(y(t.data,"view_rebuffer_count",1),n=i.viewer_time,t.one("rebufferend",r))}),t.on("viewinit",function(){n=void 0,t.off("rebufferend",r)})}},e9&&$(e3.prototype,e9),e7&&$(e3,e7),Object.defineProperty(e3,"prototype",{writable:!1}),e3);function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=function(){var e;function t(e){var n=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,t),this.pm=e,e.disableRebufferTracking||e.disablePlayheadRebufferTracking||(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,e.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),e.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),e.on("seeking",function(){n._cleanupRebufferTracker(null,{viewer_time:f.now()})}))}return Q(t.prototype,[{key:"_checkIfRebuffering",value:function(e,t){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing)this._cleanupRebufferTracker(e,t);else if(null!==this._lastCheckedTime){if(this._lastPlayheadTime===this.pm.data.player_playhead_time){var n=t.viewer_time-this._lastPlayheadTimeUpdatedTime;"number"==typeof this.pm.sustainedRebufferThreshold&&n>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=t.viewer_time}else this._cleanupRebufferTracker(e,t,!0)}else this._prepareRebufferTrackerState(t.viewer_time)}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e}},{key:"_cleanupRebufferTracker",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:t.viewer_time});else{if(null===this._lastCheckedTime)return;var r=this.pm.data.player_playhead_time-this._lastPlayheadTime,i=t.viewer_time-this._lastPlayheadTimeUpdatedTime;"number"==typeof this.pm.minimumRebufferDuration&&r>0&&i-r>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+i-r}))}n?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()}}]),e&&Q(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var J=function(){var e;function t(e){var n=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,t),this.pm=e,e.on("viewinit",function(){var t=e.data,r=t.view_id;if(!t.view_program_changed){var i=function(t,i){var a=i.viewer_time;"playing"===t.type&&void 0===e.data.view_time_to_first_frame?n.calculateTimeToFirstFrame(a||f.now(),r):"adplaying"===t.type&&(void 0===e.data.view_time_to_first_frame||n._inPrerollPosition())&&n.calculateTimeToFirstFrame(a||f.now(),r)};e.one("playing",i),e.one("adplaying",i),e.one("viewend",function(){e.off("playing",i),e.off("adplaying",i)})}})}return K(t.prototype,[{key:"_inPrerollPosition",value:function(){return void 0===this.pm.data.view_content_playback_time||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(e,t){t===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:e}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}]),e&&K(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var X=(e8=function e(t){var n=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),t.on("viewinit",function(){n._lastPlayheadPosition=-1}),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach(function(e){t.on(e,function(){if(n._lastPlayheadPosition>=0&&t.data.player_playhead_time>=0&&n._lastPlayerWidth>=0&&n._lastSourceWidth>0&&n._lastPlayerHeight>=0&&n._lastSourceHeight>0){var e=t.data.player_playhead_time-n._lastPlayheadPosition;if(e<0)return void(n._lastPlayheadPosition=-1);var r=Math.min(n._lastPlayerWidth/n._lastSourceWidth,n._lastPlayerHeight/n._lastSourceHeight),i=Math.max(0,r-1),a=Math.max(0,1-r);t.data.view_max_upscale_percentage=Math.max(t.data.view_max_upscale_percentage||0,i),t.data.view_max_downscale_percentage=Math.max(t.data.view_max_downscale_percentage||0,a),y(t.data,"view_total_content_playback_time",e),y(t.data,"view_total_upscaling",i*e),y(t.data,"view_total_downscaling",a*e)}n._lastPlayheadPosition=-1})}),["playing","hb"].forEach(function(e){t.on(e,function(){n._lastPlayheadPosition=t.data.player_playhead_time,n._lastPlayerWidth=t.data.player_width,n._lastPlayerHeight=t.data.player_height,n._lastSourceWidth=t.data.video_source_width,n._lastSourceHeight=t.data.video_source_height})})},te&&Y(e8.prototype,te),tt&&Y(e8,tt),Object.defineProperty(e8,"prototype",{writable:!1}),e8);function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var et=(tn=function e(t){var n=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.isSeeking=!1,t.on("seeking",function(e,r){Object.assign(t.data,r),n._lastSeekingTime=f.now(),!1===n.isSeeking&&(n.isSeeking=!0,t.send("seeking"))}),t.on("seeked",function(){n.isSeeking=!1;var e=n._lastSeekingTime||f.now(),r=f.now()-e;y(t.data,"view_seek_count",1),y(t.data,"view_seek_duration",r);var i=t.data.view_max_seek_time||0;t.data.view_max_seek_time=Math.max(i,r)}),t.on("viewend",function(){n.isSeeking=!1})},tr&&ee(tn.prototype,tr),ti&&ee(tn,ti),Object.defineProperty(tn,"prototype",{writable:!1}),tn);function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?er(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ea=function(e,t){e.push(t),e.sort(function(e,t){return e.viewer_time-t.viewer_time})},eo=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],es=function(){var e,t;function n(e){var t=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,n),this.pm=e,e.on("viewinit",function(){t.isAdBreak=!1,t._currentAdRequestNumber=0,t._currentAdResponseNumber=0,t._adRequests=[],t._adResponses=[],t._adHasPlayed=!1,t._wouldBeNewAdPlay=!0,t._prerollPlayTime=void 0}),eo.forEach(function(n){return e.on(n,t._updateAdData.bind(t))});var r=function(){t.isAdBreak=!1};e.on("adbreakstart",function(){t.isAdBreak=!0}),e.on("play",r),e.on("playing",r),e.on("viewend",r),e.on("adrequest",function(n,r){r=Object.assign({ad_request_id:"generatedAdRequestId"+t._currentAdRequestNumber++},r),ea(t._adRequests,r),y(e.data,"view_ad_request_count"),t.inPrerollPosition()&&(e.data.view_preroll_requested=!0,t._adHasPlayed||y(e.data,"view_preroll_request_count"))}),e.on("adresponse",function(n,r){r=Object.assign({ad_request_id:"generatedAdRequestId"+t._currentAdResponseNumber++},r),ea(t._adResponses,r);var i=t.findAdRequest(r.ad_request_id);i&&y(e.data,"view_ad_request_time",Math.max(0,r.viewer_time-i.viewer_time))}),e.on("adplay",function(n,r){t._adHasPlayed=!0,t._wouldBeNewAdPlay&&(t._wouldBeNewAdPlay=!1,y(e.data,"view_ad_played_count")),t.inPrerollPosition()&&!e.data.view_preroll_played&&(e.data.view_preroll_played=!0,t._adRequests.length>0&&(e.data.view_preroll_request_time=Math.max(0,r.viewer_time-t._adRequests[0].viewer_time)),e.data.view_start&&(e.data.view_startup_preroll_request_time=Math.max(0,r.viewer_time-e.data.view_start)),t._prerollPlayTime=r.viewer_time)}),e.on("adplaying",function(n,r){t.inPrerollPosition()&&void 0===e.data.view_preroll_load_time&&void 0!==t._prerollPlayTime&&(e.data.view_preroll_load_time=r.viewer_time-t._prerollPlayTime,e.data.view_startup_preroll_load_time=r.viewer_time-t._prerollPlayTime)}),e.on("adended",function(){t._wouldBeNewAdPlay=!0}),e.on("aderror",function(){t._wouldBeNewAdPlay=!0})}return e=[{key:"inPrerollPosition",value:function(){return void 0===this.pm.data.view_content_playback_time||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]}},{key:"_updateAdData",value:function(e,t){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&t.ad_tag_url){var n=en(v(t.ad_tag_url),2),r=n[0],i=n[1];this.pm.data.view_preroll_ad_tag_domain=i,this.pm.data.view_preroll_ad_tag_hostname=r}if(!this.pm.data.view_preroll_ad_asset_hostname&&t.ad_asset_url){var a=en(v(t.ad_asset_url),2),o=a[0],s=a[1];this.pm.data.view_preroll_ad_asset_domain=s,this.pm.data.view_preroll_ad_asset_hostname=o}}this.pm.data.ad_asset_url=null==t?void 0:t.ad_asset_url,this.pm.data.ad_tag_url=null==t?void 0:t.ad_tag_url,this.pm.data.ad_creative_id=null==t?void 0:t.ad_creative_id,this.pm.data.ad_id=null==t?void 0:t.ad_id,this.pm.data.ad_universal_id=null==t?void 0:t.ad_universal_id}}],ei(n.prototype,e),t&&ei(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();function el(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var eu=(ta=function e(t){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e);var n,r,a=function(){t.disableRebufferTracking||n&&(y(t.data,"view_waiting_rebuffer_duration",f.now()-n),n=!1,i().clearInterval(r))},o=!1,s=function(){o=!1,a()};t.on("waiting",function(){o&&(t.disableRebufferTracking||(y(t.data,"view_waiting_rebuffer_count",1),n=f.now(),r=i().setInterval(function(){if(n){var e=f.now();y(t.data,"view_waiting_rebuffer_duration",e-n),n=e}},250)))}),t.on("playing",function(){a(),o=!0}),t.on("pause",s),t.on("seeking",s)},to&&el(ta.prototype,to),ts&&el(ta,ts),Object.defineProperty(ta,"prototype",{writable:!1}),ta);function ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ed=(tl=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e);var r=function(){n.lastWallClockTime=f.now(),t.on("before*",i)},i=function(e){var r=f.now(),i=n.lastWallClockTime;n.lastWallClockTime=r,r-i>3e4&&(t.emit("devicesleep",{viewer_time:i}),Object.assign(t.data,{viewer_time:i}),t.send("devicesleep"),t.emit("devicewake",{viewer_time:r}),Object.assign(t.data,{viewer_time:r}),t.send("devicewake"))};t.one("playbackheartbeat",r),t.on("playbackheartbeatend",function(){t.off("before*",i),t.one("playbackheartbeat",r)})},tu&&ec(tl.prototype,tu),tc&&ec(tl,tc),Object.defineProperty(tl,"prototype",{writable:!1}),tl),eh=n(375),ep=n(655),ef=n.n(ep),em="muxData",ev=function(){var e;try{e=eh.parse(ef().get(em)||"")}catch(t){e={}}return e},eg=function(e){try{ef().set(em,eh.stringify(e),{expires:365})}catch(t){}},ey=function(){var e=ev();return e.mux_viewer_id=e.mux_viewer_id||a(),e.msn=e.msn||Math.random(),eg(e),{mux_viewer_id:e.mux_viewer_id,mux_sample_number:e.msn}},eb=function(){var e;switch(ew()){case"cellular":e="cellular";break;case"ethernet":e="wired";break;case"wifi":e="wifi";break;case void 0:break;default:e="other"}return e},ew=function(){var e=i().navigator,t=e&&(e.connection||e.mozConnection||e.webkitConnection);return t&&t.type};eb.getConnectionFromAPI=ew;var ex=ek({a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),e_=ek({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ep:"experiments",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"});function ek(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function eT(e){var t={},n={};return Object.keys(e).forEach(function(r){var i=!1;if(e.hasOwnProperty(r)&&void 0!==e[r]){var a=r.split("_"),o=a[0],s=ex[o];s||(h.info("Data key word `"+a[0]+"` not expected in "+r),s=o+"_"),a.splice(1).forEach(function(e){"url"===e&&(i=!0),e_[e]?s+=e_[e]:Number(e)&&Math.floor(Number(e))===Number(e)?s+=e:(h.info("Data key word `"+e+"` not expected in "+r),s+="_"+e+"_")}),i?n[s]=e[r]:t[s]=e[r]}}),Object.assign(t,n)}var eE={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},eC=["hb","requestcompleted","requestfailed","requestcanceled"],eS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._beaconUrl=e||"https://img.litix.io",this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},eE,t)};eS.prototype.queueEvent=function(e,t){var n=Object.assign({},t);return(this._eventQueue.length<=this._options.maxQueueLength||"eventrateexceeded"===e)&&(this._eventQueue.push(n),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength)},eS.prototype.flushEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&1===this._eventQueue.length?this._eventQueue.pop():(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},eS.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,e?this._clearBeaconQueue():this.flushEvents(),i().clearTimeout(this._sendTimeout)},eS.prototype._clearBeaconQueue=function(){var e=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,t=this._eventQueue.slice(e);e>0&&Object.assign(t[t.length-1],eT({mux_view_message:"event queue truncated"}));var n=this._createPayload(t);ej(this._beaconUrl,n,!0,function(){})},eS.prototype._sendBeaconQueue=function(){var e=this;if(!this._postInFlight){var t=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var n=this._createPayload(t),r=f.now();ej(this._beaconUrl,n,!1,function(n,i){i?(e._eventQueue=t.concat(e._eventQueue),e._failureCount+=1,h.info("Error sending beacon: "+i)):e._failureCount=0,e._roundTripTime=f.now()-r,e._postInFlight=!1})}},eS.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var e=Math.pow(2,this._failureCount-1);return(1+(e*=Math.random()))*this._options.baseTimeBetweenBeacons},eS.prototype._startBeaconSending=function(){var e=this;i().clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=i().setTimeout(function(){e._eventQueue.length&&e._sendBeaconQueue(),e._startBeaconSending()},this._getNextBeaconTime()))},eS.prototype._createPayload=function(e){var t,n,r,i=this,a={transmission_timestamp:Math.round(f.now())};this._roundTripTime&&(a.rtt_ms=Math.round(this._roundTripTime));var o=function(){r=(t=JSON.stringify({metadata:a,events:n||e})).length/1024},s=function(){return r<=i._options.maxPayloadKBSize};return o(),s()||(h.info("Payload size is too big ("+r+" kb). Removing unnecessary events."),n=e.filter(function(e){return -1===eC.indexOf(e.e)}),o()),s()||(h.info("Payload size still too big ("+r+" kb). Cropping fields.."),n.forEach(function(e){for(var t in e){var n=e[t];"string"==typeof n&&n.length>51200&&(e[t]=n.substring(0,51200))}}),o()),t};var ej=function(e,t,n,r){if(n&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(e,t))r();else if(i().fetch)i().fetch(e,{method:"POST",body:t,headers:{"Content-Type":"text/plain"},keepalive:t.length<=57344}).then(function(e){return r(null,e.ok?null:"Error")}).catch(function(e){return r(null,e)});else{if(i().XMLHttpRequest){var a=new(i()).XMLHttpRequest;return a.onreadystatechange=function(){if(4===a.readyState)return r(null,200!==a.status?"error":void 0)},a.open("POST",e),a.setRequestHeader("Content-Type","text/plain"),void a.send(t)}r()}};function eL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function eP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eP(Object(n),!0).forEach(function(t){eO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eR(e){return(eR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eA=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],eN=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse","adrequest"],eD=["ad_id","ad_creative_id","ad_universal_id"],eq=["viewstart","error","ended","viewend"],eF=function(){var e,t;function n(e,t){var r,a,o,s,l,u,c,d,h,p,f,m,v,g,y,b,w,x,_,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,n),eO(this,"previousBeaconData",null),eO(this,"lastEventTime",0),eO(this,"rateLimited",!1),this.mux=e,this.envKey=t,this.options=k,this.eventQueue=new eS((r=this.envKey,o=(a=this.options).beaconCollectionDomain,s=a.beaconDomain,o?"https://"+o:(r=r||"inferred").match(/^[a-z0-9]+$/)?"https://"+r+"."+(s||"litix.io"):"https://img.litix.io/a.gif")),this.sampleRate=null!==(l=this.options.sampleRate)&&void 0!==l?l:1,this.disableCookies=null!==(u=this.options.disableCookies)&&void 0!==u&&u,this.respectDoNotTrack=null!==(c=this.options.respectDoNotTrack)&&void 0!==c&&c,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:null===(d=this.options.platform)||void 0===d?void 0:d.name,viewer_application_version:null===(h=this.options.platform)||void 0===h?void 0:h.version,viewer_application_engine:null===(p=this.options.platform)||void 0===p?void 0:p.layout,viewer_device_name:null===(f=this.options.platform)||void 0===f?void 0:f.product,viewer_device_category:"",viewer_device_manufacturer:null===(m=this.options.platform)||void 0===m?void 0:m.manufacturer,viewer_os_family:null===(v=this.options.platform)||void 0===v||null===(g=v.os)||void 0===g?void 0:g.family,viewer_os_architecture:null===(y=this.options.platform)||void 0===y||null===(b=y.os)||void 0===b?void 0:b.architecture,viewer_os_version:null===(w=this.options.platform)||void 0===w||null===(x=w.os)||void 0===x?void 0:x.version,viewer_connection_type:eb(),page_url:null===i()||void 0===i()||null===(_=i().location)||void 0===_?void 0:_.href},this.viewerData=this.disableCookies?{}:ey()}return e=[{key:"send",value:function(e,t){var n;if(e&&null!=t&&t.view_id){if(this.respectDoNotTrack&&p())return h.info("Not sending `"+e+"` because Do Not Track is enabled");if(!t||"object"!==eR(t))return h.error("A data object was expected in send() but was not provided");var r,i,o=this.disableCookies?{}:(r=ev(),i=f.now(),r.session_start&&(r.sst=r.session_start,delete r.session_start),r.session_id&&(r.sid=r.session_id,delete r.session_id),r.session_expires&&(r.sex=r.session_expires,delete r.session_expires),(!r.sex||r.sex<i)&&(r.sid=a(),r.sst=i),r.sex=i+15e5,eg(r),{session_id:r.sid,session_start:r.sst,session_expires:r.sex}),s=eM(eM(eM(eM(eM({},this.pageLevelData),t),o),this.viewerData),{},{event:e,env_key:this.envKey});s.user_id&&(s.viewer_user_id=s.user_id,delete s.user_id);var l=(null!==(n=s.mux_sample_number)&&void 0!==n?n:0)>=this.sampleRate,u=eT(this._deduplicateBeaconData(e,s));if(this.lastEventTime=this.mux.utils.now(),l)return h.info("Not sending event due to sample rate restriction",e,s,u);if(this.envKey||h.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",e,s,u),!this.rateLimited){if(h.info("Sending event",e,s,u),this.rateLimited=!this.eventQueue.queueEvent(e,u),this.mux.WINDOW_UNLOADING&&"viewend"===e)this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&"hb"===e?this.eventQueue.flushEvents(!0):eq.indexOf(e)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return s.event="eventrateexceeded",u=eT(s),this.eventQueue.queueEvent(s.event,u),h.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(e,t){var n=this,r={},i=t.view_id;if("-1"===i||"viewstart"===e||"viewend"===e||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)r=eM({},t),i&&(this.previousBeaconData=r),i&&"viewend"===e&&(this.previousBeaconData=null);else{var a=0===e.indexOf("request");Object.entries(t).forEach(function(t){var i=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eL(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],s=i[1];n.previousBeaconData&&(s!==n.previousBeaconData[o]||eA.indexOf(o)>-1||n.objectHasChanged(a,o,s,n.previousBeaconData[o])||n.eventRequiresKey(e,o))&&(r[o]=s,n.previousBeaconData[o]=s)})}return r}},{key:"objectHasChanged",value:function(e,t,n,r){return!(!e||0!==t.indexOf("request_")||"request_response_headers"!==t&&"object"===eR(n)&&"object"===eR(r)&&Object.keys(n||{}).length===Object.keys(r||{}).length)}},{key:"eventRequiresKey",value:function(e,t){return"renditionchange"===e&&0===t.indexOf("video_source_")||!(!eD.includes(t)||!eN.includes(e))}}],eI(n.prototype,e),t&&eI(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();function eB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var eU=(td=function e(t){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e);var n=0,r=0,i=0,a=0,o=0,s=0,l=0;t.on("requestcompleted",function(e,s){var l,u,c=s.request_start,d=s.request_response_start,h=s.request_response_end,p=s.request_bytes_loaded;if(a++,d?(l=d-(null!=c?c:0),u=(null!=h?h:0)-d):u=(null!=h?h:0)-(null!=c?c:0),u>0&&p&&p>0){var f=p/u*8e3;o++,r+=p,i+=u,t.data.view_min_request_throughput=Math.min(t.data.view_min_request_throughput||1/0,f),t.data.view_average_request_throughput=r/i*8e3,t.data.view_request_count=a,l>0&&(n+=l,t.data.view_max_request_latency=Math.max(t.data.view_max_request_latency||0,l),t.data.view_average_request_latency=n/o)}}),t.on("requestfailed",function(e,n){a++,s++,t.data.view_request_count=a,t.data.view_request_failed_count=s}),t.on("requestcanceled",function(e,n){a++,l++,t.data.view_request_count=a,t.data.view_request_canceled_count=l})},th&&eB(td.prototype,th),tp&&eB(td,tp),Object.defineProperty(td,"prototype",{writable:!1}),td);function eH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var eV=(tf=function e(t){var n=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),t.on("before*",function(e,r){var i=r.viewer_time,a=f.now(),o=n._lastEventTime;if(n._lastEventTime=a,o&&a-o>36e5){var s=Object.keys(t.data).reduce(function(e,n){var r,i;return 0===n.indexOf("video_")?Object.assign(e,(r={},i=t.data[n],n in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,r)):e},{});t.mux.log.info("Received event after at least an hour inactivity, creating a new view"),t.emit("viewinit",Object.assign({viewer_time:i},s)),t.playbackHeartbeat._playheadShouldBeProgressing&&"play"!==e.type&&"adbreakstart"!==e.type&&(t.emit("play",{viewer_time:i}),"playing"!==e.type&&t.emit("playing",{viewer_time:i}))}})},tm&&eH(tf.prototype,tm),tv&&eH(tf,tv),Object.defineProperty(tf,"prototype",{writable:!1}),tf);function eZ(e){return(eZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ez(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function e$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eW(e,t){return(eW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eQ(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eG(e){return(eG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eK=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],eJ=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eW(e,t)}(o,e);var t,n,r,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=eG(o);if(t){var r=eG(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===eZ(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eQ(e)}(this,e)});function o(e,t,n){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,o),(r=i.call(this)).DOM_CONTENT_LOADED_EVENT_END=g.domContentLoadedEventEnd(),r.NAVIGATION_START=g.navigationStart(),r.mux=e,r.id=t,(n=Object.assign({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(e){return e}},n)).data=n.data||{},n.data.property_key&&(n.data.env_key=n.data.property_key,delete n.data.property_key),h.setLevel(n.debug?"debug":"warn"),r.getPlayheadTime=n.getPlayheadTime,r.getStateData=n.getStateData||function(){return{}},r.getAdData=n.getAdData||function(){},r.minimumRebufferDuration=n.minimumRebufferDuration,r.sustainedRebufferThreshold=n.sustainedRebufferThreshold,r.playbackHeartbeatTime=n.playbackHeartbeatTime,r.disableRebufferTracking=n.disableRebufferTracking,r.disableRebufferTracking&&r.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),r.disablePlayheadRebufferTracking=n.disablePlayheadRebufferTracking,r.errorTranslator=n.errorTranslator,r.playbackEventDispatcher=new eF(e,n.data.env_key,n),r.data={player_instance_id:a(),mux_sample_rate:n.sampleRate,beacon_domain:n.beaconCollectionDomain?n.beaconCollectionDomain:n.beaconDomain},r.data.view_sequence_number=1,r.data.player_sequence_number=1,r.oldEmit=r.emit,r.emit=function(e,t){t=Object.assign({viewer_time:this.mux.utils.now()},t),this.oldEmit(e,t)};var r,s=(function(){void 0===this.data.view_start&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}).bind(eQ(r));r.on("viewinit",function(e,t){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,t),this._initializeViewData(),this.one("play",s),this.one("adbreakstart",s)});var l=(function(e){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",e)}).bind(eQ(r));if(r.on("videochange",function(e,t){l(t)}),r.on("programchange",function(e,t){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),l(Object.assign(t,{view_program_changed:!0})),s(),this.emit("play"),this.emit("playing")}),r.on("fragmentchange",function(e,t){this.currentFragmentPDT=t.currentFragmentPDT,this.currentFragmentStart=t.currentFragmentStart}),r.on("destroy",r.destroy),"undefined"!=typeof window&&"function"==typeof window.addEventListener&&"function"==typeof window.removeEventListener){var u=function(){var e=void 0!==r.data.view_start;r.mux.WINDOW_HIDDEN="hidden"===document.visibilityState,e&&r.mux.WINDOW_HIDDEN&&(r.data.player_is_paused||r.emit("hb"))};window.addEventListener("visibilitychange",u,!1);var c=function(e){e.persisted||r.destroy()};window.addEventListener("pagehide",c,!1),r.on("destroy",function(){window.removeEventListener("visibilitychange",u),window.removeEventListener("pagehide",c)})}return r.on("playerready",function(e,t){Object.assign(this.data,t)}),eK.forEach(function(e){r.on(e,function(t,n){0!==e.indexOf("ad")&&this._updateStateData(),Object.assign(this.data,n),this._sanitizeData()}),r.on("after"+e,function(){("error"!==e||this.errorTracker.viewErrored)&&this.send(e)})}),r.on("viewend",function(e,t){Object.assign(r.data,t)}),r.one("playerready",function(e){var t=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=t-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time}),r.longResumeTracker=new eV(eQ(r)),r.errorTracker=new F(eQ(r)),new ed(eQ(r)),r.seekingTracker=new et(eQ(r)),r.playheadTime=new z(eQ(r)),r.playbackHeartbeat=new D(eQ(r)),new X(eQ(r)),r.watchTimeTracker=new U(eQ(r)),new V(eQ(r)),r.adTracker=new es(eQ(r)),new G(eQ(r)),new W(eQ(r)),new J(eQ(r)),new eu(eQ(r)),new eU(eQ(r)),n.hlsjs&&r.addHLSJS(n),n.dashjs&&r.addDashJS(n),r.emit("viewinit",n.data),r}return n=[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,void 0!==this.data.view_start&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(e){if(this.data.view_id){var t=Object.assign({},this.data);if(void 0===t.video_source_is_live&&(t.player_source_duration===1/0||t.video_source_duration===1/0?t.video_source_is_live=!0:(t.player_source_duration>0||t.video_source_duration>0)&&(t.video_source_is_live=!1)),t.video_source_is_live||["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"].forEach(function(e){t[e]=void 0}),t.video_source_url=t.video_source_url||t.player_source_url,t.video_source_url){var n,r=function(e){if(Array.isArray(e))return e}(n=v(t.video_source_url))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(n,2)||function(e,t){if(e){if("string"==typeof e)return ez(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ez(e,t):void 0}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=r[0],a=r[1];t.video_source_domain=a,t.video_source_hostname=i}delete t.ad_request_id,this.playbackEventDispatcher.send(e,t),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat(),"viewend"===e&&delete this.data.view_id}}},{key:"_updateStateData",value:function(){Object.assign(this.data,this.getStateData()),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var e=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"].forEach(function(t){var n=parseInt(e.data[t],10);e.data[t]=isNaN(n)?void 0:n}),["player_source_url","video_source_url"].forEach(function(t){if(e.data[t]){var n=e.data[t].toLowerCase();0!==n.indexOf("data:")&&0!==n.indexOf("blob:")||(e.data[t]="MSE style URL")}})}},{key:"_resetVideoData",value:function(e,t){var n=this;Object.keys(this.data).forEach(function(e){0===e.indexOf("video_")&&delete n.data[e]})}},{key:"_resetViewData",value:function(){var e=this;Object.keys(this.data).forEach(function(t){0===t.indexOf("view_")&&delete e.data[t]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(e,t){delete this.data.player_error_code,delete this.data.player_error_message}},{key:"_initializeViewData",value:function(){var e=this,t=this.data.view_id=a(),n=function(){t===e.data.view_id&&y(e.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",n):n()}},{key:"_restartHeartBeat",value:function(){var e=this;window.clearTimeout(this._heartBeatTimeout),this.errorTracker.viewErrored||(this._heartBeatTimeout=window.setTimeout(function(){e.data.player_is_paused||e.emit("hb")},1e4))}},{key:"addHLSJS",value:function(e){e.hlsjs?this.hlsjs?this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=e.hlsjs,function(e,t,n){var r=arguments.length>4?arguments[4]:void 0,i=e.log,a=e.utils.secondsToMs,o=function(e){var t,n=parseInt(r.version);return 1===n&&null!==e.programDateTime&&(t=e.programDateTime),0===n&&null!==e.pdt&&(t=e.pdt),t};if(g.exists()){var s=function(n,r){return e.emit(t,n,r)},l=function(e,t){var n=t.levels,r=t.audioTracks,i=t.url,a=t.stats,o=t.networkDetails,l=t.sessionData,u={},c={};n.forEach(function(e,t){u[t]={width:e.width,height:e.height,bitrate:e.bitrate,attrs:e.attrs}}),r.forEach(function(e,t){c[t]={name:e.name,language:e.lang,bitrate:e.bitrate}});var d=C(a),h=d.bytesLoaded,p=d.requestStart,f=d.responseStart,v=d.responseEnd;s("requestcompleted",E(E({},k(l)),{},{request_event_type:e,request_bytes_loaded:h,request_start:p,request_response_start:f,request_response_end:v,request_type:"manifest",request_hostname:m(i),request_response_headers:S(o),request_rendition_lists:{media:u,audio:c,video:{}}}))};n.on(r.Events.MANIFEST_LOADED,l);var u=function(e,t){var n=t.details,r=t.level,i=t.networkDetails,l=C(t.stats),u=l.bytesLoaded,c=l.requestStart,d=l.responseStart,h=l.responseEnd,p=n.fragments[n.fragments.length-1],f=o(p)+a(p.duration);s("requestcompleted",{request_event_type:e,request_bytes_loaded:u,request_start:c,request_response_start:d,request_response_end:h,request_current_level:r,request_type:"manifest",request_hostname:m(n.url),request_response_headers:S(i),video_holdback:n.holdBack&&a(n.holdBack),video_part_holdback:n.partHoldBack&&a(n.partHoldBack),video_part_target_duration:n.partTarget&&a(n.partTarget),video_target_duration:n.targetduration&&a(n.targetduration),video_source_is_live:n.live,player_manifest_newest_program_time:isNaN(f)?void 0:f})};n.on(r.Events.LEVEL_LOADED,u);var c=function(e,t){var n=t.details,r=t.networkDetails,i=C(t.stats);s("requestcompleted",{request_event_type:e,request_bytes_loaded:i.bytesLoaded,request_start:i.requestStart,request_response_start:i.responseStart,request_response_end:i.responseEnd,request_type:"manifest",request_hostname:m(n.url),request_response_headers:S(r)})};n.on(r.Events.AUDIO_TRACK_LOADED,c);var d=function(e,t){var r=t.stats,i=t.networkDetails,a=t.frag,o=C(r=r||a.stats),l=o.bytesLoaded,u=o.requestStart,c=o.responseStart,d=o.responseEnd,h=i?S(i):void 0,p={request_event_type:e,request_bytes_loaded:l,request_start:u,request_response_start:c,request_response_end:d,request_hostname:i?m(i.responseURL):void 0,request_id:h?_(h):void 0,request_response_headers:h,request_media_duration:a.duration,request_url:null==i?void 0:i.responseURL};"main"===a.type?(p.request_type="media",p.request_current_level=a.level,p.request_video_width=(n.levels[a.level]||{}).width,p.request_video_height=(n.levels[a.level]||{}).height,p.request_labeled_bitrate=(n.levels[a.level]||{}).bitrate):p.request_type=a.type,s("requestcompleted",p)};n.on(r.Events.FRAG_LOADED,d);var h=function(e,t){var n=t.frag,r=n.start;s("fragmentchange",{currentFragmentPDT:o(n),currentFragmentStart:a(r)})};n.on(r.Events.FRAG_CHANGED,h);var p=function(e,t){var n,i=t.type,a=t.details,o=t.response,l=t.fatal,u=t.frag,c=t.networkDetails,d=(null==u?void 0:u.url)||t.url||"",h=c?S(c):void 0;a!==r.ErrorDetails.MANIFEST_LOAD_ERROR&&a!==r.ErrorDetails.MANIFEST_LOAD_TIMEOUT&&a!==r.ErrorDetails.FRAG_LOAD_ERROR&&a!==r.ErrorDetails.FRAG_LOAD_TIMEOUT&&a!==r.ErrorDetails.LEVEL_LOAD_ERROR&&a!==r.ErrorDetails.LEVEL_LOAD_TIMEOUT&&a!==r.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&a!==r.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT&&a!==r.ErrorDetails.SUBTITLE_LOAD_ERROR&&a!==r.ErrorDetails.SUBTITLE_LOAD_TIMEOUT&&a!==r.ErrorDetails.KEY_LOAD_ERROR&&a!==r.ErrorDetails.KEY_LOAD_TIMEOUT||s("requestfailed",{request_error:a,request_url:d,request_hostname:m(d),request_id:h?_(h):void 0,request_type:a===r.ErrorDetails.FRAG_LOAD_ERROR||a===r.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":a===r.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||a===r.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":a===r.ErrorDetails.SUBTITLE_LOAD_ERROR||a===r.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":a===r.ErrorDetails.KEY_LOAD_ERROR||a===r.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:null==o?void 0:o.code,request_error_text:null==o?void 0:o.text}),l&&s("error",{player_error_code:i,player_error_message:a,player_error_context:"".concat(d?"url: ".concat(d,"\n"):"")+"".concat(o&&(o.code||o.text)?"response: ".concat(o.code,", ").concat(o.text,"\n"):"")+"".concat(t.reason?"failure reason: ".concat(t.reason,"\n"):"")+"".concat(t.level?"level: ".concat(t.level,"\n"):"")+"".concat(t.parent?"parent stream controller: ".concat(t.parent,"\n"):"")+"".concat(t.buffer?"buffer length: ".concat(t.buffer,"\n"):"")+"".concat(t.error?"error: ".concat(t.error,"\n"):"")+"".concat(t.event?"event: ".concat(t.event,"\n"):"")+"".concat(t.err?"error message: ".concat(null===(n=t.err)||void 0===n?void 0:n.message,"\n"):"")})};n.on(r.Events.ERROR,p);var f=function(e,t){var n=t.frag,r=n&&n._url||"";s("requestcanceled",{request_event_type:e,request_url:r,request_type:"media",request_hostname:m(r)})};n.on(r.Events.FRAG_LOAD_EMERGENCY_ABORTED,f);var v=function(e,t){var r=t.level,a=n.levels[r];if(a&&a.attrs&&a.attrs.BANDWIDTH){var o,l=a.attrs.BANDWIDTH,u=parseFloat(a.attrs["FRAME-RATE"]);isNaN(u)||(o=u),l?s("renditionchange",{video_source_fps:o,video_source_bitrate:l,video_source_width:a.width,video_source_height:a.height,video_source_rendition_name:a.name,video_source_codec:null==a?void 0:a.videoCodec}):i.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};n.on(r.Events.LEVEL_SWITCHED,v),n._stopMuxMonitor=function(){n.off(r.Events.MANIFEST_LOADED,l),n.off(r.Events.LEVEL_LOADED,u),n.off(r.Events.AUDIO_TRACK_LOADED,c),n.off(r.Events.FRAG_LOADED,d),n.off(r.Events.FRAG_CHANGED,h),n.off(r.Events.ERROR,p),n.off(r.Events.FRAG_LOAD_EMERGENCY_ABORTED,f),n.off(r.Events.LEVEL_SWITCHED,v),n.off(r.Events.DESTROYING,n._stopMuxMonitor),delete n._stopMuxMonitor},n.on(r.Events.DESTROYING,n._stopMuxMonitor)}else i.warn("performance timing not supported. Not tracking HLS.js.")}(this.mux,this.id,e.hlsjs,{},e.Hls||window.Hls)):this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")}},{key:"removeHLSJS",value:function(){var e;this.hlsjs&&((e=this.hlsjs)&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor(),this.hlsjs=void 0)}},{key:"addDashJS",value:function(e){e.dashjs?this.dashjs?this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=e.dashjs,function(e,t,n){var r=e.log;if(n&&n.on){var i=function(n,r){return e.emit(t,n,r)},a=function(e){var t=e.type,n=(e.data||{}).url;i("requestcompleted",{request_event_type:t,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:m(n),request_url:n})};n.on("manifestLoaded",a);var o={},s=function(e){var t=e.type,r=e.fragmentModel,a=(e.chunk||{}).mediaInfo||{},s=a.type,l=a.bitrateList,u={};(l=l||[]).forEach(function(e,t){u[t]={},u[t].width=e.width,u[t].height=e.height,u[t].bitrate=e.bandwidth,u[t].attrs={}}),"video"===s?o.video=u:"audio"===s?o.audio=u:o.media=u;var c=P(r,n),d=c.requestStart,h=c.requestResponseStart,p=c.requestResponseEnd,f=c.requestResponseHeaders,m=c.requestMediaDuration,v=c.requestHostname,g=c.requestUrl;i("requestcompleted",{request_event_type:t,request_start:d,request_response_start:h,request_response_end:p,request_bytes_loaded:-1,request_type:s+"_init",request_response_headers:f,request_hostname:v,request_id:c.requestId,request_url:g,request_media_duration:m,request_rendition_lists:o})};n.on("initFragmentLoaded",s);var l=function(e){var t=e.type,r=e.fragmentModel,a=e.chunk||{},o=a.mediaInfo,s=a.start,l=(o||{}).type,u=P(r,n),c=u.requestStart,d=u.requestResponseStart,h=u.requestResponseEnd,p=u.requestBytesLoaded,f=u.requestResponseHeaders,m=u.requestMediaDuration,v=u.requestHostname,g=u.requestUrl,y=u.requestId,b=M(l,n),w=b.currentLevel,x=b.renditionWidth,_=b.renditionHeight,k=b.renditionBitrate;i("requestcompleted",{request_event_type:t,request_start:c,request_response_start:d,request_response_end:h,request_bytes_loaded:p,request_type:l,request_response_headers:f,request_hostname:v,request_id:y,request_url:g,request_media_start_time:s,request_media_duration:m,request_current_level:w,request_labeled_bitrate:k,request_video_width:x,request_video_height:_})};n.on("mediaFragmentLoaded",l);var u={video:void 0,audio:void 0,totalBitrate:void 0},c=function(){if(u.video&&"number"==typeof u.video.bitrate){if(u.video.width&&u.video.height){var e=u.video.bitrate;return u.audio&&"number"==typeof u.audio.bitrate&&(e+=u.audio.bitrate),e!==u.totalBitrate?(u.totalBitrate=e,{video_source_bitrate:e,video_source_height:u.video.height,video_source_width:u.video.width,video_source_codec:R(u.video.codec)}):void 0}r.warn("have bitrate info for video but missing width/height")}},d=function(e,t,a){if("number"==typeof e.newQuality){var o=e.mediaType;if("audio"===o||"video"===o){var s=n.getBitrateInfoListFor(o).find(function(t){return t.qualityIndex===e.newQuality});if(s&&"number"==typeof s.bitrate){u[o]=L(L({},s),{},{codec:n.getCurrentTrackFor(o).codec});var l=c();l&&i("renditionchange",l)}else r.warn("missing bitrate info for ".concat(o))}}else r.warn("missing evt.newQuality in qualityChangeRendered event",e)};n.on("qualityChangeRendered",d);var h=function(e){var t=e.request,n=e.mediaType;i("requestcanceled",{request_event_type:(t=t||{}).type+"_"+t.action,request_url:t.url,request_type:n,request_hostname:m(t.url)})};n.on("fragmentLoadingAbandoned",h);var p=function(e){var t,n,r=e.error,a=(null==r||null===(t=r.data)||void 0===t?void 0:t.request)||{},o=(null==r||null===(n=r.data)||void 0===n?void 0:n.response)||{};27===(null==r?void 0:r.code)&&i("requestfailed",{request_error:a.type+"_"+a.action,request_url:a.url,request_hostname:m(a.url),request_type:a.mediaType,request_error_code:o.status,request_error_text:o.statusText});var s="".concat(null!=a&&a.url?"url: ".concat(a.url,"\n"):"")+"".concat(null!=o&&o.status||null!=o&&o.statusText?"response: ".concat(null==o?void 0:o.status,", ").concat(null==o?void 0:o.statusText,"\n"):"");i("error",{player_error_code:null==r?void 0:r.code,player_error_message:null==r?void 0:r.message,player_error_context:s})};n.on("error",p),n._stopMuxMonitor=function(){n.off("manifestLoaded",a),n.off("initFragmentLoaded",s),n.off("mediaFragmentLoaded",l),n.off("qualityChangeRendered",d),n.off("error",p),n.off("fragmentLoadingAbandoned",h),delete n._stopMuxMonitor}}else r.warn("Invalid dash.js player reference. Monitoring blocked.")}(this.mux,this.id,e.dashjs)):this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")}},{key:"removeDashJS",value:function(){var e;this.dashjs&&((e=this.dashjs)&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor(),this.dashjs=void 0)}}],e$(o.prototype,n),r&&e$(o,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(A),eY=n(153),eX=n.n(eY);function e0(e){return(e0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e1(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e2(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e5,e4,e6,e3,e9,e7,e8,te,tt,tn,tr,ti,ta,to,ts,tl,tu,tc,td,th,tp,tf,tm,tv,tg,ty=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],tb={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};i()&&i().WeakMap&&(tg=new WeakMap);var tw=function(e){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(e),this.manifest};tw.prototype.process=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.processLine(this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},tw.prototype.processLine=function(e){var t=e.indexOf(":"),n=tS(e,t),r=n[0],i=2===n.length?tk(n[1]):void 0;if("#"!==r[0])this.currentUri.uri=r,this.manifest.segments.push(this.currentUri),!this.manifest.targetDuration||"duration"in this.currentUri||(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(r){case"#EXT-X-TARGETDURATION":if(!isFinite(i)||i<0)return;this.manifest.targetDuration=i,this.setHoldBack();break;case"#EXT-X-PART-INF":tx(this.manifest,n),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case"#EXT-X-SERVER-CONTROL":tx(this.manifest,n),this.setHoldBack();break;case"#EXTINF":0===i?this.currentUri.duration=.01:i>0&&(this.currentUri.duration=i);break;case"#EXT-X-PROGRAM-DATE-TIME":var a=new Date(i);this.manifest.dateTimeString||(this.manifest.dateTimeString=i,this.manifest.dateTimeObject=a),this.currentUri.dateTimeString=i,this.currentUri.dateTimeObject=a;break;case"#EXT-X-VERSION":tx(this.manifest,n);break;case"#EXT-X-SESSION-DATA":var o=k(tj(n[1]));Object.assign(this.manifest.sessionData,o)}},tw.prototype.setHoldBack=function(){var e=this.manifest,t=e.serverControl,n=e.targetDuration,r=e.partTargetDuration;if(t){var i="holdBack",a="partHoldBack",o=n&&3*n,s=r&&2*r;n&&!t.hasOwnProperty(i)&&(t[i]=o),o&&t[i]<o&&(t[i]=o),r&&!t.hasOwnProperty(a)&&(t[a]=3*r),r&&t[a]<s&&(t[a]=s)}};var tx=function(e,t){var n,r=t_(t[0].replace("#EXT-X-",""));tC(t[1])?(n={},n=Object.assign(tE(t[1]),n)):n=tk(t[1]),e[r]=n},t_=function(e){return e.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})},tk=function(e){if("yes"===e.toLowerCase()||"no"===e.toLowerCase())return"yes"===e.toLowerCase();var t=-1!==e.indexOf(":")?e:parseFloat(e);return isNaN(t)?e:t},tT=function(e){var t={},n=e.split("=");return n.length>1&&(t[t_(n[0])]=tk(n[1])),t},tE=function(e){for(var t=e.split(","),n={},r=0;t.length>r;r++)n=Object.assign(tT(t[r]),n);return n},tC=function(e){return e.indexOf("=")>-1},tS=function(e,t){return -1===t?[e]:[e.substring(0,t),e.substring(t+1)]},tj=function(e){var t={};if(e){var n=e.search(",");return[e.slice(0,n),e.slice(n+1)].forEach(function(e,n){for(var r=e.replace(/['"]+/g,"").split("="),i=0;i<r.length;i++)"DATA-ID"===r[i]&&(t["DATA-ID"]=r[1-i]),"VALUE"===r[i]&&(t.VALUE=r[1-i])}),{data:t}}},tL={safeCall:function(e,t,n,r){var i=r;if(e&&"function"==typeof e[t])try{i=e[t].apply(e,n)}catch(a){h.info("safeCall error",a)}return i},safeIncrement:y,getComputedStyle:function(e,t){var n;if(e&&t&&i()&&"function"==typeof i().getComputedStyle)return tg&&tg.has(e)&&(n=tg.get(e)),n||(n=i().getComputedStyle(e,null),tg&&tg.set(e,n)),n.getPropertyValue(t)},secondsToMs:function(e){return Math.floor(1e3*e)},assign:Object.assign,headersStringToObject:x,cdnHeadersToRequestId:_,extractHostnameAndDomain:v,extractHostname:m,manifestParser:tw,generateShortID:o,generateUUID:a,now:f.now};function tP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tM={},tR=function e(t){var n=arguments;"string"==typeof t?e.hasOwnProperty(t)?i().setTimeout(function(){n=Array.prototype.splice.call(n,1),e[t].apply(null,n)},0):h.warn("`"+t+"` is an unknown task"):"function"==typeof t?i().setTimeout(function(){t(e)},0):h.warn("`"+t+"` is invalid.")},tI={loaded:f.now(),NAME:"mux-embed",VERSION:"4.26.0",API_VERSION:"2.1",PLAYER_TRACKED:!1,monitor:function(e,t){return function(e,t,n){var r=e1(l(t),3),i=r[0],a=r[1],o=r[2],s=e.log,u=e.utils.getComputedStyle,c=e.utils.secondsToMs;if(!i)return s.error("No element was found with the `"+a+"` query selector.");if("video"!==o&&"audio"!==o)return s.error("The element of `"+a+"` was not a media element.");i.mux&&(i.mux.destroy(),delete i.mux,s.warn("Already monitoring this video element, replacing existing event listeners")),(n=Object.assign({automaticErrorTracking:!0},n)).data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:e.VERSION},n.data),n.getPlayheadTime=function(){return c(i.currentTime)},n.getStateData=function(){var e,t,r=this.hlsjs&&this.hlsjs.url,a=this.dashjs&&e0("function"===this.dashjs.getSource)&&this.dashjs.getSource(),o={player_is_paused:i.paused,player_playhead_time:c(i.currentTime),player_width:parseInt(u(i,"width")),player_height:parseInt(u(i,"height")),player_autoplay_on:i.autoplay,player_preload_on:i.preload,player_language_code:i.lang,player_is_fullscreen:eX()&&!!(eX().fullscreenElement||eX().webkitFullscreenElement||eX().mozFullScreenElement||eX().msFullscreenElement),video_poster_url:i.poster,video_source_url:r||a||i.currentSrc,video_source_duration:c(i.duration),video_source_height:i.videoHeight,video_source_width:i.videoWidth,view_dropped_frame_count:null===(e=i)||void 0===e||null===(t=e.getVideoPlaybackQuality)||void 0===t?void 0:t.call(e).droppedVideoFrames},s=n.getPlayheadTime();if(i.getStartDate&&s>0){var l=i.getStartDate();if(l&&"function"==typeof l.getTime&&l.getTime()){var d=l.getTime();if(o.player_program_time=d+s,i.seekable.length>0){var h=d+i.seekable.end(i.seekable.length-1);o.player_live_edge_program_time=h}}}return o},i.mux=i.mux||{},i.mux.deleted=!1,i.mux.emit=function(t,n){e.emit(a,t,n)};var d=function(){s.error("The monitor for this video element has already been destroyed.")};i.mux.destroy=function(){Object.keys(i.mux.listeners).forEach(function(e){i.removeEventListener(e,i.mux.listeners[e],!1)}),delete i.mux.listeners,i.mux.destroy=d,i.mux.swapElement=d,i.mux.emit=d,i.mux.addHLSJS=d,i.mux.addDashJS=d,i.mux.removeHLSJS=d,i.mux.removeDashJS=d,i.mux.deleted=!0,e.emit(a,"destroy")},i.mux.swapElement=function(t){var n=e1(l(t),3),r=n[0],a=n[1],o=n[2];return r?"video"!==o&&"audio"!==o?e.log.error("The element of `"+a+"` was not a media element."):(r.muxId=i.muxId,delete i.muxId,r.mux=r.mux||{},r.mux.listeners=Object.assign({},i.mux.listeners),delete i.mux.listeners,Object.keys(r.mux.listeners).forEach(function(e){i.removeEventListener(e,r.mux.listeners[e],!1),r.addEventListener(e,r.mux.listeners[e],!1)}),r.mux.swapElement=i.mux.swapElement,r.mux.destroy=i.mux.destroy,delete i.mux,void(i=r)):e.log.error("No element was found with the `"+a+"` query selector.")},i.mux.addHLSJS=function(t){e.addHLSJS(a,t)},i.mux.addDashJS=function(t){e.addDashJS(a,t)},i.mux.removeHLSJS=function(){e.removeHLSJS(a)},i.mux.removeDashJS=function(){e.removeDashJS(a)},e.init(a,n),e.emit(a,"playerready"),i.paused||(e.emit(a,"play"),i.readyState>2&&e.emit(a,"playing")),i.mux.listeners={},ty.forEach(function(t){("error"!==t||n.automaticErrorTracking)&&(i.mux.listeners[t]=function(){var n={};if("error"===t){if(!i.error||1===i.error.code)return;n.player_error_code=i.error.code,n.player_error_message=tb[i.error.code]||i.error.message}e.emit(a,t,n)},i.addEventListener(t,i.mux.listeners[t],!1))})}(tR,e,t)},destroyMonitor:function(e){var t,n=(function(e){if(Array.isArray(e))return e}(t=l(e))||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(t,1)||function(e,t){if(e){if("string"==typeof e)return tP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tP(e,t):void 0}}(t,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];n&&n.mux&&"function"==typeof n.mux.destroy?n.mux.destroy():h.error("A video element monitor for `"+e+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(e,t){var n=s(e);tM[n]?tM[n].addHLSJS(t):h.error("A monitor for `"+n+"` has not been initialized.")},addDashJS:function(e,t){var n=s(e);tM[n]?tM[n].addDashJS(t):h.error("A monitor for `"+n+"` has not been initialized.")},removeHLSJS:function(e){var t=s(e);tM[t]?tM[t].removeHLSJS():h.error("A monitor for `"+t+"` has not been initialized.")},removeDashJS:function(e){var t=s(e);tM[t]?tM[t].removeDashJS():h.error("A monitor for `"+t+"` has not been initialized.")},init:function(e,t){p()&&t&&t.respectDoNotTrack&&h.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var n=s(e);tM[n]=new eJ(tR,n,t)},emit:function(e,t,n){var r=s(e);tM[r]?(tM[r].emit(t,n),"destroy"===t&&delete tM[r]):h.error("A monitor for `"+r+"` has not been initialized.")},checkDoNotTrack:p,log:h,utils:tL,events:{PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"},WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(tR,tI),void 0!==i()&&"function"==typeof i().addEventListener&&i().addEventListener("pagehide",function(e){e.persisted||(tR.WINDOW_UNLOADING=!0)},!1);var tO=tR},655:function(e,t,n){var r;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e);/*!
 * JavaScript Cookie v2.1.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */}!function(a){var o=!1;if(void 0===(r="function"==typeof a?a.call(t,n,t,e):a)||(e.exports=r),o=!0,"object"===i(t)&&(e.exports=a(),o=!0),!o){var s=window.Cookies,l=window.Cookies=a();l.noConflict=function(){return window.Cookies=s,l}}}(function(){var e=function(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t};return function t(n){function r(t,i,a){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(a=e({path:"/"},r.defaults,a)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*a.expires),a.expires=s}try{o=JSON.stringify(i),/^[\{\[]/.test(o)&&(i=o)}catch(l){}return i=n.write?n.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",i,a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}t||(o={});for(var u=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,d=0;d<u.length;d++){var h=u[d].split("="),p=h.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var f=h[0].replace(c,decodeURIComponent);if(p=n.read?n.read(p,f):n(p,f)||p.replace(c,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(m){}if(t===f){o=p;break}t||(o[f]=p)}catch(v){}}return o}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},153:function(e,t,n){var r,i=void 0!==n.g?n.g:"undefined"!=typeof window?window:{},a=n(558);"undefined"!=typeof document?r=document:(r=i["__GLOBAL_DOCUMENT_CACHE@4"])||(r=i["__GLOBAL_DOCUMENT_CACHE@4"]=a),e.exports=r},48:function(e,t,n){var r;r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},e.exports=r},640:function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(t,n){for(var i=0;i<r.length;i++){var a=r[i];this[a]=i<t?e:this.methodFactory(a,t,n)}this.log=this.debug}function s(e,n,r){return function(){typeof console!==t&&(o.call(this,n,r),this[e].apply(this,arguments))}}function l(r,o,l){var u;return"debug"===(u=r)&&(u="log"),typeof console!==t&&("trace"===u&&n?a:void 0!==console[u]?i(console,u):void 0!==console.log?i(console,"log"):e)||s.apply(this,arguments)}function u(e,n,i){var a,s=this;n=null==n?"WARN":n;var u="loglevel";function c(){var e;if(typeof window!==t&&u){try{e=window.localStorage[u]}catch(n){}if(typeof e===t)try{var r=window.document.cookie,i=r.indexOf(encodeURIComponent(u)+"=");-1!==i&&(e=/^([^;]+)/.exec(r.slice(i))[1])}catch(a){}return void 0===s.levels[e]&&(e=void 0),e}}"string"==typeof e?u+=":"+e:"symbol"==typeof e&&(u=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=i||l,s.getLevel=function(){return a},s.setLevel=function(n,i){if("string"==typeof n&&void 0!==s.levels[n.toUpperCase()]&&(n=s.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(a=n,!1!==i&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&u){try{return void(window.localStorage[u]=n)}catch(i){}try{window.document.cookie=encodeURIComponent(u)+"="+n+";"}catch(a){}}}(n),o.call(s,n,e),typeof console===t&&n<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){n=e,c()||s.setLevel(e,!1)},s.resetLevel=function(){s.setLevel(n,!1),function(){if(typeof window!==t&&u){try{return void window.localStorage.removeItem(u)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(n){}}}()},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var d=c();null==d&&(d=n),s.setLevel(d,!1)}var c=new u,d={};c.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new u(e,c.getLevel(),c.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return c.noConflict=function(){return typeof window!==t&&window.log===c&&(window.log=h),c},c.getLoggers=function(){return d},c.default=c,c})?r.call(t,n,t,e):r)||(e.exports=i)},375:function(e,t){"use strict";var n=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function i(e){try{return encodeURIComponent(e)}catch(t){return null}}t.stringify=function(e,t){var r,a,o=[];for(a in"string"!=typeof(t=t||"")&&(t="?"),e)if(n.call(e,a)){if((r=e[a])||null!=r&&!isNaN(r)||(r=""),a=i(a),r=i(r),null===a||null===r)continue;o.push(a+"="+r)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,i={};t=n.exec(e);){var a=r(t[1]),o=r(t[2]);null===a||null===o||a in i||(i[a]=o)}return i}},558:function(){}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n(80)}()},8266:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return n(91565)}])},92864:function(e,t,n){"use strict";var r=n(85893),i=n(5649),a=n(9187),o=n(13250),s=n(86501),l=n(92882),u=n(31618),c=n(64911),d=n(4242),h=n(21273),p=n(20674);let f=e=>{let{setFollowing:t,profile:n}=e,f=(0,l.qr)(e=>e.userSigNonce),m=(0,l.qr)(e=>e.setUserSigNonce),v=(0,l.qr)(e=>e.currentProfile),{address:g}=(0,u.mA)(),{isLoading:y,signTypedDataAsync:b}=(0,u.yw)({onError:a.Z}),w=()=>{t(!0),s.Am.success("Followed successfully!")},x=e=>{e.modify({id:"Profile:".concat(null==n?void 0:n.id),fields:{isFollowedByMe:()=>!0}})},{isLoading:_,write:k}=(0,u.GG)({address:i.Nm,abi:p.O,functionName:"followWithSig",onSuccess:w,onError:a.Z}),{broadcast:T,loading:E}=(0,o.Z)({onCompleted:w}),[C,{loading:S}]=(0,h.Rs)({onCompleted:async e=>{let{createFollowTypedData:t}=e,{id:n,typedData:r}=t,{deadline:i}=r.value;try{let a=await b((0,c.Z)(JSON.parse(JSON.stringify(r))));m(f+1);let{profileIds:o,datas:s}=r.value,{v:l,r:u,s:h}=(0,d.Z)(a),p={follower:g,profileIds:o,datas:s,sig:{v:l,r:u,s:h,deadline:i}};null==k||k({args:[p]});let{data:{broadcast:v}}=await T({request:{id:n,signature:a}});"reason"in v&&(null==k||k({args:[p]}))}catch(y){}},onError:a.Z,update:x}),[j,{loading:L}]=(0,h.RI)({onCompleted:w,onError:a.Z,update:x}),P=async e=>{let{data:t}=await j({variables:e});(null==t?void 0:t.proxyAction)||C({variables:{request:{follow:[{profile:null==n?void 0:n.id}]},options:{overrideSigNonce:f}}})},M=()=>{if(!v)return s.Am.error("Please Connect Your Wallet");if(null==n?void 0:n.followModule){var e;C({variables:{options:{overrideSigNonce:f},request:{follow:[{profile:null==n?void 0:n.id,followModule:(null==n?void 0:null===(e=n.followModule)||void 0===e?void 0:e.__typename)==="ProfileFollowModuleSettings"?{profileFollowModule:{profileId:null==v?void 0:v.id}}:null}]}}})}else P({request:{follow:{freeFollow:{profileId:null==n?void 0:n.id}}}})};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:M,disabled:S||L||y||_||E,className:"lg:text-md xl:text-md font-helvetica mt-2 cursor-pointer rounded-full border-2 border-black bg-blue-500 px-1 py-1 text-xs font-semibold text-[#000000] drop-shadow-xl transition hover:bg-[#57B8FF] hover:text-[#fff]",children:"Follow"})})})};t.Z=f},87184:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(85893),i=n(67294),a=n(9187),o=n(92882),s=n(21273),l=n(68980),u=n(86501),c=n(8193);let d=e=>{let{setCount:t,setLiked:n,count:i,liked:d,publication:h}=e,p=(0,o.qr)(e=>e.currentProfile),[f]=(0,s.Os)({onCompleted:()=>{u.Am.success("Like successfully!")},onError:e=>{n(!d),t(i-1),(0,a.Z)(e)}}),[m]=(0,s.d6)({onCompleted:()=>{u.Am.success("Like removed successfully!")},onError:e=>{n(!d),t(i-1),(0,a.Z)(e)}}),v=()=>{if(!p)return u.Am.error("Please connect your wallet!");let e={variables:{request:{profileId:null==p?void 0:p.id,reaction:l.Oiw.Upvote,publicationId:null==h?void 0:h.id}}};d?(n(!1),t(i-1),m(e)):(n(!0),t(i+1),f(e))};return(0,r.jsx)(r.Fragment,{children:d?(0,r.jsx)("div",{onClick:v,className:" rounded-full bg-gray-600/50 p-2 dark:bg-gray-600/50 md:bg-gray-200",children:(0,r.jsx)(c.M_L,{className:"h-3 w-3 font-bold text-blue-500"})}):(0,r.jsx)("div",{onClick:v,className:" rounded-full bg-gray-600/50 p-2 dark:bg-gray-600/50 md:bg-gray-200",children:(0,r.jsx)(c.M_L,{className:"h-3 w-3 font-bold "})})})},h=e=>{let{publication:t}=e,[n,a]=(0,i.useState)(!1),s="Mirror"===t.__typename,[l,u]=(0,i.useState)(s?t.mirrorOf.stats.totalUpvotes:t.stats.totalUpvotes),c=(0,o.qr)(e=>e.currentProfile);return(0,i.useEffect)(()=>{(null==t?void 0:t.reaction)==="UPVOTE"?a(!0):a(!1),c||a(!1)},[null==t?void 0:t.reaction]),(0,r.jsx)("div",{className:"block flex gap-6",children:(0,r.jsxs)("div",{className:" flex cursor-pointer flex-col items-center justify-center md:mt-4",children:[(0,r.jsx)(d,{setCount:u,count:l,setLiked:a,liked:n,publication:t}),(0,r.jsxs)("p",{className:"hidden text-xs font-semibold text-gray-400 lg:block",children:[" ",l," "]})]})})};var p=h},7960:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(85893);let i=[{inputs:[{internalType:"address",name:"hub",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"BlockNumberInvalid",type:"error"},{inputs:[],name:"InitParamsInvalid",type:"error"},{inputs:[],name:"Initialized",type:"error"},{inputs:[],name:"NotHub",type:"error"},{inputs:[],name:"NotOwnerOrApproved",type:"error"},{inputs:[],name:"SignatureExpired",type:"error"},{inputs:[],name:"SignatureInvalid",type:"error"},{inputs:[],name:"TokenDoesNotExist",type:"error"},{inputs:[],name:"ZeroSpender",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"HUB",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"burnWithSig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegator",type:"address"},{internalType:"address",name:"delegatee",type:"address"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"delegateBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getDelegatedSupplyByBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getPowerByBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"mintTimestampOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"permitForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"sigNonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenDataOf",outputs:[{components:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint96",name:"mintTimestamp",type:"uint96"}],internalType:"struct IERC721Time.TokenData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}];var a=n(9187),o=n(4242),s=n(92882),l=n(13250),u=n(66214),c=n(67294),d=n(31618),h=n(64911),p=n(86501),f=n(21273),m=n(52942);let v=e=>{let{setFollowing:t,profile:n}=e,v=(0,s.qr)(e=>e.currentProfile),[g,y]=(0,c.useState)(!1),{isLoading:b,signTypedDataAsync:w}=(0,d.yw)({onError:a.Z}),{data:x}=(0,m.Z)(),_=async(e,t)=>{let{tokenId:n,deadline:r}=t.value,{v:a,r:s,s:l}=(0,o.Z)(e),c=new u.CH(t.domain.verifyingContract,i,x);await c.burnWithSig(n,{v:a,r:s,s:l,deadline:r})},{broadcast:k}=(0,l.Z)({onCompleted:()=>{t(!1)}}),[T,{loading:E}]=(0,f.i0)({onCompleted:async e=>{let{createUnfollowTypedData:t}=e;try{let{typedData:n,id:r}=t,i=await w((0,h.Z)(n));y(!0);try{var a;let{data:o}=await k({request:{id:r,signature:i}});(null==o?void 0:null===(a=o.broadcast)||void 0===a?void 0:a.reason)&&await _(i,n),p.Am.success("Unfollowed succesfully")}catch(s){p.Am.error("User rejected request")}finally{y(!1)}}catch(l){}},onError:a.Z}),C=()=>{if(!v)return p.Am.error("Please connect your wallet");T({variables:{request:{profile:null==n?void 0:n.id}}})};return(0,r.jsx)("div",{children:(0,r.jsx)("button",{onClick:C,className:"lg:text-md xl:text-md font-helvetica mt-2 cursor-pointer rounded-full border-2 border-black bg-blue-500 p-3 px-1 py-1 text-xs font-semibold text-[#000000] drop-shadow-xl transition hover:bg-[#57B8FF] hover:text-white active:bg-violet-600",children:"Unfollow"})})};var g=v},4932:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(85893),i=n(41664),a=n.n(i),o=n(67294),s=n(86501),l=n(5649),u=n(55225),c=function(){let[e,t]=(0,o.useState)(null),n=async e=>{if(!(null==navigator?void 0:navigator.clipboard))return!1;try{return await navigator.clipboard.writeText(e),t(e),!0}catch(n){return t(null),!1}};return[n,e]},d=n(93300),h=n(21321),p=n(29350),f=n(5434);let m=e=>{let{videoId:t,onClose:n}=e,[i,a]=(0,o.useState)(!1),[u]=c(),m='<iframe width="560" height="315" src="'.concat(l.Qy,"/").concat(t,'?autoplay=1&t=0&loop=0" title="LensShare video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write;" allowfullscreen></iframe>'),v=()=>{u(m),s.ZP.success("Copied to clipboard")},g=()=>{a(!1),n()},y=()=>{a(!0)};return(0,r.jsxs)("div",{children:[(0,r.jsx)(p.Z,{title:"Embed Video",onClose:g,show:i,children:(0,r.jsxs)("div",{className:"display:absolute mt-40 rounded-xl bg-white dark:bg-gray-900/70 ",children:[(0,r.jsx)("div",{className:"z-10 max-md:absolute",children:(0,r.jsx)("button",{type:"button",className:"right-1 m-4 rounded-full bg-slate-600 p-1 focus:outline-none",onClick:()=>a(!1),children:(0,r.jsx)(f.lTq,{className:"h-4 w-4 text-white"})})}),(0,r.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,r.jsx)("div",{className:"w-full break-words",children:(0,r.jsx)("iframe",{sandbox:"allow-scripts allow-same-origin",className:"mt-24 aspect-[16/9] w-full break-words",src:"".concat(l.Qy,"/").concat(t),title:"LensShare video player",allow:"accelerometer; autoplay; clipboard-write; gyroscope;",allowFullScreen:!0})}),(0,r.jsx)("div",{className:"col-span-2 mt-80",children:(0,r.jsx)("button",{type:"button",onClick:()=>v(),className:"select-all rounded-xl border p-4 text-left",children:(0,r.jsx)("code",{className:"select-all break-words text-xs opacity-60",children:m})})})]})]})}),(0,r.jsx)(d.u,{placement:"top",content:"Embed Video",children:(0,r.jsx)("button",{type:"button",onClick:()=>y(),className:"rounded-full bg-blue-500 p-2.5",children:(0,r.jsx)(h.Z,{className:"h-5 w-5 text-black dark:text-white"})})})]})};var v=n(47516),g=n(97454);let y=e=>"".concat(l.Tq,"/post/").concat(e.id),b=(e,t)=>{var n,r,i,a,o,s,u,c,d;return"lenster"===e?"".concat(l.ZT,"/?url=").concat(y(t),"&text=").concat(null===(n=t.metadata)||void 0===n?void 0:n.name," by @").concat((0,g.Z)(null===(r=t.profile)||void 0===r?void 0:r.handle),"&hashtags=Lensshare&preview=true"):"twitter"===e?encodeURI("https://twitter.com/intent/tweet?url=".concat(y(t),"&text=").concat(null===(i=t.metadata)||void 0===i?void 0:i.name," by @").concat((0,g.Z)(null===(a=t.profile)||void 0===a?void 0:a.handle),"&via=").concat(l.nG,"&related=Lensshare&hashtags=Lensshare")):"reddit"===e?"https://www.reddit.com/submit?url=".concat(y(t),"&title=").concat(null===(o=t.metadata)||void 0===o?void 0:o.name," by @").concat((0,g.Z)(null===(s=t.profile)||void 0===s?void 0:s.handle)):"linkedin"===e?"https://www.linkedin.com/shareArticle/?url=".concat(y(t)," by @").concat((0,g.Z)(null===(u=t.profile)||void 0===u?void 0:u.handle),"&title=").concat(null===(c=t.metadata)||void 0===c?void 0:c.name,"&summary=").concat(null===(d=t.metadata)||void 0===d?void 0:d.description,"&source=").concat(l.iC):""};var w=n(11761);let x=e=>{let{setShowShare:t,publication:n,show:i}=e,[o]=c(),d=async()=>{await o("".concat(l.Tq,"/post/").concat(n.id)),s.ZP.success("Permalink copied to clipboard")};return(0,r.jsxs)(p.Z,{title:"Share",onClose:()=>t(!1),show:i,children:[(0,r.jsx)("div",{className:"z-10 max-md:absolute",children:(0,r.jsx)("button",{type:"button",className:"right-1 m-4 rounded-full bg-slate-600 p-1 focus:outline-none",onClick:()=>t(!1),children:(0,r.jsx)(f.lTq,{className:"h-4 w-4 text-white"})})}),(0,r.jsx)("div",{className:"mt-20 rounded-xl bg-white dark:bg-gray-900/70",children:(0,r.jsxs)(w.Z,{className:"rounded-xl border-0 object-contain object-center p-2 ",children:[(0,r.jsxs)("div",{className:"no-scrollbar mb-4 flex flex-nowrap items-center space-x-3 overflow-x-auto",children:[(0,r.jsx)(m,{videoId:n.id,onClose:()=>t(!1)}),(0,r.jsx)(a(),{className:"rounded-full",target:"_blank",rel:"noreferrer",href:b("lenster",n),children:(0,r.jsx)("img",{src:(0,u.Z)("".concat(l.Fv,"/images/social/lenster.png"),"avatar_lg"),className:"h-10 w-10 max-w-none rounded-full",alt:"lenster",draggable:!1})}),(0,r.jsx)(a(),{className:"rounded-full",target:"_blank",rel:"noreferrer",href:b("twitter",n),children:(0,r.jsx)("img",{src:(0,u.Z)("".concat(l.Fv,"/images/social/twitter.png"),"avatar_lg"),className:"h-10 w-10 max-w-none rounded-full",alt:"twitter",draggable:!1})}),(0,r.jsx)(a(),{href:b("reddit",n),target:"_blank",rel:"noreferrer",children:(0,r.jsx)("img",{src:(0,u.Z)("".concat(l.Fv,"/images/social/reddit-logo.png"),"avatar_lg"),className:"h-10 w-10 max-w-none rounded-full",alt:"reddit",draggable:!1})}),(0,r.jsx)(a(),{href:b("linkedin",n),target:"_blank",rel:"noreferrer",children:(0,r.jsx)("img",{src:(0,u.Z)("".concat(l.Fv,"/images/social/linkedin.png"),"avatar_lg"),alt:"linkedin",className:"h-10 w-10 max-w-none rounded-full",draggable:!1})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-2 dark:border-gray-800",children:[(0,r.jsxs)("div",{className:"select-all truncate text-sm",children:[l.Tq,"/post/",n.id]}),(0,r.jsx)("button",{className:"ml-2 hover:opacity-60 focus:outline-none",onClick:()=>d(),type:"button",children:(0,r.jsx)(v.LhG,{className:"h-4 w-4"})})]})]})})]})};var _=x},84774:function(e,t,n){"use strict";n.d(t,{Z:function(){return $}});var r=n(85893),i=n(41664),a=n.n(i),o=n(30052),s=n(67294),l=n(22257),u=n(7960),c=n(92864),d=n(92882),h=n(87184),p=n(89583);let f=e=>{let{publication:t}=e,[n,i]=(0,s.useState)(!1),o="Mirror"===t.__typename,l=o?t.mirrorOf.stats.totalAmountOfComments:t.stats.totalAmountOfComments;return(0,r.jsx)("div",{className:"block flex gap-6",children:(0,r.jsx)(a(),{legacyBehavior:!0,href:"/post/".concat(t.id),children:(0,r.jsxs)("a",{className:"flex cursor-pointer flex-col items-center justify-center md:mt-4",children:[n?(0,r.jsx)("div",{className:"flex cursor-pointer items-center rounded-full bg-gray-600/50 p-2 drop-shadow-lg dark:bg-gray-600/50 md:bg-gray-200 ",children:(0,r.jsx)(p.QRJ,{className:"h-3 w-3 text-blue-700 "})}):(0,r.jsxs)("div",{className:"flex cursor-pointer items-center rounded-full bg-gray-600/50 p-2 drop-shadow-lg dark:bg-gray-600/50 md:bg-gray-200",children:[(0,r.jsx)(p.QRJ,{className:"h-3 w-3 "}),(0,r.jsxs)("span",{className:"pointer-events-none absolute -bottom-7 left-7 hidden w-max px-2 py-1 text-xs text-blue-700 opacity-0 shadow group-hover:opacity-100 md:block",children:[" ","Comment"," "]})]}),(0,r.jsx)("p",{className:"hidden text-xs font-semibold text-gray-400 lg:block",children:l})]})})})};var m=n(29451),v=n(8974),g=n(4932);let y=e=>(0,r.jsxs)("svg",{...e,viewBox:"0 0 22 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.75 4C14.75 1.92893 13.0711 0.25 11 0.25C8.92893 0.25 7.25 1.92893 7.25 4C7.25 6.07107 8.92893 7.75 11 7.75C13.0711 7.75 14.75 6.07107 14.75 4ZM11 1.75C12.2426 1.75 13.25 2.75736 13.25 4C13.25 5.24264 12.2426 6.25 11 6.25C9.75736 6.25 8.75 5.24264 8.75 4C8.75 2.75736 9.75736 1.75 11 1.75Z",fill:"currentColor"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.25 16C8.25 13.9289 6.57107 12.25 4.5 12.25C2.42893 12.25 0.75 13.9289 0.75 16C0.75 18.0711 2.42893 19.75 4.5 19.75C6.57107 19.75 8.25 18.0711 8.25 16ZM4.5 13.75C5.74264 13.75 6.75 14.7574 6.75 16C6.75 17.2426 5.74264 18.25 4.5 18.25C3.25736 18.25 2.25 17.2426 2.25 16C2.25 14.7574 3.25736 13.75 4.5 13.75Z",fill:"currentColor"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 12.25C19.5711 12.25 21.25 13.9289 21.25 16C21.25 18.0711 19.5711 19.75 17.5 19.75C15.4289 19.75 13.75 18.0711 13.75 16C13.75 13.9289 15.4289 12.25 17.5 12.25ZM19.75 16C19.75 14.7574 18.7426 13.75 17.5 13.75C16.2574 13.75 15.25 14.7574 15.25 16C15.25 17.2426 16.2574 18.25 17.5 18.25C18.7426 18.25 19.75 17.2426 19.75 16Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M6.20468 5.56231C6.51523 5.28821 6.54478 4.81426 6.27069 4.5037C5.99659 4.19315 5.52264 4.1636 5.21208 4.43769C3.39676 6.03991 2.25 8.38652 2.25 11C2.25 11.4142 2.58579 11.75 3 11.75C3.41421 11.75 3.75 11.4142 3.75 11C3.75 8.83474 4.69828 6.89187 6.20468 5.56231Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M16.7879 4.43769C16.4774 4.1636 16.0034 4.19315 15.7293 4.5037C15.4552 4.81426 15.4848 5.28821 15.7953 5.56231C17.3017 6.89187 18.25 8.83474 18.25 11C18.25 11.4142 18.5858 11.75 19 11.75C19.4142 11.75 19.75 11.4142 19.75 11C19.75 8.38652 18.6032 6.03991 16.7879 4.43769Z",fill:"currentColor"}),(0,r.jsx)("path",{d:"M9.18694 18.0217C8.7858 17.9184 8.37692 18.1599 8.27367 18.561C8.17043 18.9622 8.41192 19.3711 8.81306 19.4743C9.51285 19.6544 10.2458 19.75 11 19.75C11.7542 19.75 12.4871 19.6544 13.1869 19.4743C13.5881 19.3711 13.8296 18.9622 13.7263 18.561C13.6231 18.1599 13.2142 17.9184 12.8131 18.0217C12.2344 18.1706 11.627 18.25 11 18.25C10.373 18.25 9.76562 18.1706 9.18694 18.0217Z",fill:"currentColor"})]}),b=e=>{let{publication:t}=e,[n,i]=(0,s.useState)(!1),a="Mirror"===t.__typename,[o,l]=(0,s.useState)(a?t.mirrorOf.stats.totalUpvotes:t.stats.totalUpvotes);(0,d.qr)(e=>e.currentProfile);let[u,c]=(0,s.useState)(!1);return(0,r.jsx)("div",{className:"flex gap-6",children:(0,r.jsxs)("div",{className:" flex cursor-pointer flex-col items-center justify-center rounded-full bg-gray-600/50 p-2 dark:bg-gray-600/50 md:mt-2 md:bg-gray-200 md:text-black dark:text-white",onClick:()=>c(!0),children:[(0,r.jsx)(g.Z,{show:u,setShowShare:c,publication:t}),(0,r.jsxs)("p",{children:[(0,r.jsx)(y,{onClick:()=>c(!0),className:"h-3 w-3 cursor-pointer rounded-full"})," "]})]})})};var w=n(11163);n(5649);var x=n(86501),_=n(51190),k=n(49117),T=n(37788);let E=e=>{let{publication:t,feedItem:n,showThread:i=!0,profile:a,showType:o=!0,showActions:s=!0,showModActions:l=!1,showMore:u=!0,isFirst:c=!1,isLast:d=!1}=e,h=(null==n?void 0:n.comments)&&n.comments[0],p=n?h||(null==n?void 0:n.root):t;return(0,r.jsx)("div",{className:"vh-88% ml-[20px] mt-2 rounded-xl border border-blue-700 bg-[#F2F6F9] dark:bg-black p-3 ",children:(null==t?void 0:t.hidden)?(0,r.jsx)(k.Z,{type:t.__typename}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(T.Z,{publication:p,showMore:u,profile:a})})})};var C=n(24358),S=n(24604),j=n(86010),L=n(59355);let P=s.forwardRef(function({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"}))}),M=e=>{let{publication:t}=e,n="Mirror"===t.__typename,i=n?t.mirrorOf.__typename:t.__typename;return(0,r.jsx)(S.v.Item,{as:"div",className:e=>{let{active:t}=e;return(0,j.Z)({"dropdown-active":t},"m-2 block cursor-pointer rounded-lg px-4 py-1.5 text-sm")},onClick:async e=>{var n;(0,L.Z)(e),await navigator.clipboard.writeText((null==t?void 0:null===(n=t.metadata)||void 0===n?void 0:n.content)||""),x.ZP.success("Copied to clipboard!")},children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(P,{className:"h-4 w-4"}),(0,r.jsx)("div",{children:"Comment"===i?"Copy comment text":"Copy post text"})]})})};var R=n(97125),I=n(76249);let O=e=>{let{publication:t}=e,n=(0,R.h)(e=>e.setShowPublicationDeleteAlert);return(0,r.jsx)(S.v.Item,{as:"div",className:e=>{let{active:t}=e;return(0,j.Z)({"dropdown-active":t},"m-2 block cursor-pointer rounded-lg px-4 py-1.5 text-sm text-red-500")},onClick:e=>{(0,L.Z)(e),n(!0,t)},children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(I.Z,{className:"h-4 w-4"}),(0,r.jsx)("div",{children:"Delete"})]})})},A=s.forwardRef(function({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.249-8.25-3.286zm0 13.036h.008v.008H12v-.008z"}))});var N=n(96806);let D=e=>{let{publication:t}=e,n=(0,N.u)(e=>e.setShowReportModal);return(0,r.jsx)(S.v.Item,{as:"div",className:e=>{let{active:t}=e;return(0,j.Z)({"dropdown-active":t},"m-2 block cursor-pointer rounded-lg px-4 py-1.5 text-sm text-red-500")},onClick:e=>{(0,L.Z)(e),n(!0,t)},children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(A,{className:"h-4 w-4"}),(0,r.jsx)("div",{children:"Report Post"})]})})},q=e=>{let{publication:t}=e;return(0,r.jsx)(S.v.Item,{as:"div",className:e=>{let{active:t}=e;return(0,j.Z)({"dropdown-active":t},"m-2 block cursor-pointer rounded-lg px-4 py-1.5 text-sm")},onClick:async e=>{(0,L.Z)(e),await navigator.clipboard.writeText("".concat(location.origin,"/post/").concat(null==t?void 0:t.id)),x.ZP.success("Copied to clipboard!")},children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(P,{className:"h-4 w-4"}),(0,r.jsx)("div",{children:"Share"})]})})};var F=n(63750);let B=e=>{var t,n;let{publication:i}=e;return(0,r.jsx)(S.v.Item,{as:a(),className:e=>{let{active:t}=e;return(0,j.Z)({"dropdown-active":t},"m-2 block cursor-pointer rounded-lg px-4 py-1.5 text-sm")},href:(n=null==i?void 0:null===(t=i.metadata)||void 0===t?void 0:t.content,encodeURI("https://translate.google.com/#auto|en|".concat(encodeURIComponent(n)))),onClick:e=>{(0,L.Z)(e)},target:"_blank",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(F.S7c,{className:"h-4 w-4"}),(0,r.jsx)("div",{children:"Translate"})]})})};var U=n(47516),H=n(91158);let V=e=>{var t;let{publication:n}=e,i=(0,d.qr)(e=>e.currentProfile);return(0,r.jsxs)(S.v,{as:"div",className:"relative",children:[(0,r.jsx)(S.v.Button,{as:s.Fragment,children:(0,r.jsx)("button",{className:"rounded-full p-1.5 hover:bg-gray-300/20",onClick:L.Z,"aria-label":"More","data-testid":"publication-".concat(n.id,"-menu"),children:(0,r.jsx)(U.JJP,{className:(0,j.Z)("lt-text-gray-500","w-[15px] sm:w-[18px]")})})}),(0,r.jsx)(H.Z,{children:(0,r.jsxs)(S.v.Items,{static:!0,className:"absolute right-0 cursor-pointer z-[5] mt-1 w-max rounded-xl border bg-white dark:bg-gray-900/70 shadow-sm focus:outline-none dark:border-gray-700 dark:bg-gray-300","data-testid":"publication-".concat(n.id,"-menu-items"),children:[(null==i?void 0:i.id)===(null==n?void 0:null===(t=n.profile)||void 0===t?void 0:t.id)?(0,r.jsx)(O,{publication:n}):(0,r.jsx)(D,{publication:n}),(0,r.jsx)(q,{publication:n}),(0,r.jsx)(B,{publication:n}),(0,r.jsx)(M,{publication:n})]})})]})};var Z=n(56713);let z=e=>{var t,n,i,p,g,y,x,k,T,S,j;let{publication:L,onDetail:P}=e;(0,w.useRouter)();let[M,R]=(0,s.useState)(!1);(0,s.useRef)(null);let I=(0,d.qr)(e=>e.currentProfile);(0,d.qr)(e=>e.currentviewingId),(0,d.qr)(e=>e.setCurrentviewingId);let[O,A]=(0,s.useState)(),[N,D]=(0,s.useState)(!1),[q,F]=(0,s.useState)(!1),B=L.createdAt,U=B.split("T")[0],H=(null==L?void 0:L.__typename)==="Mirror",z=H?null==L?void 0:null===(t=L.mirrorOf)||void 0===t?void 0:t.profile:null==L?void 0:L.profile,$=H?null==L?void 0:null===(n=L.mirrorOf)||void 0===n?void 0:null===(i=n.stats)||void 0===i?void 0:i.totalUpvotes:null==L?void 0:null===(p=L.stats)||void 0===p?void 0:p.totalUpvotes,W=H?L.mirrorOf.stats.totalAmountOfComments:L.stats.totalAmountOfComments,Q=H?null==L?void 0:null===(g=L.mirrorOf)||void 0===g?void 0:null===(y=g.stats)||void 0===y?void 0:y.totalAmountOfComments:null==L?void 0:null===(x=L.stats)||void 0===x?void 0:x.totalAmountOfComments,G=H?null==L?void 0:null===(k=L.mirrorOf)||void 0===k?void 0:null===(T=k.stats)||void 0===T?void 0:T.totalAmountOfCollects:null==L?void 0:null===(S=L.stats)||void 0===S?void 0:S.totalAmountOfCollects,[K,J]=(0,s.useState)(!1),[Y,X]=(0,s.useState)(!1),[ee,et]=(0,s.useState)(!1),[en,er]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{var e;(null===(e=L.metadata)||void 0===e?void 0:e.content.trim().length)>500&&(J(!0),X(!0))},[null===(j=L.metadata)||void 0===j?void 0:j.content]),(0,d.qr)(e=>e.isMute),(0,s.useEffect)(()=>{(null==z?void 0:z.isFollowedByMe)===!0?R(!0):R(!1),I||R(!1)},[null==z?void 0:z.isFollowedByMe]),(0,r.jsxs)("div",{className:"justify-content break-word m-3 flex flex-col rounded-xl border border-blue-700 bg-[#F2F6F9] dark:bg-black pb-0 md:pb-6",children:[(0,r.jsxs)("div",{className:"break-word flex flex-row ",children:[(0,r.jsxs)("div",{className:"break-word mt-4 flex-auto cursor-pointer gap-3 rounded p-2 font-semibold",children:[(0,r.jsx)(a(),{href:"/u/".concat(z.id)},z.id),(0,r.jsx)(o.E,{itemRef:"/u/".concat(z.id),src:(0,l.Z)(z),width:62,height:62,alt:z.handle,className:"rounded-full border-2 border-blue-500"}),(0,r.jsxs)("div",{className:"break-word ",children:[(0,r.jsx)(a(),{href:"/u/".concat(z.id),children:(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsxs)("p",{className:"text-md flex items-center gap-1 pl-1 pt-3 font-bold capitalize dark:text-white text-primary",children:[z.name," "]})})},z.id),(0,r.jsx)(v.Z,{className:"text-grey-500 pl-1 text-xs ",slug:(0,m.Z)(null==z?void 0:z.handle),prefix:"@"}),(0,r.jsxs)("p",{className:"pl-full block p-1 pl-1 pr-4 pt-2 text-xs font-semibold text-blue-500",children:[" ",U,"~",(0,r.jsx)("span",{className:"pl-2 text-xs text-blue-700 opacity-50",children:(0,_.ni)(L.createdAt)})]})]})]}),(0,r.jsxs)("div",{className:"mr-6 mt-6",children:[(0,r.jsx)("div",{children:(0,r.jsx)("button",{children:(0,r.jsx)(V,{publication:L})})}),M?(0,r.jsx)(u.Z,{setFollowing:R,profile:z}):(0,r.jsx)(c.Z,{setFollowing:R,profile:z})]})]}),(0,r.jsx)("div",{className:"cursor-pointer rounded-xl p-2",children:H?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{className:"text-sm font-semibold text-black dark:text-white",children:["'Mirror from @",null==z?void 0:z.handle,"'"]}),(0,r.jsx)(E,{profile:z,publication:L})]}):(0,r.jsx)(E,{profile:z,publication:L})}),(0,r.jsxs)("div",{className:"ml-4 flex flex-row space-x-3 py-3",children:[(0,r.jsxs)("p",{className:"text-black dark:text-white block pl-1 text-xs font-semibold",children:[" ",$," Likes"]}),(0,r.jsxs)("p",{className:"text-black dark:text-white block text-xs font-semibold",children:[" ",W," Comments"]}),(0,r.jsxs)("p",{className:"text-black dark:text-white block text-xs font-semibold",children:[" ",Q," Mirrors"]}),(0,r.jsxs)("p",{className:"text-black dark:text-white block text-xs font-semibold",children:[" ",G," Collects"]})]}),(0,r.jsxs)("div",{className:"ml-auto flex",children:[(0,r.jsx)("button",{className:"block pb-2 pr-2 ",children:(0,r.jsx)(h.Z,{publication:L})}),(0,r.jsx)("button",{className:"mt-0.5 block pb-2 pr-2",children:(0,r.jsx)(C.Z,{publication:L,showCount:!0})}),(0,r.jsx)("button",{className:"block pb-2 pr-2",children:(0,r.jsx)(f,{publication:L})}),(0,r.jsx)("button",{className:"block pb-2 pr-2 lg:mb-3.5 xl:mb-3.5",children:(0,r.jsx)(Z.Z,{publication:L,showCount:!0})}),(0,r.jsx)("button",{className:"block pb-2 pr-2 md:mt-2 lg:mb-3 xl:mb-3",onClick:()=>F(!0),children:(0,r.jsx)(b,{publication:L})})]})]})};var $=z},36595:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(85893),i=n(41664),a=n.n(i),o=n(92882),s=n(67294),l=n(73359),u=n(50319),c=n(76781),d=n(5649),h=n(31618),p=n(86501);let f=()=>{let e=(0,o.qr)(e=>e.setProfiles),t=(0,o.qr)(e=>e.setCurrentProfile),n=(0,o.Fc)(e=>e.setProfileId),[i,a]=(0,s.useState)(!1),{chain:f}=(0,h.LN)(),{switchNetwork:m}=(0,h.g0)(),[v,g]=(0,s.useState)(!1),{address:y,connector:b}=(0,h.mA)(),{connectors:w,error:x,connectAsync:_}=(0,h.$4)(),{signMessageAsync:k,isLoading:T}=(0,h.QW)(),[E,{error:C,loading:S}]=(0,l.t)(c.bT,{fetchPolicy:"no-cache"}),[j,{error:L,loading:P}]=(0,u.D)(c.bs),[M,{error:R,loading:I}]=(0,l.t)(c.$);(0,s.useEffect)(()=>{a(!0)},[]);let O=async()=>{try{var r,i,a,o,s,l,u,c,d;let h=await E({variables:{request:{address:y}}});if(!(null==h?void 0:null===(r=h.data)||void 0===r?void 0:null===(i=r.challenge)||void 0===i?void 0:i.text))return p.ZP.error("ERROR_MESSAGE");let f=await k({message:null==h?void 0:null===(a=h.data)||void 0===a?void 0:null===(o=a.challenge)||void 0===o?void 0:o.text}),m=await j({variables:{request:{address:y,signature:f}}});localStorage.setItem("accessToken",null===(s=m.data)||void 0===s?void 0:s.authenticate.accessToken),localStorage.setItem("refreshToken",null===(l=m.data)||void 0===l?void 0:l.authenticate.refreshToken);let{data:v}=await M({variables:{request:{ownedBy:[y]}}});if((null==v?void 0:null===(u=v.profiles)||void 0===u?void 0:null===(c=u.items)||void 0===c?void 0:c.length)===0)return p.ZP.error("You have no lens profile yet, please create one");{let g=null==v?void 0:null===(d=v.profiles)||void 0===d?void 0:d.items,b=g[0];e(g),t(b),n(b.id)}}catch(w){}};return(null==b?void 0:b.id)?(0,r.jsx)("div",{children:(null==f?void 0:f.id)===d.Kj?(0,r.jsx)("button",{className:"flex-1 text-blue-700",onClick:()=>O(),children:i?"Log In":""}):(0,r.jsx)("button",{className:"flex-1 text-blue-700",onClick:()=>{m?m(d.Kj):p.ZP.error("Please change your network!")},children:"Switch Network"})}):(0,r.jsx)("button",{onClick:()=>{p.ZP.error("Log in to view profile",{duration:1e3})},className:"border-gray-800 text-blue-700 hover:text-gray-600 focus:text-black dark:text-white focus:outline-none",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})};var m=n(93832),v=n(28166),g=n(5434),y=n(14382),b=n(61998),w=n(1257),x=n(10116);let _=()=>{let e=(0,o.qr)(e=>e.currentProfile),t=(0,x.N)(e=>e.clearMessagesBadge),n=(0,x.N)(e=>e.viewedMessagesAtNs),i=(0,x.N)(e=>e.showMessagesBadge),l=(0,x.N)(e=>e.setShowMessagesBadge),{client:u}=(0,y.Z)(!0),c=(e,t)=>{if(!t)return!1;let n=(0,w.nB)(e);return!n||n.getTime()<t.getTime()&&t.getTime()<new Date().getTime()};return(0,s.useEffect)(()=>{let t;if(!u||!e)return;let r=async()=>{let t=await u.conversations.list();if(t.length<=0)return;let r=t.map(e=>e.topic),a=await u.apiClient.batchQuery(r.map(e=>({contentTopic:e,pageSize:1,direction:w.Sr.SORT_DIRECTION_DESCENDING}))),o=a.reduce((e,t)=>{var n,r;return t.length&&(null===(n=t[0])||void 0===n?void 0:n.timestampNs)&&(!e||(null===(r=t[0])||void 0===r?void 0:r.timestampNs)>e)?t[0].timestampNs:e},null),s=(0,w.nB)(null!=o?o:void 0),d=c(n.get(e.id),s);i.set(e.id,d),l(new Map(i))},a=async()=>{t&&await t.return(void 0)},o=t=>!window.location.pathname.startsWith("/messages")&&e.id===t,s=async r=>{for await(let a of t=await u.conversations.streamAllMessages())if(r(e.id)){let o=e.ownedBy!==a.senderAddress;if(o){let s=c(n.get(e.id),a.sent);i.set(e.id,s),l(new Map(i))}}};return r(),s(o),()=>{a()}},[u,null==e?void 0:e.id]),(0,r.jsxs)(a(),{href:"/messages",className:" min-w-[40px] items-start justify-center rounded-md md:flex",onClick:()=>{e&&t(e.id)},children:[(0,r.jsx)(b.Z,{className:"h-6 w-6 pb-1 text-blue-500 "}),i.get(null==e?void 0:e.id)?(0,r.jsx)("span",{className:"z-[6] h-2 w-2 rounded-full bg-red-500 text-red-500"}):null]})},k=()=>{let e=(0,o.qr)(e=>e.currentProfile),[t,n]=(0,s.useState)(!0),[i,l]=(0,s.useState)(0),[u,c]=(0,s.useState)(!0);return(0,r.jsx)("div",{children:(0,r.jsxs)("nav",{className:"z-99 fixed bottom-0 left-0 right-0 z-[5] m-auto flex h-[70px] items-center justify-around overflow-hidden rounded-lg border-2 border-b-0 border-l border-r border-t border-blue-700 bg-white/70 dark:bg-gray-800/70 px-4 py-3 lg:w-[1100px] xl:w-[1200px]",children:[t?(0,r.jsx)(a(),{href:"/",children:(0,r.jsx)("button",{onClick:()=>{n(!1)},className:"border-gray-800 text-blue-500 hover:text-gray-100 focus:text-gray-100 focus:outline-none",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})}):(0,r.jsx)(a(),{href:"/",children:(0,r.jsx)("button",{onClick:()=>{n(!0)},className:"border-gray-800 text-blue-500 hover:text-gray-100 focus:text-gray-100 focus:outline-none",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})}),(0,r.jsx)("div",{children:(0,r.jsxs)(a(),{href:"/feed",children:[(0,r.jsx)(g.dnC,{className:"h-6 w-6 pb-1 text-blue-500"})," "]})}),(0,r.jsx)("div",{children:(0,r.jsxs)(a(),{href:"/latest",children:[(0,r.jsx)(m.Z,{className:"h-6 w-6 pb-1 text-blue-500"})," "]})}),(0,r.jsx)("div",{children:(0,r.jsxs)(a(),{href:"/listen",children:[(0,r.jsx)(v.Z,{className:"h-6 w-6 pb-1 text-blue-500"})," "]})}),(0,r.jsx)("div",{children:(0,r.jsx)(_,{})}),e?(0,r.jsx)(a(),{href:"/u/".concat(e.id),children:(0,r.jsx)("button",{className:"border-gray-800 text-blue-500 hover:text-gray-100 focus:text-gray-100 focus:outline-none",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})},e.id):(0,r.jsx)(f,{})]})})};var T=k},56713:function(e,t,n){"use strict";var r=n(85893),i=n(9747),a=n(64208),o=n(93300),s=n(622),l=n(4108),u=n(59090),c=n(5152),d=n.n(c),h=n(67294),p=n(63750);let f=d()(()=>n.e(925).then(n.bind(n,60925)),{loadableGenerated:{webpack:()=>[60925]},loading:()=>(0,r.jsx)(i.Z,{message:"Loading collect"})}),m=e=>{var t;let{publication:n,electedMirror:i,showCount:c}=e,[d,m]=(0,h.useState)(0),[v,g]=(0,h.useState)(!1),y="Mirror"===n.__typename,b=y?null==n?void 0:null===(t=n.mirrorOf)||void 0===t?void 0:t.hasCollectedByMe:null==n?void 0:n.hasCollectedByMe;(0,h.useEffect)(()=>{var e,t,r,i,a,o;(y?null==n?void 0:null===(e=n.mirrorOf)||void 0===e?void 0:null===(t=e.stats)||void 0===t?void 0:t.totalAmountOfCollects:null==n?void 0:null===(r=n.stats)||void 0===r?void 0:r.totalAmountOfCollects)&&m("Mirror"===n.__typename?null==n?void 0:null===(i=n.mirrorOf)||void 0===i?void 0:null===(a=i.stats)||void 0===a?void 0:a.totalAmountOfCollects:null==n?void 0:null===(o=n.stats)||void 0===o?void 0:o.totalAmountOfCollects)},[n]);let w=c?"w-[17px] sm:w-[20px]":"w-[15px] sm:w-[18px]";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-1 text-red-500",children:[(0,r.jsx)(u.E.button,{whileTap:{scale:.9},onClick:()=>{g(!0)},"aria-label":"Collect",children:(0,r.jsx)("div",{className:"rounded-full p-1.5 hover:bg-red-300/20",children:(0,r.jsx)(o.u,{placement:"top",content:"".concat((0,s.Z)(d)," count, {\n                zero: 'Collect',\n                one: 'Collect',\n                other: 'Collects'\n              })}"),withDelay:!0,children:b?(0,r.jsx)(p.jDp,{className:w}):(0,r.jsx)(p.pNO,{className:w})})})}),d>0&&!c&&(0,r.jsx)("span",{className:"text-[11px] sm:text-xs",children:(0,l.Z)(d)})]}),(0,r.jsx)(a.u,{title:"Collect",icon:(0,r.jsx)(p.pNO,{className:"text-brand h-5 w-5"}),show:v,onClose:()=>g(!1),children:(0,r.jsx)(f,{electedMirror:i,publication:n,count:d,setCount:m})})]})};t.Z=m},24358:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var r=n(85893),i=n(86010),a=n(67294),o=n(20674),s=n(44318),l=n(5649),u=n(41741),c=n(64911),d=n(70769),h=n(69125),p=n(68980),f=n(66252),m=n(24604),v=n(86501),g=n(92882),y=n(31618);let b=e=>{var t,n,b,w,x;let{publication:_,setIsLoading:k,isLoading:T}=e,E="Mirror"===_.__typename,C=(0,d.p)(e=>e.userSigNonce),S=(0,d.p)(e=>e.setUserSigNonce),j=(0,g.qr)(e=>e.currentProfile),[L,P]=(0,a.useState)(E?(null==_?void 0:null===(t=_.mirrorOf)||void 0===t?void 0:null===(n=t.mirrors)||void 0===n?void 0:n.length)>0:(null==_?void 0:null===(b=_.mirrors)||void 0===b?void 0:b.length)>0),{cache:M}=(0,f.x)(),R=null==j?void 0:null===(w=j.dispatcher)||void 0===w?void 0:w.canUseRelay,I=null==j?void 0:null===(x=j.dispatcher)||void 0===x?void 0:x.sponsor,O=()=>{M.modify({id:(0,h.D)(E?null==_?void 0:_.mirrorOf:_),fields:{mirrors:e=>[...e,null==j?void 0:j.id],stats:e=>({...e,totalAmountOfMirrors:e.totalAmountOfMirrors+1})}})},A=e=>{"RelayError"!==e&&(O(),k(!1),P(!0),v.Am.success("Post has been mirrored!"))},N=e=>{k(!1)},{signTypedDataAsync:D}=(0,y.yw)({onError:N}),{write:q}=(0,y.GG)({address:l.Nm,abi:o.O,functionName:"mirror",onSuccess:()=>{A(),S(C+1)},onError:e=>{N(e),S(C-1)}}),[F]=(0,p.lAu)({onCompleted:e=>{let{broadcast:t}=e;return A(t.__typename)}}),[B]=(0,p.CyN)({onCompleted:async e=>{let{createMirrorTypedData:t}=e,{id:n,typedData:r}=t,i=await D((0,c.Z)(r)),{data:a}=await F({variables:{request:{id:n,signature:i}}});if((null==a?void 0:a.broadcast.__typename)==="RelayError")return null==q?void 0:q({args:[r.value]})},onError:N}),[U]=(0,p.VmU)({onCompleted:e=>{let{createDataAvailabilityMirrorViaDispatcher:t}=e;return A(t.__typename)},onError:N}),[H]=(0,p.NFt)({onCompleted:e=>{let{createMirrorViaDispatcher:t}=e;return A(t.__typename)},onError:N}),V=async e=>{await U({variables:{request:e}})},Z=async e=>{let{data:t}=await H({variables:{request:e}});if((null==t?void 0:t.createMirrorViaDispatcher.__typename)==="RelayError")return await B({variables:{options:{overrideSigNonce:C},request:e}})},z=async()=>{if(!j)return v.Am.error(u.D.SignWallet);if(_.isDataAvailability&&!I)return v.Am.error("Momoka is currently in beta - during this time certain actions are not available to all profiles.");try{k(!0);let e={profileId:null==j?void 0:j.id,publicationId:null==_?void 0:_.id,referenceModule:{followerOnlyReferenceModule:!1}},t={from:null==j?void 0:j.id,mirror:null==_?void 0:_.id};if(R){if(_.isDataAvailability&&I)return await V(t);return await Z(e)}return await B({variables:{options:{overrideSigNonce:C},request:e}})}catch(n){N(n)}};return(0,r.jsx)(m.v.Item,{as:"div",className:e=>{let{active:t}=e;return(0,i.Z)({"dropdown-active":t},L?"text-green-500":"","m-2 block cursor-pointer rounded-lg px-4 py-1.5 text-sm")},onClick:z,disabled:T,children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(s.Z,{className:"h-4 w-4"}),(0,r.jsx)("div",{children:L?"Unmirror":"Mirror"})]})})};var w=n(53854),x=n(96806),_=n(48113);let k=e=>{let{publication:t}=e,n="Mirror"===t.__typename,a=n?t.mirrorOf.__typename:t.__typename,o=(0,x.u)(e=>e.setShowNewModal),s=(0,_.l)(e=>e.setQuotedPublication);return(0,r.jsx)(m.v.Item,{as:"div",className:e=>{let{active:t}=e;return(0,i.Z)({"dropdown-active":t},"m-2 block cursor-pointer rounded-lg px-4 py-1.5 text-sm")},onClick:()=>{s(t),o(!0,p.mnY.Post)},children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(w.rz5,{className:"h-4 w-4"}),(0,r.jsx)("div",{children:"Comment"===a?"Quote comment":"Quote post"})]})})};var T=n(59355),E=n(33962),C=n(93300),S=n(622),j=n(91158),L=n(4108);let P=e=>{var t,n,o,l,u,c;let{publication:d,showCount:h}=e,[p,f]=(0,a.useState)(!1),v="Mirror"===d.__typename,g=v?null==d?void 0:null===(t=d.mirrorOf)||void 0===t?void 0:null===(n=t.stats)||void 0===n?void 0:n.totalAmountOfMirrors:null==d?void 0:null===(o=d.stats)||void 0===o?void 0:o.totalAmountOfMirrors,y=v?(null==d?void 0:null===(l=d.mirrorOf)||void 0===l?void 0:null===(u=l.mirrors)||void 0===u?void 0:u.length)>0:(null==d?void 0:null===(c=d.mirrors)||void 0===c?void 0:c.length)>0;return(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsxs)(m.v,{as:"div",className:"relative",children:[(0,r.jsx)(m.v.Button,{as:a.Fragment,children:(0,r.jsx)("button",{className:(0,i.Z)(y?"text-green-500":"text-brand","rounded-full  hover:bg-gray-300/20"),onClick:T.Z,"aria-label":"Mirror",children:p?(0,r.jsx)(E.$,{variant:y?"success":"primary",size:"xs",className:"mr-0.5"}):(0,r.jsx)(C.u,{placement:"top",content:g>0?"".concat((0,S.Z)(g)," Mirrors"):"Mirror",withDelay:!0,children:(0,r.jsx)(s.Z,{className:"w-[15px] sm:w-[18px] m-1 "})})})}),(0,r.jsx)(j.Z,{children:(0,r.jsxs)(m.v.Items,{className:"absolute z-[5] mt-1 w-max rounded-xl border bg-white dark:bg-gray-900/70 shadow-sm focus:outline-none dark:border-gray-700",static:!0,children:[(0,r.jsx)(b,{publication:d,setIsLoading:f,isLoading:p}),(0,r.jsx)(k,{publication:d})]})})]}),g>0&&!h&&(0,r.jsx)("span",{className:(0,i.Z)(y?"text-green-500":"text-brand","text-[11px] sm:text-xs"),children:(0,L.Z)(g)})]})};var M=P},47422:function(e,t,n){"use strict";var r=n(85893),i=n(21273),a=n(68980);n(67294);var o=n(33962),s=n(30052),l=n(22257),u=n(41664),c=n.n(u),d=n(29451),h=n(9507),p=n(5276);let f=e=>{var t,n;let{query:u}=e,f={query:u,type:a.qkC.Profile,limit:5},{data:m,loading:v,error:g,fetchMore:y}=(0,i.Fh)({variables:{request:f},skip:!u}),b=null==m?void 0:null===(t=m.search)||void 0===t?void 0:t.items,w=null==m?void 0:null===(n=m.search)||void 0===n?void 0:n.pageInfo;if((null==w?void 0:w.next)&&(null==b||b.length,w.totalCount),console.log(b),(null==b?void 0:b.length)===0)return(0,r.jsxs)("div",{children:["No profiles for ",(0,r.jsxs)("b",{children:["“",u,"”"]})]});if(g)return(0,r.jsx)("div",{children:"Failed to load profiles"});v&&(r.Fragment,o.$);let{observe:x}=(0,p.Y)({onEnter:async()=>{await y({variables:{request:{cursor:null==w?void 0:w.next,...f}}})}});return(0,r.jsxs)("div",{className:"space-y-3 rounded-xl",children:[null==b?void 0:b.map(e=>(0,r.jsx)("div",{className:"p-5",children:(0,r.jsx)(c(),{href:"/u/".concat(null==e?void 0:e.id),children:(0,r.jsxs)("div",{className:"flex cursor-pointer items-center gap-3 rounded-xl p-2 font-semibold",children:[(0,r.jsx)(s.E,{width:62,height:62,className:"cursor-pointer rounded-full",src:(0,l.Z)(e),alt:(0,d.Z)(null==e?void 0:e.handle)}),(0,r.jsx)("div",{className:" lg:block",children:(0,r.jsxs)("p",{className:"text-md flex items-center gap-1 font-bold lowercase text-primary",children:[null==e?void 0:e.name,(0,r.jsxs)("p",{className:"capitalize text-gray-400",children:[(0,d.Z)(null==e?void 0:e.handle),""]})]})})]})})},null==e?void 0:e.id)),(null==w?void 0:w.next)&&(0,r.jsx)("span",{ref:x,className:"flex justify-center border-0 p-10",children:(0,r.jsx)(h.Z,{})})]})};t.Z=f},11021:function(e,t,n){"use strict";var r=n(85893),i=n(92882),a=n(21273),o=n(68980),s=n(67294),l=n(84774),u=n(9507),c=n(5276);let d=e=>{let{query:t}=e;(0,i.qr)(e=>e.currentProfile);let[n,d]=(0,s.useState)(),[h,p]=(0,s.useState)(!1),f={query:t,type:o.qkC.Publication,limit:10},{data:m,loading:v,error:g,fetchMore:y}=(0,a.Ey)({variables:{request:f}}),b=null==m?void 0:m.search,w=null==b?void 0:b.items,x=null==b?void 0:b.pageInfo;(null==x?void 0:x.next)&&(null==w||w.length,x.totalCount);let _=e=>{let t="/".concat(e.id);d(e),history.pushState({path:t},"",t),p(!h)},{observe:k}=(0,c.Y)({onEnter:async()=>{await y({variables:{request:{cursor:null==x?void 0:x.next,...f}}})}});return(0,r.jsxs)("div",{children:[null==w?void 0:w.map(e=>(0,r.jsx)(l.Z,{publication:e,onDetail:_},null==e?void 0:e.id)),(null==x?void 0:x.next)&&(0,r.jsx)("span",{ref:k,className:"flex justify-center border-0 p-10",children:(0,r.jsx)(u.Z,{})})]})};t.Z=d},29350:function(e,t,n){"use strict";var r=n(85893),i=n(44080),a=n(92485),o=n(86010),s=n(67294);let l=e=>{let{show:t,onClose:n,children:l,title:u,panelClassName:c,autoClose:d=!0}=e;return(0,r.jsx)(i.u,{appear:!0,show:t,as:s.Fragment,children:(0,r.jsx)(a.V,{as:"div",className:"relative z-20",onClose:()=>n&&!d?null==n?void 0:n():null,children:(0,r.jsx)("div",{className:"fixed inset-0 ",children:(0,r.jsx)("div",{className:"flex h-full min-h-full items-center justify-center text-center",children:(0,r.jsx)(i.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,r.jsx)(a.V.Panel,{className:(0,o.Z)("bg-secondary h-full w-full transform text-left align-middle shadow-xl transition-all",c),children:l})})})})})})};t.Z=l},44318:function(e,t,n){"use strict";var r=n(85893);n(67294);let i=e=>(0,r.jsx)("svg",{...e,viewBox:"0 0 22 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.93077 9.2003C2.00244 4.23968 6.07619 0.25 11.0789 0.25C14.3873 0.25 17.287 1.99427 18.8934 4.60721C19.1103 4.96007 19.0001 5.42199 18.6473 5.63892C18.2944 5.85585 17.8325 5.74565 17.6156 5.39279C16.2727 3.20845 13.8484 1.75 11.0789 1.75C6.8945 1.75 3.50372 5.0777 3.431 9.19817L3.83138 8.80092C4.12542 8.50918 4.60029 8.51105 4.89203 8.80509C5.18377 9.09913 5.18191 9.574 4.88787 9.86574L3.20805 11.5324C2.91565 11.8225 2.44398 11.8225 2.15157 11.5324L0.471757 9.86574C0.177716 9.574 0.17585 9.09913 0.467591 8.80509C0.759331 8.51105 1.2342 8.50918 1.52824 8.80092L1.93077 9.2003ZM18.7864 8.46658C19.0786 8.17781 19.5487 8.17781 19.8409 8.46658L21.5271 10.1333C21.8217 10.4244 21.8245 10.8993 21.5333 11.1939C21.2421 11.4885 20.7673 11.4913 20.4727 11.2001L20.0628 10.7949C19.9934 15.7604 15.9017 19.75 10.8825 19.75C7.56379 19.75 4.65381 18.007 3.0412 15.3939C2.82366 15.0414 2.93307 14.5793 3.28557 14.3618C3.63806 14.1442 4.10016 14.2536 4.31769 14.6061C5.6656 16.7903 8.09999 18.25 10.8825 18.25C15.0887 18.25 18.4922 14.9171 18.5625 10.7969L18.1546 11.2001C17.86 11.4913 17.3852 11.4885 17.094 11.1939C16.8028 10.8993 16.8056 10.4244 17.1002 10.1333L18.7864 8.46658Z",fill:"currentColor"})});t.Z=i},91158:function(e,t,n){"use strict";var r=n(85893),i=n(44080),a=n(67294);let o=e=>{let{children:t,show:n}=e;return(0,r.jsx)(i.u,{as:a.Fragment,show:n,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:t})};t.Z=o},622:function(e,t){"use strict";let n=e=>null==e?void 0:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");t.Z=n},4108:function(e,t,n){"use strict";var r=n(622);t.Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].reverse().find(function(t){return e>=t.value});return n?e<1e4?(0,r.Z)(e):(e/n.value).toFixed(t).replace(/\.0+$|(\.\d*[1-9])0+$/,"$1")+n.symbol:"0"}},9187:function(e,t,n){"use strict";var r=n(86501),i=n(5649);let a=e=>{var t,n,a;r.ZP.error(null!==(a=null!==(n=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message)&&void 0!==n?n:null==e?void 0:e.message)&&void 0!==a?a:i.c9)};t.Z=a},4242:function(e,t,n){"use strict";var r=n(93445);let i=e=>r.N(e);t.Z=i},91565:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var r=n(85893),i=n(11163),a=n(67294),o=n(47422),s=n(86501),l=n(92882),u=n(41664),c=n.n(u),d=n(8193),h=n(53990);let p=()=>{(0,l.qr)(e=>e.currentProfile);let[e,t]=(0,a.useState)(!0),{query:n}=(0,i.useRouter)(),o="flex items-center gap-3 hover:bg-primary p-3 justify-center lg:justify-start curser-pointer font-semibold text-[#57B8FF] rounded";return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"m-2 ml-4 mt-3 block text-xl lg:hidden",onClick:()=>t(!e),children:e?(0,r.jsx)(h.ZCS,{}):(0,r.jsx)(d.qTj,{})}),e&&(0,r.jsx)("div",{className:"w-100 mb-10 flex flex-col justify-start border-r-2 border-gray-100 p-3 lg:w-400 xl:border-0",children:(0,r.jsxs)("div",{className:"border-gray-200 lg:border-b-2 xl:pb-4",children:[(0,r.jsx)(c(),{href:"/search?q=".concat(n.q,"&type=profiles"),children:(0,r.jsx)("div",{className:o,children:(0,r.jsx)("a",{className:"text-md cursor-pointer lg:block",children:"Profiles"})})}),(0,r.jsx)(c(),{href:"/search?q=".concat(n.q,"&type=pubs"),children:(0,r.jsx)("div",{className:o,children:(0,r.jsx)("a",{className:"text-md cursor-pointer text-[#000000] lg:block",children:"Publications"})})})]})})]})};var f=n(11021),m=n(36595);let v=()=>{let{query:e}=(0,i.useRouter)();return e.q&&["pubs","profiles"].includes(e.type)?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"m-auto h-[100vh] overflow-hidden lg:w-[1100px] xl:w-[1200px]",children:[(0,r.jsx)(s.x7,{position:"bottom-right"}),(0,r.jsxs)("div",{className:"videos mt-2 flex h-[88vh] flex-1 flex-col gap-10 overflow-auto overflow-x-hidden",children:[(0,r.jsx)("div",{className:"flex flex-row gap-4",children:(0,r.jsx)(p,{})}),"profiles"===e.type&&(0,r.jsx)(o.Z,{query:e.q}),"pubs"===e.type&&(0,r.jsx)(f.Z,{query:e.q})]})]}),(0,r.jsx)(m.Z,{})]}):(0,r.jsx)("p",{children:"Error"})};var g=v},97125:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(73445);let i=(0,r.Ue)(e=>({showPublicationDeleteAlert:!1,deletingPublication:null,forceDeletePublication:!1,setShowPublicationDeleteAlert:(t,n)=>e(()=>({showPublicationDeleteAlert:t,deletingPublication:n})),showModActionAlert:!1,modingPublication:null,setShowModActionAlert:(t,n)=>e(()=>({showModActionAlert:t,modingPublication:n}))}))},10116:function(e,t,n){"use strict";n.d(t,{N:function(){return c},G:function(){return u}});let r=e=>{let t=[...Array.from(new Map(e.map(e=>[e.id,e])).values())];return t.sort((e,t)=>{var n,r,i,a;return(null!==(i=null===(n=t.sent)||void 0===n?void 0:n.getTime())&&void 0!==i?i:0)-(null!==(a=null===(r=e.sent)||void 0===r?void 0:r.getTime())&&void 0!==a?a:0)}),null!=t?t:[]};var i=n(1257),a=n(73445),o=n(782),s=n(45341),l=n(5649);let u=(0,a.Ue)(e=>({client:void 0,setClient:t=>e(()=>({client:t})),conversations:new Map,setConversations:t=>e(()=>({conversations:t})),addConversation:(t,n)=>{e(e=>{let r=new Map(e.conversations);return r.set(t,n),{conversations:r}})},chatProvider:l.N5.PUSH,setChatProvider:t=>e(()=>({chatProvider:t})),queuedMessages:new Map,addQueuedMessage:(t,n)=>{e(e=>{let r=new Map(e.queuedMessages),i=e.queuedMessages.get(t)||[],a=[...i,n];return a.sort((e,t)=>t.sent.getTime()-e.sent.getTime()),r.set(t,a),{queuedMessages:r}})},removeQueuedMessage:(t,n)=>{e(e=>{let r=new Map(e.queuedMessages),i=e.queuedMessages.get(t)||[],a=i.filter(e=>e.id!==n);return r.set(t,a),{queuedMessages:r}})},updateQueuedMessage:(t,n,r)=>{e(e=>{let i=new Map(e.queuedMessages),a=e.queuedMessages.get(t)||[],o=a.filter(e=>e.id!==n);return a.length!==o.length?(o.push(r),o.sort((e,t)=>t.sent.getTime()-e.sent.getTime()),i.set(t,o),{queuedMessages:i}):{queuedMessages:e.queuedMessages}})},messages:new Map,addMessages:(t,n)=>{let i=0;return e(e=>{let a=new Map(e.messages),o=e.messages.get(t)||[],s=r([...o,...n]);return(i=s.length-o.length)?(a.set(t,s),{messages:a}):{messages:e.messages}}),i},hasSyncedMessages:!1,setHasSyncedMessages:t=>e(()=>({hasSyncedMessages:t})),previewMessages:new Map,setPreviewMessages:t=>e(()=>({previewMessages:t})),ensNames:new Map,setEnsNames:t=>e(()=>({ensNames:t})),previewMessagesNonLens:new Map,setPreviewMessagesNonLens:t=>e(()=>({previewMessagesNonLens:t})),selectedProfileId:"",setSelectedProfileId:t=>e(()=>({selectedProfileId:t})),selectedTab:"All",setSelectedTab:t=>e(()=>({selectedTab:t})),syncedProfiles:new Set,addSyncedProfiles:t=>e(e=>{let{syncedProfiles:n}=e;return{syncedProfiles:new Set([...n,...t])}}),unsyncProfile:t=>e(e=>{let{syncedProfiles:n}=e;return{syncedProfiles:new Set([...n].filter(e=>e!==t))}}),reset:()=>e(e=>({...e,conversations:new Map,messages:new Map,messageProfiles:new Map,previewMessages:new Map,selectedTab:"All",previewMessagesNonLens:new Map,ensNames:new Map}))})),c=(0,a.Ue)((0,o.tJ)(e=>({viewedMessagesAtNs:new Map,showMessagesBadge:new Map,setShowMessagesBadge:t=>e(()=>({showMessagesBadge:t})),clearMessagesBadge:t=>{e(e=>{let n=new Map(e.viewedMessagesAtNs);if(n.set(t,(0,i.$)(new Date)),!e.showMessagesBadge.get(t))return{viewedMessagesAtNs:n};let r=new Map(e.showMessagesBadge);return r.set(t,!1),{viewedMessagesAtNs:n,showMessagesBadge:r}})},unsentMessages:new Map,setUnsentMessage:(t,n)=>e(e=>{let r=new Map(e.unsentMessages);return n?r.set(t,n):r.delete(t),{unsentMessages:r}}),setUnsentMessages:t=>e(()=>({unsentMessages:t}))}),{name:s.d.MessageStore,storage:{setItem(e,t){let n=JSON.stringify({...t,state:{...t.state,viewedMessagesAtNs:Array.from(t.state.viewedMessagesAtNs),showMessagesBadge:Array.from(t.state.showMessagesBadge),unsentMessages:Array.from(t.state.unsentMessages)}});localStorage.setItem(e,n)},getItem:e=>{let t=localStorage.getItem(e);if(!t)return null;let n=JSON.parse(t);return n.state.viewedMessagesAtNs=new Map(n.state.viewedMessagesAtNs),n.state.showMessagesBadge=new Map(n.state.showMessagesBadge),n.state.unsentMessages=new Map(n.state.unsentMessages),n},removeItem(e){localStorage.removeItem(e)}}}))},14382:function(e,t,n){"use strict";n.d(t,{T:function(){return g}});var r=n(45341),i=n(5649),a=n(1257),o=n(67294),s=n(92882),l=n(10116),u=n(88559),c=n(52942),d=n(48764).Buffer;let h="binary",p=e=>"xmtp:".concat(i.Jy,":keys:").concat(e),f=e=>{let t=localStorage.getItem(p(e));return t?d.from(t,h):null},m=(e,t)=>{localStorage.setItem(p(e),d.from(t).toString(h))},v=e=>{localStorage.removeItem(p(e))},g=()=>{let{data:e}=(0,c.Z)(),t=(0,l.G)(e=>e.client),n=(0,l.G)(e=>e.setClient),i=(0,o.useCallback)(async()=>{e&&v(await e.getAddress()),t&&n(void 0),localStorage.removeItem(r.d.MessageStore),localStorage.removeItem(r.d.AttachmentCache),localStorage.removeItem(r.d.AttachmentStore)},[e,t]);return i};t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,s.qr)(e=>e.currentProfile),n=(0,l.G)(e=>e.client),r=(0,l.G)(e=>e.setClient),[d,h]=(0,o.useState)(),{data:p,isLoading:v}=(0,c.Z)();return(0,o.useEffect)(()=>{let o=async()=>{if(p&&!n&&t){let o=f(await p.getAddress());if(!o){if(e)return;h(!0),o=await a.KU.getKeys(p,{env:i.Jy,appVersion:i.iC+"/"+i.Ji,persistConversations:!1,skipContactPublishing:!0}),m(await p.getAddress(),o)}let s=await a.KU.create(null,{env:i.Jy,appVersion:i.iC+"/"+i.Ji,privateKeyOverride:o,persistConversations:!0});s.registerCodec(new u.AttachmentCodec),s.registerCodec(new u.RemoteAttachmentCodec),r(s),h(!1)}else h(!1)};o(),p&&t||r(void 0)},[t]),{client:n,loading:v||d}}},13250:function(e,t,n){"use strict";var r=n(86501),i=n(50319),a=n(68980);let o=e=>{let{onCompleted:t,update:n}=e,o={notMined:"A previous transaction may not been mined yet or you have passed in a invalid nonce. You must wait for that to be mined before doing another action, please try again in a few moments. Nonce out of sync."},[s,{data:l,loading:u}]=function(e){let t={...e};return i.D(a.VPH,t)}({onCompleted:t,update:n,onError:e=>{e.message===o.notMined&&r.ZP.error(e.message)}});return{broadcast:e=>{let{request:t}=e;return s({variables:{request:t}})},data:l,loading:u}};t.Z=o},44753:function(){},73372:function(){},23106:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(85893),i=n(67294),a=n(21443),o=n.n(a),s=n(45697),l=n.n(s);let u=(e,t)=>{let n=new(o())(".plyr-react",t.options||{});return t.source&&(n.source=t.source),n},c=e=>{e&&e.destroy()},d=()=>{},h=e=>e?()=>({plyr:e}):()=>new Proxy({plyr:{source:null}},{get:(e,t)=>"plyr"===t?e[t]:d}),p=i.forwardRef((e,t)=>{let{source:n,options:a=null,...o}=e,s=function(e,t,n=null){return function(e,t,n=[]){let[r,a]=(0,i.useState)(null),o=(0,i.useRef)(null),{instantiate:s,destroy:l,getAPI:u,params:c}=t;(0,i.useEffect)(()=>{let e=s(o.current,c);return a(e),()=>{l&&l(e,c)}},n);let d=(0,i.useMemo)(()=>u(r,c),[r]);return(0,i.useImperativeHandle)(e,d,[d]),o}(e,{instantiate:u,getAPI:h,destroy:c,params:t},n||[t.options,t.source])}(t,{source:n,options:a});return(0,r.jsx)("video",{ref:s,className:"plyr-react plyr",...o})});p.displayName="Plyr",p.defaultProps={options:{controls:["rewind","play","fast-forward","progress","current-time","duration","mute","volume","settings","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop"}},source:{type:"video",sources:[{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:720},{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:1080}]}},p.propTypes={options:l().object,source:l().any}},21443:function(e,t,n){"object"==typeof navigator&&(e.exports=function(){"use strict";function e(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){var r,i;r=e,i=n[t],t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var a,o,s,l={addCSS:!0,thumbWidth:15,watch:!0},u=function(e){return null!=e?e.constructor:null},c=function(e,t){return!!(e&&t&&e instanceof t)},d=function(e){return null==e},h=function(e){return u(e)===Object},p=function(e){return u(e)===String},f=function(e){return Array.isArray(e)},m=function(e){return c(e,NodeList)},v={nullOrUndefined:d,object:h,number:function(e){return u(e)===Number&&!Number.isNaN(e)},string:p,boolean:function(e){return u(e)===Boolean},function:function(e){return u(e)===Function},array:f,nodeList:m,element:function(e){return c(e,Element)},event:function(e){return c(e,Event)},empty:function(e){return d(e)||(p(e)||f(e)||m(e))&&!e.length||h(e)&&!Object.keys(e).length}},g=function(){var e,n;function r(e,t){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,r),v.element(e)?this.element=e:v.string(e)&&(this.element=document.querySelector(e)),v.element(this.element)&&v.empty(this.element.rangeTouch)&&(this.config=i({},l,{},t),this.init())}return e=[{key:"init",value:function(){r.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){r.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,n=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(e){t.element[n](e,function(e){return t.set(e)},!1)})}},{key:"get",value:function(e){if(!r.enabled||!v.event(e))return null;var t,n=e.target,i=e.changedTouches[0],a=parseFloat(n.getAttribute("min"))||0,o=parseFloat(n.getAttribute("max"))||100,s=parseFloat(n.getAttribute("step"))||1,l=n.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return 0>(t=100/l.width*(i.clientX-l.left))?t=0:100<t&&(t=100),50>t?t-=(100-2*t)*u:50<t&&(t+=2*(t-50)*u),a+function(e,t){if(1>t){var n,r=(n="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(n[1]?n[1].length:0)-(n[2]?+n[2]:0)):0;return parseFloat(e.toFixed(r))}return Math.round(e/t)*t}(t/100*(o-a),s)}},{key:"set",value:function(e){r.enabled&&v.event(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}(e.target,"touchend"===e.type?"change":"input"))}}],n=[{key:"setup",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=null;if(v.empty(e)||v.string(e)?n=Array.from(document.querySelectorAll(v.string(e)?e:'input[type="range"]')):v.element(e)?n=[e]:v.nodeList(e)?n=Array.from(e):v.array(e)&&(n=e.filter(v.element)),v.empty(n))return null;var a=i({},l,{},t);return v.string(e)&&a.watch&&new MutationObserver(function(t){Array.from(t).forEach(function(t){Array.from(t.addedNodes).forEach(function(t){var n;v.element(t)&&(function(){return Array.from(document.querySelectorAll(n)).includes(this)}).call(t,n=e)&&new r(t,a)})})}).observe(document.body,{childList:!0,subtree:!0}),n.map(function(e){return new r(e,t)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}],e&&t(r.prototype,e),n&&t(r,n),r}();let y=e=>null!=e?e.constructor:null,b=(e,t)=>Boolean(e&&t&&e instanceof t),w=e=>null==e,x=e=>y(e)===Object,_=e=>y(e)===String,k=e=>"function"==typeof e,T=e=>Array.isArray(e),E=e=>b(e,NodeList),C=e=>w(e)||(_(e)||T(e)||E(e))&&!e.length||x(e)&&!Object.keys(e).length;var S={nullOrUndefined:w,object:x,number:e=>y(e)===Number&&!Number.isNaN(e),string:_,boolean:e=>y(e)===Boolean,function:k,array:T,weakMap:e=>b(e,WeakMap),nodeList:E,element:e=>null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument,textNode:e=>y(e)===Text,event:e=>b(e,Event),keyboardEvent:e=>b(e,KeyboardEvent),cue:e=>b(e,window.TextTrackCue)||b(e,window.VTTCue),track:e=>b(e,TextTrack)||!w(e)&&_(e.kind),promise:e=>b(e,Promise)&&k(e.then),url:e=>{if(b(e,window.URL))return!0;if(!_(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!C(new URL(t).hostname)}catch(n){return!1}},empty:C};let j=(()=>{let e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n=Object.keys(t).find(t=>void 0!==e.style[t]);return!!S.string(n)&&t[n]})();function L(e,t){setTimeout(()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(t){}},t)}var P={isIE:Boolean(window.document.documentMode),isEdge:/Edge/g.test(navigator.userAgent),isWebKit:"WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),isIPhone:/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,isIPadOS:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,isIos:/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1};function M(e,t){return t.split(".").reduce((e,t)=>e&&e[t],e)}function R(e={},...t){if(!t.length)return e;let n=t.shift();return S.object(n)?(Object.keys(n).forEach(t=>{S.object(n[t])?(Object.keys(e).includes(t)||Object.assign(e,{[t]:{}}),R(e[t],n[t])):Object.assign(e,{[t]:n[t]})}),R(e,...t)):e}function I(e,t){let n=e.length?e:[e];Array.from(n).reverse().forEach((e,n)=>{let r=n>0?t.cloneNode(!0):t,i=e.parentNode,a=e.nextSibling;r.appendChild(e),a?i.insertBefore(r,a):i.appendChild(r)})}function O(e,t){S.element(e)&&!S.empty(t)&&Object.entries(t).filter(([,e])=>!S.nullOrUndefined(e)).forEach(([t,n])=>e.setAttribute(t,n))}function A(e,t,n){let r=document.createElement(e);return S.object(t)&&O(r,t),S.string(n)&&(r.innerText=n),r}function N(e,t,n,r){S.element(t)&&t.appendChild(A(e,n,r))}function D(e){S.nodeList(e)||S.array(e)?Array.from(e).forEach(D):S.element(e)&&S.element(e.parentNode)&&e.parentNode.removeChild(e)}function q(e){if(!S.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function F(e,t){return S.element(t)&&S.element(t.parentNode)&&S.element(e)?(t.parentNode.replaceChild(e,t),e):null}function B(e,t){if(!S.string(e)||S.empty(e))return{};let n={},r=R({},t);return e.split(",").forEach(e=>{let t=e.trim(),i=t.replace(".",""),a=t.replace(/[[\]]/g,"").split("="),[o]=a,s=a.length>1?a[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":S.string(r.class)?n.class=`${r.class} ${i}`:n.class=i;break;case"#":n.id=t.replace("#","");break;case"[":n[o]=s}}),R(r,n)}function U(e,t){if(!S.element(e))return;let n=t;S.boolean(n)||(n=!e.hidden),e.hidden=n}function H(e,t,n){if(S.nodeList(e))return Array.from(e).map(e=>H(e,t,n));if(S.element(e)){let r="toggle";return void 0!==n&&(r=n?"add":"remove"),e.classList[r](t),e.classList.contains(t)}return!1}function V(e,t){return S.element(e)&&e.classList.contains(t)}function Z(e,t){let{prototype:n}=Element;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function z(e){return this.elements.container.querySelectorAll(e)}function $(e){return this.elements.container.querySelector(e)}function W(e=null,t=!1){S.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}let Q={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},G={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){let n=G[e]||"html5"!==t;return{api:n,ui:n&&G.rangeInput}},pip:!(P.isIPhone||!S.function(A("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||A("video").disablePictureInPicture)),airplay:S.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(S.empty(e))return!1;let[t]=e.split("/"),n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(Q).includes(n)&&(n+=`; codecs="${Q[e]}"`);try{return Boolean(n&&this.media.canPlayType(n).replace(/no/,""))}catch(r){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{let e=document.createElement("input");return e.type="range","range"===e.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==j,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},K=(()=>{let e=!1;try{let t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){}return e})();function J(e,t,n,r=!1,i=!0,a=!1){if(!e||!("addEventListener"in e)||S.empty(t)||!S.function(n))return;let o=t.split(" "),s=a;K&&(s={passive:i,capture:a}),o.forEach(t=>{this&&this.eventListeners&&r&&this.eventListeners.push({element:e,type:t,callback:n,options:s}),e[r?"addEventListener":"removeEventListener"](t,n,s)})}function Y(e,t="",n,r=!0,i=!1){J.call(this,e,t,n,!0,r,i)}function X(e,t="",n,r=!0,i=!1){J.call(this,e,t,n,!1,r,i)}function ee(e,t="",n,r=!0,i=!1){let a=(...o)=>{X(e,t,a,r,i),n.apply(this,o)};J.call(this,e,t,a,!0,r,i)}function et(e,t="",n=!1,r={}){if(!S.element(e)||S.empty(t))return;let i=new CustomEvent(t,{bubbles:n,detail:{...r,plyr:this}});e.dispatchEvent(i)}function en(){this&&this.eventListeners&&(this.eventListeners.forEach(e=>{let{element:t,type:n,callback:r,options:i}=e;t.removeEventListener(n,r,i)}),this.eventListeners=[])}function er(){return new Promise(e=>this.ready?setTimeout(e,0):Y.call(this,this.elements.container,"ready",e)).then(()=>{})}function ei(e){S.promise(e)&&e.then(null,()=>{})}function ea(e){return S.array(e)?e.filter((t,n)=>e.indexOf(t)===n):e}function eo(e,t){return S.array(e)&&e.length?e.reduce((e,n)=>Math.abs(n-t)<Math.abs(e-t)?n:e):null}function es(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}let el=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((e,[t,n])=>({...e,[t/n]:[t,n]}),{});function eu(e){return!!(S.array(e)||S.string(e)&&e.includes(":"))&&(S.array(e)?e:e.split(":")).map(Number).every(S.number)}function ec(e){if(!S.array(e)||!e.every(S.number))return null;let[t,n]=e,r=(e,t)=>0===t?e:r(t,e%t),i=r(t,n);return[t/i,n/i]}function ed(e){let t=e=>eu(e)?e.split(":").map(Number):null,n=t(e);if(null===n&&(n=t(this.config.ratio)),null===n&&!S.empty(this.embed)&&S.array(this.embed.ratio)&&({ratio:n}=this.embed),null===n&&this.isHTML5){let{videoWidth:r,videoHeight:i}=this.media;n=[r,i]}return ec(n)}function eh(e){if(!this.isVideo)return{};let{wrapper:t}=this.elements,n=ed.call(this,e);if(!S.array(n))return{};let[r,i]=ec(n),a=100/r*i;if(es(`aspect-ratio: ${r}/${i}`)?t.style.aspectRatio=`${r}/${i}`:t.style.paddingBottom=`${a}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){let o=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${(o-a)/(o/50)}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:a,ratio:n}}function ep(e,t,n=.05){let r=e/t,i=eo(Object.keys(el),r);return Math.abs(i-r)<=n?el[i]:[e,t]}let ef={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(e=>{let t=e.getAttribute("type");return!!S.empty(t)||G.mime.call(this,t)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:ef.getSources.call(this).map(e=>Number(e.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;let e=this;e.options.speed=e.config.speed.options,S.empty(this.config.ratio)||eh.call(e),Object.defineProperty(e.media,"quality",{get(){let t=ef.getSources.call(e).find(t=>t.getAttribute("src")===e.source);return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&S.function(e.config.quality.onChange))e.config.quality.onChange(t);else{let n=ef.getSources.call(e).find(e=>Number(e.getAttribute("size"))===t);if(!n)return;let{currentTime:r,paused:i,preload:a,readyState:o,playbackRate:s}=e.media;e.media.src=n.getAttribute("src"),("none"!==a||o)&&(e.once("loadedmetadata",()=>{e.speed=s,e.currentTime=r,i||ei(e.play())}),e.media.load())}et.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(D(ef.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function em(e,...t){return S.empty(e)?e:e.toString().replace(/{(\d+)}/g,(e,n)=>t[n].toString())}let ev=(e="",t="",n="")=>e.replace(RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString()),eg=(e="")=>e.toString().replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase());function ey(e){let t=document.createElement("div");return t.appendChild(e),t.innerHTML}let eb={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},ew={get(e="",t={}){if(S.empty(e)||S.empty(t))return"";let n=M(t.i18n,e);if(S.empty(n))return Object.keys(eb).includes(e)?eb[e]:"";let r={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(r).forEach(([e,t])=>{n=ev(n,e,t)}),n}};class ex{constructor(t){e(this,"get",e=>{if(!ex.supported||!this.enabled)return null;let t=window.localStorage.getItem(this.key);if(S.empty(t))return null;let n=JSON.parse(t);return S.string(e)&&e.length?n[e]:n}),e(this,"set",e=>{if(!ex.supported||!this.enabled||!S.object(e))return;let t=this.get();S.empty(t)&&(t={}),R(t,e);try{window.localStorage.setItem(this.key,JSON.stringify(t))}catch(n){}}),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;let e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(t){return!1}}}function e_(e,t="text"){return new Promise((n,r)=>{try{let i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",()=>{if("text"===t)try{n(JSON.parse(i.responseText))}catch(e){n(i.responseText)}else n(i.response)}),i.addEventListener("error",()=>{throw Error(i.status)}),i.open("GET",e,!0),i.responseType=t,i.send()}catch(a){r(a)}})}function ek(e,t){if(!S.string(e))return;let n="cache",r=S.string(t),i=()=>null!==document.getElementById(t),a=(e,t)=>{e.innerHTML=t,r&&i()||document.body.insertAdjacentElement("afterbegin",e)};if(!r||!i()){let o=ex.supported,s=document.createElement("div");if(s.setAttribute("hidden",""),r&&s.setAttribute("id",t),o){let l=window.localStorage.getItem(`${n}-${t}`);if(null!==l){let u=JSON.parse(l);a(s,u.content)}}e_(e).then(e=>{if(!S.empty(e)){if(o)try{window.localStorage.setItem(`${n}-${t}`,JSON.stringify({content:e}))}catch(r){}a(s,e)}}).catch(()=>{})}}let eT=e=>Math.trunc(e/60/60%60,10),eE=e=>Math.trunc(e/60%60,10),eC=e=>Math.trunc(e%60,10);function eS(e=0,t=!1,n=!1){if(!S.number(e))return eS(void 0,t,n);let r=e=>`0${e}`.slice(-2),i=eT(e),a=eE(e),o=eC(e);return`${n&&e>0?"-":""}${i=t||i>0?`${i}:`:""}${r(a)}:${r(o)}`}let ej={getIconUrl(){let e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,n=e.host!==t||P.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:n}},findElements(){try{return this.elements.controls=$.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:z.call(this,this.config.selectors.buttons.play),pause:$.call(this,this.config.selectors.buttons.pause),restart:$.call(this,this.config.selectors.buttons.restart),rewind:$.call(this,this.config.selectors.buttons.rewind),fastForward:$.call(this,this.config.selectors.buttons.fastForward),mute:$.call(this,this.config.selectors.buttons.mute),pip:$.call(this,this.config.selectors.buttons.pip),airplay:$.call(this,this.config.selectors.buttons.airplay),settings:$.call(this,this.config.selectors.buttons.settings),captions:$.call(this,this.config.selectors.buttons.captions),fullscreen:$.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=$.call(this,this.config.selectors.progress),this.elements.inputs={seek:$.call(this,this.config.selectors.inputs.seek),volume:$.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:$.call(this,this.config.selectors.display.buffer),currentTime:$.call(this,this.config.selectors.display.currentTime),duration:$.call(this,this.config.selectors.display.duration)},S.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){let n="http://www.w3.org/2000/svg",r=ej.getIconUrl.call(this),i=`${r.cors?"":r.url}#${this.config.iconPrefix}`,a=document.createElementNS(n,"svg");O(a,R(t,{"aria-hidden":"true",focusable:"false"}));let o=document.createElementNS(n,"use"),s=`${i}-${e}`;return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",s),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),a.appendChild(o),a},createLabel(e,t={}){let n=ew.get(e,this.config);return A("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},n)},createBadge(e){if(S.empty(e))return null;let t=A("span",{class:this.config.classNames.menu.value});return t.appendChild(A("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){let n=R({},t),r=function(e=""){let t=e.toString();return(t=function(e=""){let t=e.toString();return t=ev(t,"-"," "),t=eg(t=ev(t,"_"," ")),ev(t," ","")}(t)).charAt(0).toLowerCase()+t.slice(1)}(e),i={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(e=>{Object.keys(n).includes(e)&&(i[e]=n[e],delete n[e])}),"button"!==i.element||Object.keys(n).includes("type")||(n.type="button"),Object.keys(n).includes("class")?n.class.split(" ").some(e=>e===this.config.classNames.control)||R(n,{class:`${n.class} ${this.config.classNames.control}`}):n.class=this.config.classNames.control,e){case"play":i.toggle=!0,i.label="play",i.labelPressed="pause",i.icon="play",i.iconPressed="pause";break;case"mute":i.toggle=!0,i.label="mute",i.labelPressed="unmute",i.icon="volume",i.iconPressed="muted";break;case"captions":i.toggle=!0,i.label="enableCaptions",i.labelPressed="disableCaptions",i.icon="captions-off",i.iconPressed="captions-on";break;case"fullscreen":i.toggle=!0,i.label="enterFullscreen",i.labelPressed="exitFullscreen",i.icon="enter-fullscreen",i.iconPressed="exit-fullscreen";break;case"play-large":n.class+=` ${this.config.classNames.control}--overlaid`,r="play",i.label="play",i.icon="play";break;default:S.empty(i.label)&&(i.label=r),S.empty(i.icon)&&(i.icon=e)}let a=A(i.element);return i.toggle?(a.appendChild(ej.createIcon.call(this,i.iconPressed,{class:"icon--pressed"})),a.appendChild(ej.createIcon.call(this,i.icon,{class:"icon--not-pressed"})),a.appendChild(ej.createLabel.call(this,i.labelPressed,{class:"label--pressed"})),a.appendChild(ej.createLabel.call(this,i.label,{class:"label--not-pressed"}))):(a.appendChild(ej.createIcon.call(this,i.icon)),a.appendChild(ej.createLabel.call(this,i.label))),R(n,B(this.config.selectors.buttons[r],n)),O(a,n),"play"===r?(S.array(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(a)):this.elements.buttons[r]=a,a},createRange(e,t){let n=A("input",R(B(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":ew.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,ej.updateRangeFill.call(this,n),g.setup(n),n},createProgress(e,t){let n=A("progress",R(B(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){n.appendChild(A("span",null,"0"));let r={played:"played",buffer:"buffered"}[e],i=r?ew.get(r,this.config):"";n.innerText=`% ${i.toLowerCase()}`}return this.elements.display[e]=n,n},createTime(e,t){let n=B(this.config.selectors.display[e],t),r=A("div",R(n,{class:`${n.class?n.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":ew.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=r,r},bindMenuItemShortcuts(e,t){Y.call(this,e,"keydown keyup",n=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(n.key)||(n.preventDefault(),n.stopPropagation(),"keydown"===n.type))return;let r=Z(e,'[role="menuitemradio"]');if(!r&&[" ","ArrowRight"].includes(n.key))ej.showMenuPanel.call(this,t,!0);else{let i;" "!==n.key&&("ArrowDown"===n.key||r&&"ArrowRight"===n.key?(i=e.nextElementSibling,S.element(i)||(i=e.parentNode.firstElementChild)):(i=e.previousElementSibling,S.element(i)||(i=e.parentNode.lastElementChild)),W.call(this,i,!0))}},!1),Y.call(this,e,"keyup",e=>{"Return"===e.key&&ej.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:e,list:t,type:n,title:r,badge:i=null,checked:a=!1}){let o=B(this.config.selectors.inputs[n]),s=A("button",R(o,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${o.class?o.class:""}`.trim(),"aria-checked":a,value:e})),l=A("span");l.innerHTML=r,S.element(i)&&l.appendChild(i),s.appendChild(l),Object.defineProperty(s,"checked",{enumerable:!0,get:()=>"true"===s.getAttribute("aria-checked"),set(e){e&&Array.from(s.parentNode.children).filter(e=>Z(e,'[role="menuitemradio"]')).forEach(e=>e.setAttribute("aria-checked","false")),s.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(s,"click keyup",t=>{if(!S.keyboardEvent(t)||" "===t.key){switch(t.preventDefault(),t.stopPropagation(),s.checked=!0,n){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}ej.showMenuPanel.call(this,"home",S.keyboardEvent(t))}},n,!1),ej.bindMenuItemShortcuts.call(this,s,n),t.appendChild(s)},formatTime(e=0,t=!1){return S.number(e)?eS(e,eT(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,n=!1){S.element(e)&&S.number(t)&&(e.innerText=ej.formatTime(t,n))},updateVolume(){this.supported.ui&&(S.element(this.elements.inputs.volume)&&ej.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),S.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(e,t=0){S.element(e)&&(e.value=t,ej.updateRangeFill.call(this,e))},updateProgress(e){var t,n;if(!this.supported.ui||!S.event(e))return;let r=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=this.currentTime,n=this.duration,r=0===t||0===n||Number.isNaN(t)||Number.isNaN(n)?0:(t/n*100).toFixed(2),"timeupdate"===e.type&&ej.setRange.call(this,this.elements.inputs.seek,r);break;case"playing":case"progress":((e,t)=>{let n=S.number(t)?t:0,r=S.element(e)?e:this.elements.display.buffer;if(S.element(r)){r.value=n;let i=r.getElementsByTagName("span")[0];S.element(i)&&(i.childNodes[0].nodeValue=n)}})(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){let t=S.event(e)?e.target:e;if(S.element(t)&&"range"===t.getAttribute("type")){if(Z(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);let n=ej.formatTime(this.currentTime),r=ej.formatTime(this.duration),i=ew.get("seekLabel",this.config);t.setAttribute("aria-valuetext",i.replace("{currentTime}",n).replace("{duration}",r))}else if(Z(t,this.config.selectors.inputs.volume)){let a=100*t.value;t.setAttribute("aria-valuenow",a),t.setAttribute("aria-valuetext",`${a.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(P.isWebKit||P.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,n;if(!this.config.tooltips.seek||!S.element(this.elements.inputs.seek)||!S.element(this.elements.display.seekTooltip)||0===this.duration)return;let r=this.elements.display.seekTooltip,i=`${this.config.classNames.tooltip}--visible`,a=e=>H(r,i,e);if(this.touch)return void a(!1);let o=0,s=this.elements.progress.getBoundingClientRect();if(S.event(e))o=100/s.width*(e.pageX-s.left);else{if(!V(r,i))return;o=parseFloat(r.style.left,10)}o<0?o=0:o>100&&(o=100);let l=this.duration/100*o;r.innerText=ej.formatTime(l);let u=null===(t=this.config.markers)||void 0===t||null===(n=t.points)||void 0===n?void 0:n.find(({time:e})=>e===Math.round(l));u&&r.insertAdjacentHTML("afterbegin",`${u.label}<br>`),r.style.left=`${o}%`,S.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&a("mouseenter"===e.type)},timeUpdate(e){let t=!S.element(this.elements.display.duration)&&this.config.invertTime;ej.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||ej.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=4294967296)return U(this.elements.display.currentTime,!0),void U(this.elements.progress,!0);S.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);let e=S.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&ej.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&ej.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&ej.setMarkers.call(this),ej.updateSeekTooltip.call(this)},toggleMenuButton(e,t){U(this.elements.settings.buttons[e],!t)},updateSetting(e,t,n){let r=this.elements.settings.panels[e],i=null,a=t;if("captions"===e)i=this.currentTrack;else{if(i=S.empty(n)?this[e]:n,S.empty(i)&&(i=this.config[e].default),!S.empty(this.options[e])&&!this.options[e].includes(i))return void this.debug.warn(`Unsupported value of '${i}' for ${e}`);if(!this.config[e].options.includes(i))return void this.debug.warn(`Disabled value of '${i}' for ${e}`)}if(S.element(a)||(a=r&&r.querySelector('[role="menu"]')),!S.element(a))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=ej.getLabel.call(this,e,i);let o=a&&a.querySelector(`[value="${i}"]`);S.element(o)&&(o.checked=!0)},getLabel(e,t){switch(e){case"speed":return 1===t?ew.get("normal",this.config):`${t}&times;`;case"quality":if(S.number(t)){let n=ew.get(`qualityLabel.${t}`,this.config);return n.length?n:`${t}p`}return eg(t);case"captions":return eM.getLabel.call(this);default:return null}},setQualityMenu(e){if(!S.element(this.elements.settings.panels.quality))return;let t="quality",n=this.elements.settings.panels.quality.querySelector('[role="menu"]');S.array(e)&&(this.options.quality=ea(e).filter(e=>this.config.quality.options.includes(e)));let r=!S.empty(this.options.quality)&&this.options.quality.length>1;if(ej.toggleMenuButton.call(this,t,r),q(n),ej.checkMenu.call(this),!r)return;let i=e=>{let t=ew.get(`qualityBadge.${e}`,this.config);return t.length?ej.createBadge.call(this,t):null};this.options.quality.sort((e,t)=>{let n=this.config.quality.options;return n.indexOf(e)>n.indexOf(t)?1:-1}).forEach(e=>{ej.createMenuItem.call(this,{value:e,list:n,type:t,title:ej.getLabel.call(this,"quality",e),badge:i(e)})}),ej.updateSetting.call(this,t,n)},setCaptionsMenu(){if(!S.element(this.elements.settings.panels.captions))return;let e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),n=eM.getTracks.call(this),r=Boolean(n.length);if(ej.toggleMenuButton.call(this,e,r),q(t),ej.checkMenu.call(this),!r)return;let i=n.map((e,n)=>({value:n,checked:this.captions.toggled&&this.currentTrack===n,title:eM.getLabel.call(this,e),badge:e.language&&ej.createBadge.call(this,e.language.toUpperCase()),list:t,type:"language"}));i.unshift({value:-1,checked:!this.captions.toggled,title:ew.get("disabled",this.config),list:t,type:"language"}),i.forEach(ej.createMenuItem.bind(this)),ej.updateSetting.call(this,e,t)},setSpeedMenu(){if(!S.element(this.elements.settings.panels.speed))return;let e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(e=>e>=this.minimumSpeed&&e<=this.maximumSpeed);let n=!S.empty(this.options.speed)&&this.options.speed.length>1;ej.toggleMenuButton.call(this,e,n),q(t),ej.checkMenu.call(this),n&&(this.options.speed.forEach(n=>{ej.createMenuItem.call(this,{value:n,list:t,type:e,title:ej.getLabel.call(this,"speed",n)})}),ej.updateSetting.call(this,e,t))},checkMenu(){let{buttons:e}=this.elements.settings,t=!S.empty(e)&&Object.values(e).some(e=>!e.hidden);U(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let n=e;S.element(n)||(n=Object.values(this.elements.settings.panels).find(e=>!e.hidden));let r=n.querySelector('[role^="menuitem"]');W.call(this,r,t)},toggleMenu(e){let{popup:t}=this.elements.settings,n=this.elements.buttons.settings;if(!S.element(t)||!S.element(n))return;let{hidden:r}=t,i=r;if(S.boolean(e))i=e;else if(S.keyboardEvent(e)&&"Escape"===e.key)i=!1;else if(S.event(e)){let a=S.function(e.composedPath)?e.composedPath()[0]:e.target,o=t.contains(a);if(o||!o&&e.target!==n&&i)return}n.setAttribute("aria-expanded",i),U(t,!i),H(this.elements.container,this.config.classNames.menu.open,i),i&&S.keyboardEvent(e)?ej.focusFirstMenuItem.call(this,null,!0):i||r||W.call(this,n,S.keyboardEvent(e))},getMenuSize(e){let t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);let n=t.scrollWidth,r=t.scrollHeight;return D(t),{width:n,height:r}},showMenuPanel(e="",t=!1){let n=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!S.element(n))return;let r=n.parentNode,i=Array.from(r.children).find(e=>!e.hidden);if(G.transitions&&!G.reducedMotion){r.style.width=`${i.scrollWidth}px`,r.style.height=`${i.scrollHeight}px`;let a=ej.getMenuSize.call(this,n),o=e=>{e.target===r&&["width","height"].includes(e.propertyName)&&(r.style.width="",r.style.height="",X.call(this,r,j,o))};Y.call(this,r,j,o),r.style.width=`${a.width}px`,r.style.height=`${a.height}px`}U(i,!0),U(n,!1),ej.focusFirstMenuItem.call(this,n,t)},setDownloadUrl(){let e=this.elements.buttons.download;S.element(e)&&e.setAttribute("href",this.download)},create(e){let{bindMenuItemShortcuts:t,createButton:n,createProgress:r,createRange:i,createTime:a,setQualityMenu:o,setSpeedMenu:s,showMenuPanel:l}=ej;this.elements.controls=null,S.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(n.call(this,"play-large"));let u=A("div",B(this.config.selectors.controls.wrapper));this.elements.controls=u;let c={class:"plyr__controls__item"};return ea(S.array(this.config.controls)?this.config.controls:[]).forEach(o=>{if("restart"===o&&u.appendChild(n.call(this,"restart",c)),"rewind"===o&&u.appendChild(n.call(this,"rewind",c)),"play"===o&&u.appendChild(n.call(this,"play",c)),"fast-forward"===o&&u.appendChild(n.call(this,"fast-forward",c)),"progress"===o){let s=A("div",{class:`${c.class} plyr__progress__container`}),d=A("div",B(this.config.selectors.progress));if(d.appendChild(i.call(this,"seek",{id:`plyr-seek-${e.id}`})),d.appendChild(r.call(this,"buffer")),this.config.tooltips.seek){let h=A("span",{class:this.config.classNames.tooltip},"00:00");d.appendChild(h),this.elements.display.seekTooltip=h}this.elements.progress=d,s.appendChild(this.elements.progress),u.appendChild(s)}if("current-time"===o&&u.appendChild(a.call(this,"currentTime",c)),"duration"===o&&u.appendChild(a.call(this,"duration",c)),"mute"===o||"volume"===o){let{volume:p}=this.elements;if(S.element(p)&&u.contains(p)||(p=A("div",R({},c,{class:`${c.class} plyr__volume`.trim()})),this.elements.volume=p,u.appendChild(p)),"mute"===o&&p.appendChild(n.call(this,"mute")),"volume"===o&&!P.isIos&&!P.isIPadOS){let f={max:1,step:.05,value:this.config.volume};p.appendChild(i.call(this,"volume",R(f,{id:`plyr-volume-${e.id}`})))}}if("captions"===o&&u.appendChild(n.call(this,"captions",c)),"settings"===o&&!S.empty(this.config.settings)){let m=A("div",R({},c,{class:`${c.class} plyr__menu`.trim(),hidden:""}));m.appendChild(n.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));let v=A("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),g=A("div"),y=A("div",{id:`plyr-settings-${e.id}-home`}),b=A("div",{role:"menu"});y.appendChild(b),g.appendChild(y),this.elements.settings.panels.home=y,this.config.settings.forEach(n=>{let r=A("button",R(B(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,r,n),Y.call(this,r,"click",()=>{l.call(this,n,!1)});let i=A("span",null,ew.get(n,this.config)),a=A("span",{class:this.config.classNames.menu.value});a.innerHTML=e[n],i.appendChild(a),r.appendChild(i),b.appendChild(r);let o=A("div",{id:`plyr-settings-${e.id}-${n}`,hidden:""}),s=A("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});s.appendChild(A("span",{"aria-hidden":!0},ew.get(n,this.config))),s.appendChild(A("span",{class:this.config.classNames.hidden},ew.get("menuBack",this.config))),Y.call(this,o,"keydown",e=>{"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),l.call(this,"home",!0))},!1),Y.call(this,s,"click",()=>{l.call(this,"home",!1)}),o.appendChild(s),o.appendChild(A("div",{role:"menu"})),g.appendChild(o),this.elements.settings.buttons[n]=r,this.elements.settings.panels[n]=o}),v.appendChild(g),m.appendChild(v),u.appendChild(m),this.elements.settings.popup=v,this.elements.settings.menu=m}if("pip"===o&&G.pip&&u.appendChild(n.call(this,"pip",c)),"airplay"===o&&G.airplay&&u.appendChild(n.call(this,"airplay",c)),"download"===o){let w=R({},c,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(w.download="");let{download:x}=this.config.urls;!S.url(x)&&this.isEmbed&&R(w,{icon:`logo-${this.provider}`,label:this.provider}),u.appendChild(n.call(this,"download",w))}"fullscreen"===o&&u.appendChild(n.call(this,"fullscreen",c))}),this.isHTML5&&o.call(this,ef.getQualityOptions.call(this)),s.call(this),u},inject(){let e,t;if(this.config.loadSprite){let n=ej.getIconUrl.call(this);n.cors&&ek(n.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let r=null;this.elements.controls=null;let i={id:this.id,seektime:this.config.seekTime,title:this.config.title},a=!0;if(S.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,i)),this.config.controls||(this.config.controls=[]),S.element(this.config.controls)||S.string(this.config.controls)?r=this.config.controls:(r=ej.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:eM.getLabel.call(this)}),a=!1),a&&S.string(this.config.controls)&&(t=r,Object.entries(i).forEach(([e,n])=>{t=ev(t,`{${e}}`,n)}),r=t),S.string(this.config.selectors.controls.container)&&(e=document.querySelector(this.config.selectors.controls.container)),S.element(e)||(e=this.elements.container),e[S.element(r)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",r),S.element(this.elements.controls)||ej.findElements.call(this),!S.empty(this.elements.buttons)){let o=e=>{let t=this.config.classNames.controlPressed;e.setAttribute("aria-pressed","false"),Object.defineProperty(e,"pressed",{configurable:!0,enumerable:!0,get:()=>V(e,t),set(n=!1){H(e,t,n),e.setAttribute("aria-pressed",n?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(e=>{S.array(e)||S.nodeList(e)?Array.from(e).filter(Boolean).forEach(o):o(e)})}if(P.isEdge&&L(e),this.config.tooltips.controls){let{classNames:s,selectors:l}=this.config,u=`${l.controls.wrapper} ${l.labels} .${s.hidden}`,c=z.call(this,u);Array.from(c).forEach(e=>{H(e,this.config.classNames.hidden,!1),H(e,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(e){}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;let n=null===(e=this.config.markers)||void 0===e||null===(t=e.points)||void 0===t?void 0:t.filter(({time:e})=>e>0&&e<this.duration);if(null==n||!n.length)return;let r=document.createDocumentFragment(),i=document.createDocumentFragment(),a=null,o=`${this.config.classNames.tooltip}--visible`,s=e=>H(a,o,e);n.forEach(e=>{let t=A("span",{class:this.config.classNames.marker},""),n=e.time/this.duration*100+"%";a&&(t.addEventListener("mouseenter",()=>{e.label||(a.style.left=n,a.innerHTML=e.label,s(!0))}),t.addEventListener("mouseleave",()=>{s(!1)})),t.addEventListener("click",()=>{this.currentTime=e.time}),t.style.left=n,i.appendChild(t)}),r.appendChild(i),this.config.tooltips.seek||(a=A("span",{class:this.config.classNames.tooltip},""),r.appendChild(a)),this.elements.markers={points:i,tip:a},this.elements.progress.appendChild(r)}};function eL(e,t=!0){let n=e;if(t){let r=document.createElement("a");r.href=n,n=r.href}try{return new URL(n)}catch(i){return null}}function eP(e){let t=new URLSearchParams;return S.object(e)&&Object.entries(e).forEach(([e,n])=>{t.set(e,n)}),t}let eM={setup(){var e,t;if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!G.textTracks)return void(S.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&ej.setCaptionsMenu.call(this));if(S.element(this.elements.captions)||(this.elements.captions=A("div",B(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),e=this.elements.captions,t=this.elements.wrapper,S.element(e)&&S.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)),P.isIE&&window.URL){let n=this.media.querySelectorAll("track");Array.from(n).forEach(e=>{let t=e.getAttribute("src"),n=eL(t);null!==n&&n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&e_(t,"blob").then(t=>{e.setAttribute("src",window.URL.createObjectURL(t))}).catch(()=>{D(e)})})}let r=ea((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(e=>e.split("-")[0])),i=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===i&&([i]=r);let a=this.storage.get("captions");if(S.boolean(a)||({active:a}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:a,language:i,languages:r}),this.isHTML5){let o=this.config.captions.update?"addtrack removetrack":"removetrack";Y.call(this,this.media.textTracks,o,eM.update.bind(this))}setTimeout(eM.update.bind(this),0)},update(){let e=eM.getTracks.call(this,!0),{active:t,language:n,meta:r,currentTrackNode:i}=this.captions,a=Boolean(e.find(e=>e.language===n));this.isHTML5&&this.isVideo&&e.filter(e=>!r.get(e)).forEach(e=>{this.debug.log("Track added",e),r.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),Y.call(this,e,"cuechange",()=>eM.updateCues.call(this))}),(a&&this.language!==n||!e.includes(i))&&(eM.setLanguage.call(this,n),eM.toggle.call(this,t&&a)),this.elements&&H(this.elements.container,this.config.classNames.captions.enabled,!S.empty(e)),S.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&ej.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;let{toggled:n}=this.captions,r=this.config.classNames.captions.active,i=S.nullOrUndefined(e)?!n:e;if(i!==n){if(t||(this.captions.active=i,this.storage.set({captions:i})),!this.language&&i&&!t){let a=eM.getTracks.call(this),o=eM.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=o.language,void eM.set.call(this,a.indexOf(o))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=i),H(this.elements.container,r,i),this.captions.toggled=i,ej.updateSetting.call(this,"captions"),et.call(this,this.media,i?"captionsenabled":"captionsdisabled")}setTimeout(()=>{i&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(e,t=!0){let n=eM.getTracks.call(this);if(-1!==e){if(S.number(e)){if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;let r=n[e],{language:i}=r||{};this.captions.currentTrackNode=r,ej.updateSetting.call(this,"captions"),t||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),et.call(this,this.media,"languagechange")}eM.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&eM.updateCues.call(this)}else this.debug.warn("Track not found",e)}else this.debug.warn("Invalid caption argument",e)}else eM.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!S.string(e))return void this.debug.warn("Invalid language argument",e);let n=e.toLowerCase();this.captions.language=n;let r=eM.getTracks.call(this),i=eM.findTrack.call(this,[n]);eM.set.call(this,r.indexOf(i),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter(t=>!this.isHTML5||e||this.captions.meta.has(t)).filter(e=>["captions","subtitles"].includes(e.kind))},findTrack(e,t=!1){let n;let r=eM.getTracks.call(this),i=e=>Number((this.captions.meta.get(e)||{}).default),a=Array.from(r).sort((e,t)=>i(t)-i(e));return e.every(e=>!(n=a.find(t=>t.language===e))),n||(t?a[0]:void 0)},getCurrentTrack(){return eM.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!S.track(t)&&G.textTracks&&this.captions.toggled&&(t=eM.getCurrentTrack.call(this)),S.track(t)?S.empty(t.label)?S.empty(t.language)?ew.get("enabled",this.config):e.language.toUpperCase():t.label:ew.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!S.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!S.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){let n=eM.getCurrentTrack.call(this);t=Array.from((n||{}).activeCues||[]).map(e=>e.getCueAsHTML()).map(ey)}let r=t.map(e=>e.trim()).join("\n");if(r!==this.elements.captions.innerHTML){q(this.elements.captions);let i=A("span",B(this.config.selectors.caption));i.innerHTML=r,this.elements.captions.appendChild(i),et.call(this,this.media,"cuechange")}}},eR={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},eI="picture-in-picture",eO={html5:"html5",youtube:"youtube",vimeo:"vimeo"},eA="video",eN=()=>{};class eD{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):eN}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):eN}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):eN}}class eq{constructor(t){e(this,"onChange",()=>{if(!this.supported)return;let e=this.player.elements.buttons.fullscreen;S.element(e)&&(e.pressed=this.active);let t=this.target===this.player.media?this.target:this.player.elements.container;et.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)}),e(this,"toggleFallback",(e=!1)=>{if(e?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",H(this.target,this.player.config.classNames.fullscreen.fallback,e),P.isIos){let t=document.head.querySelector('meta[name="viewport"]'),n="viewport-fit=cover";t||(t=document.createElement("meta")).setAttribute("name","viewport");let r=S.string(t.content)&&t.content.includes(n);e?(this.cleanupViewport=!r,r||(t.content+=`,${n}`)):this.cleanupViewport&&(t.content=t.content.split(",").filter(e=>e.trim()!==n).join(","))}this.onChange()}),e(this,"trapFocus",e=>{if(P.isIos||P.isIPadOS||!this.active||"Tab"!==e.key)return;let t=document.activeElement,n=z.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[r]=n,i=n[n.length-1];t!==i||e.shiftKey?t===r&&e.shiftKey&&(i.focus(),e.preventDefault()):(r.focus(),e.preventDefault())}),e(this,"update",()=>{if(this.supported){let e;e=this.forceFallback?"Fallback (forced)":eq.nativeSupported?"Native":"Fallback",this.player.debug.log(`${e} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");H(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),e(this,"enter",()=>{this.supported&&(P.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!eq.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?S.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),e(this,"exit",()=>{if(this.supported){if(P.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),ei(this.player.play());else if(!eq.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!S.empty(this.prefix)){let e="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${e}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}}),e(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=t,this.prefix=eq.prefix,this.property=eq.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===t.config.fullscreen.fallback,this.player.elements.fullscreen=t.config.fullscreen.container&&function(e,t){let{prototype:n}=Element;return(n.closest||function(){let e=this;do{if(Z.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,t.config.fullscreen.container),Y.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),Y.call(this.player,this.player.elements.container,"dblclick",e=>{S.element(this.player.elements.controls)&&this.player.elements.controls.contains(e.target)||this.player.listeners.proxy(e,this.toggle,"fullscreen")}),Y.call(this,this.player.elements.container,"keydown",e=>this.trapFocus(e)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return eq.nativeSupported&&!this.forceFallback}static get prefix(){if(S.function(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some(t=>!(!S.function(document[`${t}ExitFullscreen`])&&!S.function(document[`${t}CancelFullScreen`]))&&(e=t,!0)),e}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,eq.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||eq.nativeSupported||!P.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!eq.nativeSupported||this.forceFallback)return V(this.target,this.player.config.classNames.fullscreen.fallback);let e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return P.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function eF(e,t=1){return new Promise((n,r)=>{let i=new Image,a=()=>{delete i.onload,delete i.onerror,(i.naturalWidth>=t?n:r)(i)};Object.assign(i,{onload:a,onerror:a,src:e})})}let eB={addStyleHook(){H(this.elements.container,this.config.selectors.container.replace(".",""),!0),H(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void eB.toggleNativeControls.call(this,!0);S.element(this.elements.controls)||(ej.inject.call(this),this.listeners.controls()),eB.toggleNativeControls.call(this),this.isHTML5&&eM.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,ej.updateVolume.call(this),ej.timeUpdate.call(this),ej.durationUpdate.call(this),eB.checkPlaying.call(this),H(this.elements.container,this.config.classNames.pip.supported,G.pip&&this.isHTML5&&this.isVideo),H(this.elements.container,this.config.classNames.airplay.supported,G.airplay&&this.isHTML5),H(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{et.call(this,this.media,"ready")},0),eB.setTitle.call(this),this.poster&&eB.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&ej.durationUpdate.call(this),this.config.mediaMetadata&&ej.setMediaMetadata.call(this)},setTitle(){let e=ew.get("play",this.config);if(S.string(this.config.title)&&!S.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(t=>{t.setAttribute("aria-label",e)}),this.isEmbed){let t=$.call(this,"iframe");if(!S.element(t))return;let n=S.empty(this.config.title)?"video":this.config.title,r=ew.get("frameTitle",this.config);t.setAttribute("title",r.replace("{title}",n))}},togglePoster(e){H(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),er.call(this).then(()=>eF(e)).catch(t=>{throw e===this.poster&&eB.togglePoster.call(this,!1),t}).then(()=>{if(e!==this.poster)throw Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),eB.togglePoster.call(this,!0),e)))},checkPlaying(e){H(this.elements.container,this.config.classNames.playing,this.playing),H(this.elements.container,this.config.classNames.paused,this.paused),H(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",ew.get(this.playing?"pause":"play",this.config))}),S.event(e)&&"timeupdate"===e.type||eB.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{H(this.elements.container,this.config.classNames.loading,this.loading),eB.toggleControls.call(this)},this.loading?250:0)},toggleControls(e){let{controls:t}=this.elements;if(t&&this.config.hideControls){let n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles(){Object.values({...this.media.style}).filter(e=>!S.empty(e)&&S.string(e)&&e.startsWith("--plyr")).forEach(e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)}),S.empty(this.media.style)&&this.media.removeAttribute("style")}};class eU{constructor(t){e(this,"firstTouch",()=>{let{player:e}=this,{elements:t}=e;e.touch=!0,H(t.container,e.config.classNames.isTouch,!0)}),e(this,"global",(e=!0)=>{let{player:t}=this;t.config.keyboard.global&&J.call(t,window,"keydown keyup",this.handleKey,e,!1),J.call(t,document.body,"click",this.toggleMenu,e),ee.call(t,document.body,"touchstart",this.firstTouch)}),e(this,"container",()=>{let{player:e}=this,{config:t,elements:n,timers:r}=e;!t.keyboard.global&&t.keyboard.focused&&Y.call(e,n.container,"keydown keyup",this.handleKey,!1),Y.call(e,n.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",t=>{let{controls:i}=n;i&&"enterfullscreen"===t.type&&(i.pressed=!1,i.hover=!1);let a=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(eB.toggleControls.call(e,!0),a=e.touch?3e3:2e3),clearTimeout(r.controls),r.controls=setTimeout(()=>eB.toggleControls.call(e,!1),a)});let i=()=>{if(!e.isVimeo||e.config.vimeo.premium)return;let t=n.wrapper,{active:r}=e.fullscreen,[i,a]=ed.call(e),o=es(`aspect-ratio: ${i} / ${a}`);if(!r)return void(o?(t.style.width=null,t.style.height=null):(t.style.maxWidth=null,t.style.margin=null));let[s,l]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],u=s/l>i/a;o?(t.style.width=u?"auto":"100%",t.style.height=u?"100%":"auto"):(t.style.maxWidth=u?l/a*i+"px":null,t.style.margin=u?"0 auto":null)},a=()=>{clearTimeout(r.resized),r.resized=setTimeout(i,50)};Y.call(e,n.container,"enterfullscreen exitfullscreen",t=>{let{target:r}=e.fullscreen;r===n.container&&(!e.isEmbed&&S.empty(e.config.ratio)||(i(),("enterfullscreen"===t.type?Y:X).call(e,window,"resize",a)))})}),e(this,"media",()=>{let{player:e}=this,{elements:t}=e;if(Y.call(e,e.media,"timeupdate seeking seeked",t=>ej.timeUpdate.call(e,t)),Y.call(e,e.media,"durationchange loadeddata loadedmetadata",t=>ej.durationUpdate.call(e,t)),Y.call(e,e.media,"ended",()=>{e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())}),Y.call(e,e.media,"progress playing seeking seeked",t=>ej.updateProgress.call(e,t)),Y.call(e,e.media,"volumechange",t=>ej.updateVolume.call(e,t)),Y.call(e,e.media,"playing play pause ended emptied timeupdate",t=>eB.checkPlaying.call(e,t)),Y.call(e,e.media,"waiting canplay seeked playing",t=>eB.checkLoading.call(e,t)),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){let n=$.call(e,`.${e.config.classNames.video}`);if(!S.element(n))return;Y.call(e,t.container,"click",r=>{([t.container,n].includes(r.target)||n.contains(r.target))&&(e.touch&&e.config.hideControls||(e.ended?(this.proxy(r,e.restart,"restart"),this.proxy(r,()=>{ei(e.play())},"play")):this.proxy(r,()=>{ei(e.togglePlay())},"play")))})}e.supported.ui&&e.config.disableContextMenu&&Y.call(e,t.wrapper,"contextmenu",e=>{e.preventDefault()},!1),Y.call(e,e.media,"volumechange",()=>{e.storage.set({volume:e.volume,muted:e.muted})}),Y.call(e,e.media,"ratechange",()=>{ej.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})}),Y.call(e,e.media,"qualitychange",t=>{ej.updateSetting.call(e,"quality",null,t.detail.quality)}),Y.call(e,e.media,"ready qualitychange",()=>{ej.setDownloadUrl.call(e)});let r=e.config.events.concat(["keyup","keydown"]).join(" ");Y.call(e,e.media,r,n=>{let{detail:r={}}=n;"error"===n.type&&(r=e.media.error),et.call(e,t.container,n.type,!0,r)})}),e(this,"proxy",(e,t,n)=>{let{player:r}=this,i=r.config.listeners[n],a=!0;S.function(i)&&(a=i.call(r,e)),!1!==a&&S.function(t)&&t.call(r,e)}),e(this,"bind",(e,t,n,r,i=!0)=>{let{player:a}=this,o=a.config.listeners[r],s=S.function(o);Y.call(a,e,t,e=>this.proxy(e,n,r),i&&!s)}),e(this,"controls",()=>{let{player:e}=this,{elements:t}=e,n=P.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach(t=>{this.bind(t,"click",()=>{ei(e.togglePlay())},"play")}),this.bind(t.buttons.restart,"click",e.restart,"restart"),this.bind(t.buttons.rewind,"click",()=>{e.lastSeekTime=Date.now(),e.rewind()},"rewind"),this.bind(t.buttons.fastForward,"click",()=>{e.lastSeekTime=Date.now(),e.forward()},"fastForward"),this.bind(t.buttons.mute,"click",()=>{e.muted=!e.muted},"mute"),this.bind(t.buttons.captions,"click",()=>e.toggleCaptions()),this.bind(t.buttons.download,"click",()=>{et.call(e,e.media,"download")},"download"),this.bind(t.buttons.fullscreen,"click",()=>{e.fullscreen.toggle()},"fullscreen"),this.bind(t.buttons.pip,"click",()=>{e.pip="toggle"},"pip"),this.bind(t.buttons.airplay,"click",e.airplay,"airplay"),this.bind(t.buttons.settings,"click",t=>{t.stopPropagation(),t.preventDefault(),ej.toggleMenu.call(e,t)},null,!1),this.bind(t.buttons.settings,"keyup",t=>{[" ","Enter"].includes(t.key)&&("Enter"!==t.key?(t.preventDefault(),t.stopPropagation(),ej.toggleMenu.call(e,t)):ej.focusFirstMenuItem.call(e,null,!0))},null,!1),this.bind(t.settings.menu,"keydown",t=>{"Escape"===t.key&&ej.toggleMenu.call(e,t)}),this.bind(t.inputs.seek,"mousedown mousemove",e=>{let n=t.progress.getBoundingClientRect(),r=100/n.width*(e.pageX-n.left);e.currentTarget.setAttribute("seek-value",r)}),this.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",t=>{let n=t.currentTarget,r="play-on-seeked";if(S.keyboardEvent(t)&&!["ArrowLeft","ArrowRight"].includes(t.key))return;e.lastSeekTime=Date.now();let i=n.hasAttribute(r),a=["mouseup","touchend","keyup"].includes(t.type);i&&a?(n.removeAttribute(r),ei(e.play())):!a&&e.playing&&(n.setAttribute(r,""),e.pause())}),P.isIos){let r=z.call(e,'input[type="range"]');Array.from(r).forEach(e=>this.bind(e,n,e=>L(e.target)))}this.bind(t.inputs.seek,n,t=>{let n=t.currentTarget,r=n.getAttribute("seek-value");S.empty(r)&&(r=n.value),n.removeAttribute("seek-value"),e.currentTime=r/n.max*e.duration},"seek"),this.bind(t.progress,"mouseenter mouseleave mousemove",t=>ej.updateSeekTooltip.call(e,t)),this.bind(t.progress,"mousemove touchmove",t=>{let{previewThumbnails:n}=e;n&&n.loaded&&n.startMove(t)}),this.bind(t.progress,"mouseleave touchend click",()=>{let{previewThumbnails:t}=e;t&&t.loaded&&t.endMove(!1,!0)}),this.bind(t.progress,"mousedown touchstart",t=>{let{previewThumbnails:n}=e;n&&n.loaded&&n.startScrubbing(t)}),this.bind(t.progress,"mouseup touchend",t=>{let{previewThumbnails:n}=e;n&&n.loaded&&n.endScrubbing(t)}),P.isWebKit&&Array.from(z.call(e,'input[type="range"]')).forEach(t=>{this.bind(t,"input",t=>ej.updateRangeFill.call(e,t.target))}),e.config.toggleInvert&&!S.element(t.display.duration)&&this.bind(t.display.currentTime,"click",()=>{0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,ej.timeUpdate.call(e))}),this.bind(t.inputs.volume,n,t=>{e.volume=t.target.value},"volume"),this.bind(t.controls,"mouseenter mouseleave",n=>{t.controls.hover=!e.touch&&"mouseenter"===n.type}),t.fullscreen&&Array.from(t.fullscreen.children).filter(e=>!e.contains(t.container)).forEach(n=>{this.bind(n,"mouseenter mouseleave",n=>{t.controls&&(t.controls.hover=!e.touch&&"mouseenter"===n.type)})}),this.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",e=>{t.controls.pressed=["mousedown","touchstart"].includes(e.type)}),this.bind(t.controls,"focusin",()=>{let{config:n,timers:r}=e;H(t.controls,n.classNames.noTransition,!0),eB.toggleControls.call(e,!0),setTimeout(()=>{H(t.controls,n.classNames.noTransition,!1)},0);let i=this.touch?3e3:4e3;clearTimeout(r.controls),r.controls=setTimeout(()=>eB.toggleControls.call(e,!1),i)}),this.bind(t.inputs.volume,"wheel",t=>{let n=t.webkitDirectionInvertedFromDevice,[r,i]=[t.deltaX,-t.deltaY].map(e=>n?-e:e),a=Math.sign(Math.abs(r)>Math.abs(i)?r:i);e.increaseVolume(a/50);let{volume:o}=e.media;(1===a&&o<1||-1===a&&o>0)&&t.preventDefault()},"volume",!1)}),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){var t;let{player:n}=this,{elements:r}=n,{key:i,type:a,altKey:o,ctrlKey:s,metaKey:l,shiftKey:u}=e,c="keydown"===a,d=c&&i===this.lastKey;if(!o&&!s&&!l&&!u&&i){if(c){let h=document.activeElement;if(S.element(h)){let{editable:p}=n.config.selectors,{seek:f}=r.inputs;if(h!==f&&Z(h,p)||" "===e.key&&Z(h,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(t=parseInt(i,10),n.currentTime=n.duration/10*t);break;case" ":case"k":d||ei(n.togglePlay());break;case"ArrowUp":n.increaseVolume(.1);break;case"ArrowDown":n.decreaseVolume(.1);break;case"m":d||(n.muted=!n.muted);break;case"ArrowRight":n.forward();break;case"ArrowLeft":n.rewind();break;case"f":n.fullscreen.toggle();break;case"c":d||n.toggleCaptions();break;case"l":n.loop=!n.loop}"Escape"===i&&!n.fullscreen.usingNative&&n.fullscreen.active&&n.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}}toggleMenu(e){ej.toggleMenu.call(this.player,e)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self&&self;var eH=(a=s={exports:{}},s.exports,a.exports=function(){var e=function(){},t={},n={},r={};function i(e,t){if(e){var i=r[e];if(n[e]=t,i)for(;i.length;)i[0](e,t),i.splice(0,1)}}function a(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function o(n,r,o){var s,l;if(r&&r.trim&&(s=r),l=(s?o:r)||{},s){if(s in t)throw"LoadJS";t[s]=!0}function u(t,r){!function(t,n,r){var i,a,o=(t=t.push?t:[t]).length,s=o,l=[];for(i=function(e,t,r){if("e"==t&&l.push(e),"b"==t){if(!r)return;l.push(e)}--o||n(l)},a=0;a<s;a++)!function t(n,r,i,a){var o,s,l=document,u=i.async,c=(i.numRetries||0)+1,d=i.before||e,h=n.replace(/[\?|#].*$/,""),p=n.replace(/^(css|img)!/,"");a=a||0,/(^css!|\.css$)/.test(h)?((s=l.createElement("link")).rel="stylesheet",s.href=p,(o="hideFocus"in s)&&s.relList&&(o=0,s.rel="preload",s.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(h)?(s=l.createElement("img")).src=p:((s=l.createElement("script")).src=n,s.async=void 0===u||u),s.onload=s.onerror=s.onbeforeload=function(e){var l=e.type[0];if(o)try{s.sheet.cssText.length||(l="e")}catch(u){18!=u.code&&(l="e")}if("e"==l){if((a+=1)<c)return t(n,r,i,a)}else if("preload"==s.rel&&"style"==s.as)return s.rel="stylesheet";r(n,l,e.defaultPrevented)},!1!==d(n,s)&&l.head.appendChild(s)}(t[a],i,r)}(n,function(e){a(l,e),t&&a({success:t,error:r},e),i(s,e)},l)}if(l.returnPromise)return new Promise(u);u()}return o.ready=function(e,t){return function(e,t){e=e.push?e:[e];var i,a,o,s=[],l=e.length,u=l;for(i=function(e,n){n.length&&s.push(e),--u||t(s)};l--;)(o=n[a=e[l]])?i(a,o):(r[a]=r[a]||[]).push(i)}(e,function(e){a(t,e)}),o},o.done=function(e){i(e,[])},o.reset=function(){t={},n={},r={}},o.isDefined=function(e){return e in t},o}(),s.exports);function eV(e){return new Promise((t,n)=>{eH(e,{success:t,error:n})})}function eZ(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,et.call(this,this.media,e?"play":"pause"))}let ez={setup(){let e=this;H(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,eh.call(e),S.object(window.Vimeo)?ez.ready.call(e):eV(e.config.urls.vimeo.sdk).then(()=>{ez.ready.call(e)}).catch(t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)})},ready(){var e;let t=this,n=t.config.vimeo,{premium:r,referrerPolicy:i,...a}=n,o=t.media.getAttribute("src"),s="";S.empty(o)?(o=t.media.getAttribute(t.config.attributes.embed.id),s=t.media.getAttribute(t.config.attributes.embed.hash)):s=function(e){let t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&5===t.length?t[4]:null}(o);let l=s?{h:s}:{};r&&Object.assign(a,{controls:!1,sidedock:!1});let u=eP({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:t.config.playsinline,...l,...a}),c=(e=o,S.empty(e)?null:S.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e),d=A("iframe"),h=em(t.config.urls.vimeo.iframe,c,u);if(d.setAttribute("src",h),d.setAttribute("allowfullscreen",""),d.setAttribute("allow","autoplay; fullscreen; picture-in-picture; encrypted-media; accelerometer; gyroscope"),S.empty(i)||d.setAttribute("referrerPolicy",i),r||!n.customControls)d.setAttribute("data-poster",t.poster),t.media=F(d,t.media);else{let p=A("div",{class:t.config.classNames.embedContainer,"data-poster":t.poster});p.appendChild(d),t.media=F(p,t.media)}n.customControls||e_(em(t.config.urls.vimeo.api,h)).then(e=>{!S.empty(e)&&e.thumbnail_url&&eB.setPoster.call(t,e.thumbnail_url).catch(()=>{})}),t.embed=new window.Vimeo.Player(d,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=()=>(eZ.call(t,!0),t.embed.play()),t.media.pause=()=>(eZ.call(t,!1),t.embed.pause()),t.media.stop=()=>{t.pause(),t.currentTime=0};let{currentTime:f}=t.media;Object.defineProperty(t.media,"currentTime",{get:()=>f,set(e){let{embed:n,media:r,paused:i,volume:a}=t,o=i&&!n.hasPlayed;r.seeking=!0,et.call(t,r,"seeking"),Promise.resolve(o&&n.setVolume(0)).then(()=>n.setCurrentTime(e)).then(()=>o&&n.pause()).then(()=>o&&n.setVolume(a)).catch(()=>{})}});let m=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:()=>m,set(e){t.embed.setPlaybackRate(e).then(()=>{m=e,et.call(t,t.media,"ratechange")}).catch(()=>{t.options.speed=[1]})}});let{volume:v}=t.config;Object.defineProperty(t.media,"volume",{get:()=>v,set(e){t.embed.setVolume(e).then(()=>{v=e,et.call(t,t.media,"volumechange")})}});let{muted:g}=t.config;Object.defineProperty(t.media,"muted",{get:()=>g,set(e){let n=!!S.boolean(e)&&e;t.embed.setMuted(!!n||t.config.muted).then(()=>{g=n,et.call(t,t.media,"volumechange")})}});let y,{loop:b}=t.config;Object.defineProperty(t.media,"loop",{get:()=>b,set(e){let n=S.boolean(e)?e:t.config.loop.active;t.embed.setLoop(n).then(()=>{b=n})}}),t.embed.getVideoUrl().then(e=>{y=e,ej.setDownloadUrl.call(t)}).catch(e=>{this.debug.warn(e)}),Object.defineProperty(t.media,"currentSrc",{get:()=>y}),Object.defineProperty(t.media,"ended",{get:()=>t.currentTime===t.duration}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then(e=>{let[n,r]=e;t.embed.ratio=ep(n,r),eh.call(this)}),t.embed.setAutopause(t.config.autopause).then(e=>{t.config.autopause=e}),t.embed.getVideoTitle().then(e=>{t.config.title=e,eB.setTitle.call(this)}),t.embed.getCurrentTime().then(e=>{f=e,et.call(t,t.media,"timeupdate")}),t.embed.getDuration().then(e=>{t.media.duration=e,et.call(t,t.media,"durationchange")}),t.embed.getTextTracks().then(e=>{t.media.textTracks=e,eM.setup.call(t)}),t.embed.on("cuechange",({cues:e=[]})=>{let n=e.map(e=>(function(e){let t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText})(e.text));eM.updateCues.call(t,n)}),t.embed.on("loaded",()=>{t.embed.getPaused().then(e=>{eZ.call(t,!e),e||et.call(t,t.media,"playing")}),S.element(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)}),t.embed.on("bufferstart",()=>{et.call(t,t.media,"waiting")}),t.embed.on("bufferend",()=>{et.call(t,t.media,"playing")}),t.embed.on("play",()=>{eZ.call(t,!0),et.call(t,t.media,"playing")}),t.embed.on("pause",()=>{eZ.call(t,!1)}),t.embed.on("timeupdate",e=>{t.media.seeking=!1,f=e.seconds,et.call(t,t.media,"timeupdate")}),t.embed.on("progress",e=>{t.media.buffered=e.percent,et.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&et.call(t,t.media,"canplaythrough"),t.embed.getDuration().then(e=>{e!==t.media.duration&&(t.media.duration=e,et.call(t,t.media,"durationchange"))})}),t.embed.on("seeked",()=>{t.media.seeking=!1,et.call(t,t.media,"seeked")}),t.embed.on("ended",()=>{t.media.paused=!0,et.call(t,t.media,"ended")}),t.embed.on("error",e=>{t.media.error=e,et.call(t,t.media,"error")}),n.customControls&&setTimeout(()=>eB.build.call(t),0)}};function e$(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,et.call(this,this.media,e?"play":"pause"))}let eW={setup(){if(H(this.elements.wrapper,this.config.classNames.embed,!0),S.object(window.YT)&&S.function(window.YT.Player))eW.ready.call(this);else{let e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{S.function(e)&&e(),eW.ready.call(this)},eV(this.config.urls.youtube.sdk).catch(e=>{this.debug.warn("YouTube API failed to load",e)})}},getTitle(e){e_(em(this.config.urls.youtube.api,e)).then(e=>{if(S.object(e)){let{title:t,height:n,width:r}=e;this.config.title=t,eB.setTitle.call(this),this.embed.ratio=ep(r,n)}eh.call(this)}).catch(()=>{eh.call(this)})},ready(){var e;let t=this,n=t.config.youtube,r=t.media&&t.media.getAttribute("id");if(!S.empty(r)&&r.startsWith("youtube-"))return;let i=t.media.getAttribute("src");S.empty(i)&&(i=t.media.getAttribute(this.config.attributes.embed.id));let a=(e=i,S.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e),o=A("div",{id:`${t.provider}-${Math.floor(1e4*Math.random())}`,"data-poster":n.customControls?t.poster:void 0});if(t.media=F(o,t.media),n.customControls){let s=e=>`https://i.ytimg.com/vi/${a}/${e}default.jpg`;eF(s("maxres"),121).catch(()=>eF(s("sd"),121)).catch(()=>eF(s("hq"))).then(e=>eB.setPoster.call(t,e.src)).then(e=>{e.includes("maxres")||(t.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}t.embed=new window.YT.Player(t.media,{videoId:a,host:n.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0,playerVars:R({},{autoplay:t.config.autoplay?1:0,hl:t.config.hl,controls:t.supported.ui&&n.customControls?0:1,disablekb:1,playsinline:t.config.playsinline&&!t.config.fullscreen.iosNative?1:0,cc_load_policy:t.captions.active?1:0,cc_lang_pref:t.config.captions.language,widget_referrer:window?window.location.href:null},n),events:{onError(e){if(!t.media.error){let n=e.data;t.media.error={code:n,message:({2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."})[n]||"An unknown error occurred"},et.call(t,t.media,"error")}},onPlaybackRateChange(e){let n=e.target;t.media.playbackRate=n.getPlaybackRate(),et.call(t,t.media,"ratechange")},onReady(e){if(S.function(t.media.play))return;let r=e.target;eW.getTitle.call(t,a),t.media.play=()=>{e$.call(t,!0),r.playVideo()},t.media.pause=()=>{e$.call(t,!1),r.pauseVideo()},t.media.stop=()=>{r.stopVideo()},t.media.duration=r.getDuration(),t.media.paused=!0,t.media.currentTime=0,Object.defineProperty(t.media,"currentTime",{get:()=>Number(r.getCurrentTime()),set(e){t.paused&&!t.embed.hasPlayed&&t.embed.mute(),t.media.seeking=!0,et.call(t,t.media,"seeking"),r.seekTo(e)}}),Object.defineProperty(t.media,"playbackRate",{get:()=>r.getPlaybackRate(),set(e){r.setPlaybackRate(e)}});let{volume:i}=t.config;Object.defineProperty(t.media,"volume",{get:()=>i,set(e){i=e,r.setVolume(100*i),et.call(t,t.media,"volumechange")}});let{muted:o}=t.config;Object.defineProperty(t.media,"muted",{get:()=>o,set(e){let n=S.boolean(e)?e:o;o=n,r[n?"mute":"unMute"](),r.setVolume(100*i),et.call(t,t.media,"volumechange")}}),Object.defineProperty(t.media,"currentSrc",{get:()=>r.getVideoUrl()}),Object.defineProperty(t.media,"ended",{get:()=>t.currentTime===t.duration});let s=r.getAvailablePlaybackRates();t.options.speed=s.filter(e=>t.config.speed.options.includes(e)),t.supported.ui&&n.customControls&&t.media.setAttribute("tabindex",-1),et.call(t,t.media,"timeupdate"),et.call(t,t.media,"durationchange"),clearInterval(t.timers.buffering),t.timers.buffering=setInterval(()=>{t.media.buffered=r.getVideoLoadedFraction(),(null===t.media.lastBuffered||t.media.lastBuffered<t.media.buffered)&&et.call(t,t.media,"progress"),t.media.lastBuffered=t.media.buffered,1===t.media.buffered&&(clearInterval(t.timers.buffering),et.call(t,t.media,"canplaythrough"))},200),n.customControls&&setTimeout(()=>eB.build.call(t),50)},onStateChange(e){let r=e.target;switch(clearInterval(t.timers.playing),t.media.seeking&&[1,2].includes(e.data)&&(t.media.seeking=!1,et.call(t,t.media,"seeked")),e.data){case -1:et.call(t,t.media,"timeupdate"),t.media.buffered=r.getVideoLoadedFraction(),et.call(t,t.media,"progress");break;case 0:e$.call(t,!1),t.media.loop?(r.stopVideo(),r.playVideo()):et.call(t,t.media,"ended");break;case 1:n.customControls&&!t.config.autoplay&&t.media.paused&&!t.embed.hasPlayed?t.media.pause():(e$.call(t,!0),et.call(t,t.media,"playing"),t.timers.playing=setInterval(()=>{et.call(t,t.media,"timeupdate")},50),t.media.duration!==r.getDuration()&&(t.media.duration=r.getDuration(),et.call(t,t.media,"durationchange")));break;case 2:t.muted||t.embed.unMute(),e$.call(t,!1);break;case 3:et.call(t,t.media,"waiting")}et.call(t,t.elements.container,"statechange",!1,{code:e.data})}}})}},eQ={setup(){this.media?(H(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),H(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&H(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=A("div",{class:this.config.classNames.video}),I(this.media,this.elements.wrapper),this.elements.poster=A("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?ef.setup.call(this):this.isYouTube?eW.setup.call(this):this.isVimeo&&ez.setup.call(this)):this.debug.warn("No media element found!")}};class eG{constructor(t){e(this,"load",()=>{this.enabled&&(S.object(window.google)&&S.object(window.google.ima)?this.ready():eV(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",Error("Google IMA SDK failed to load"))}))}),e(this,"ready",()=>{this.enabled||(this.manager&&this.manager.destroy(),this.elements.displayContainer&&this.elements.displayContainer.destroy(),this.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),e(this,"setupIMA",()=>{this.elements.container=A("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,e=>this.onAdsManagerLoaded(e),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e=>this.onAdError(e),!1),this.requestAds()}),e(this,"requestAds",()=>{let{container:e}=this.player.elements;try{let t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(n){this.onAdError(n)}}),e(this,"pollCountdown",(e=!1)=>{if(!e)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{let e=eS(Math.max(this.manager.getRemainingTime(),0)),t=`${ew.get("advertisement",this.player.config)} - ${e}`;this.elements.container.setAttribute("data-badge-text",t)},100)}),e(this,"onAdsManagerLoaded",e=>{if(!this.enabled)return;let t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e=>this.onAdError(e)),Object.keys(google.ima.AdEvent.Type).forEach(e=>{this.manager.addEventListener(google.ima.AdEvent.Type[e],e=>this.onAdEvent(e))}),this.trigger("loaded")}),e(this,"addCuePoints",()=>{S.empty(this.cuePoints)||this.cuePoints.forEach(e=>{if(0!==e&&-1!==e&&e<this.player.duration){let t=this.player.elements.progress;if(S.element(t)){let n=100/this.player.duration*e,r=A("span",{class:this.player.config.classNames.cues});r.style.left=`${n.toString()}%`,t.appendChild(r)}}})}),e(this,"onAdEvent",e=>{let{container:t}=this.player.elements,n=e.getAd(),r=e.getAdData();switch((e=>{et.call(this.player,this.player.media,`ads${e.replace(/_/g,"").toLowerCase()}`)})(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),n.isLinear()||(n.width=t.offsetWidth,n.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:r.adError&&this.player.debug.warn(`Non-fatal ad error: ${r.adError.getMessage()}`)}}),e(this,"onAdError",e=>{this.cancel(),this.player.debug.warn("Ads error",e)}),e(this,"listeners",()=>{let e;let{container:t}=this.player.elements;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{e=this.player.currentTime}),this.player.on("seeked",()=>{let t=this.player.currentTime;S.empty(this.cuePoints)||this.cuePoints.forEach((n,r)=>{e<n&&n<t&&(this.manager.discardAdBreak(),this.cuePoints.splice(r,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)})}),e(this,"play",()=>{let{container:e}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(t){this.onAdError(t)}}).catch(()=>{})}),e(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,ei(this.player.media.play())}),e(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),e(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),e(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(e=>{this.on("loaded",e),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),e(this,"trigger",(e,...t)=>{let n=this.events[e];S.array(n)&&n.forEach(e=>{S.function(e)&&e.apply(this,t)})}),e(this,"on",(e,t)=>(S.array(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this)),e(this,"startSafetyTimer",(e,t)=>{this.player.debug.log(`Safety timer invoked from: ${t}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},e)}),e(this,"clearSafetyTimer",e=>{S.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${e}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((e,t)=>{this.on("loaded",e),this.on("error",t)}),this.load()}get enabled(){let{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!S.empty(e.publisherId)||S.url(e.tagUrl))}get tagUrl(){let{config:e}=this;return S.url(e.tagUrl)?e.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${eP({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}function eK(e=0,t=0,n=255){return Math.min(Math.max(e,t),n)}let eJ=e=>{let t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach(e=>{let n={};e.split(/\r\n|\n|\r/).forEach(e=>{if(S.number(n.startTime)){if(!S.empty(e.trim())&&S.empty(n.text)){let t=e.trim().split("#xywh=");[n.text]=t,t[1]&&([n.x,n.y,n.w,n.h]=t[1].split(","))}}else{let r=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);r&&(n.startTime=60*Number(r[1]||0)*60+60*Number(r[2])+Number(r[3])+Number(`0.${r[4]}`),n.endTime=60*Number(r[6]||0)*60+60*Number(r[7])+Number(r[8])+Number(`0.${r[9]}`))}}),n.text&&t.push(n)}),t},eY=(e,t)=>{let n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n};class eX{constructor(t){e(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),e(this,"getThumbnails",()=>new Promise(e=>{let{src:t}=this.player.config.previewThumbnails;if(S.empty(t))throw Error("Missing previewThumbnails.src config attribute");let n=()=>{this.thumbnails.sort((e,t)=>e.height-t.height),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};if(S.function(t))t(e=>{this.thumbnails=e,n()});else{let r=(S.string(t)?[t]:t).map(e=>this.getThumbnail(e));Promise.all(r).then(n)}})),e(this,"getThumbnail",e=>new Promise(t=>{e_(e).then(n=>{let r={frames:eJ(n),height:null,urlPrefix:""};r.frames[0].text.startsWith("/")||r.frames[0].text.startsWith("http://")||r.frames[0].text.startsWith("https://")||(r.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));let i=new Image;i.onload=()=>{r.height=i.naturalHeight,r.width=i.naturalWidth,this.thumbnails.push(r),t()},i.src=r.urlPrefix+r.frames[0].text})})),e(this,"startMove",e=>{if(this.loaded&&S.event(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t,n;let r=this.player.elements.progress.getBoundingClientRect(),i=100/r.width*(e.pageX-r.left);this.seekTime=this.player.media.duration*(i/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=eS(this.seekTime);let a=null===(t=this.player.config.markers)||void 0===t||null===(n=t.points)||void 0===n?void 0:n.find(({time:e})=>e===Math.round(this.seekTime));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}<br>`)}this.showImageAtCurrentTime()}}),e(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),e(this,"startScrubbing",e=>{(S.nullOrUndefined(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),e(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):ee.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),e(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),e(this,"render",()=>{this.elements.thumb.container=A("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=A("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);let e=A("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=A("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(e),S.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=A("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),e(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),e(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();let e=this.thumbnails[0].frames.findIndex(e=>this.seekTime>=e.startTime&&this.seekTime<=e.endTime),t=e>=0,n=0;this.mouseDown||this.toggleThumbContainer(t),t&&(this.thumbnails.forEach((t,r)=>{this.loadedImages.includes(t.frames[e].text)&&(n=r)}),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(n)))}),e(this,"loadImage",(e=0)=>{let t=this.showingThumb,n=this.thumbnails[e],{urlPrefix:r}=n,i=n.frames[t],a=n.frames[t].text,o=r+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,i,e,t,a,!1),this.currentImageElement.dataset.index=t,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);let s=new Image;s.src=o,s.dataset.index=t,s.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${o}`),s.onload=()=>this.showImage(s,i,e,t,a,!0),this.loadingImage=s,this.removeOldImages(s)}}),e(this,"showImage",(e,t,n,r,i,a=!0)=>{this.player.debug.log(`Showing thumb: ${i}. num: ${r}. qual: ${n}. newimg: ${a}`),this.setImageSizeAndOffset(e,t),a&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(i)||this.loadedImages.push(i)),this.preloadNearby(r,!0).then(this.preloadNearby(r,!1)).then(this.getHigherQuality(n,e,t,i))}),e(this,"removeOldImages",e=>{Array.from(this.currentImageContainer.children).forEach(t=>{if("img"!==t.tagName.toLowerCase())return;let n=this.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;let{currentImageContainer:r}=this;setTimeout(()=>{r.removeChild(t),this.player.debug.log(`Removing thumb: ${t.dataset.filename}`)},n)}})}),e(this,"preloadNearby",(e,t=!0)=>new Promise(n=>{setTimeout(()=>{let r=this.thumbnails[0].frames[e].text;if(this.showingThumbFilename===r){let i;i=t?this.thumbnails[0].frames.slice(e):this.thumbnails[0].frames.slice(0,e).reverse();let a=!1;i.forEach(e=>{let t=e.text;if(t!==r&&!this.loadedImages.includes(t)){a=!0,this.player.debug.log(`Preloading thumb filename: ${t}`);let{urlPrefix:i}=this.thumbnails[0],o=new Image;o.src=i+t,o.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${t}`),this.loadedImages.includes(t)||this.loadedImages.push(t),n()}}}),a||n()}},300)})),e(this,"getHigherQuality",(e,t,n,r)=>{if(e<this.thumbnails.length-1){let i=t.naturalHeight;this.usingSprites&&(i=n.h),i<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===r&&(this.player.debug.log(`Showing higher quality thumb for: ${r}`),this.loadImage(e+1))},300)}}),e(this,"toggleThumbContainer",(e=!1,t=!1)=>{let n=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(n,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)}),e(this,"toggleScrubbingContainer",(e=!1)=>{let t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)}),e(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),e(this,"setThumbContainerSizeAndPos",()=>{let{imageContainer:e}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){let t=Math.floor(e.clientHeight*this.thumbAspectRatio);e.style.width=`${t}px`}else if(e.clientHeight<20&&e.clientWidth>20){let n=Math.floor(e.clientWidth/this.thumbAspectRatio);e.style.height=`${n}px`}}else{let r=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);e.style.height=`${this.thumbContainerHeight}px`,e.style.width=`${r}px`}this.setThumbContainerPos()}),e(this,"setThumbContainerPos",()=>{let e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),{container:n}=this.elements.thumb,r=t.left-e.left+10,i=t.right-e.left-n.clientWidth-10,a=this.mousePosX-e.left-n.clientWidth/2,o=eK(a,r,i);n.style.left=`${o}px`,n.style.setProperty("--preview-arrow-offset",a-o+"px")}),e(this,"setScrubbingContainerSize",()=>{let{width:e,height:t}=eY(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e}px`,this.elements.scrubbing.container.style.height=`${t}px`}),e(this,"setImageSizeAndOffset",(e,t)=>{if(!this.usingSprites)return;let n=this.thumbContainerHeight/t.h;e.style.height=e.naturalHeight*n+"px",e.style.width=e.naturalWidth*n+"px",e.style.left=`-${t.x*n}px`,e.style.top=`-${t.y*n}px`}),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){let{height:e}=eY(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}let e0={insertElements(e,t){S.string(t)?N(e,this.media,{src:t}):S.array(t)&&t.forEach(t=>{N(e,this.media,t)})},change(e){M(e,"sources.length")?(ef.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],D(this.media),this.media=null,S.element(this.elements.container)&&this.elements.container.removeAttribute("class");let{sources:t,type:n}=e,[{provider:r=eO.html5,src:i}]=t;Object.assign(this,{provider:r,type:n,supported:G.check(n,r,this.config.playsinline),media:A("html5"===r?n:"div","html5"===r?{}:{src:i})}),this.elements.container.appendChild(this.media),S.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),S.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),eB.addStyleHook.call(this),this.isHTML5&&e0.insertElements.call(this,"source",t),this.config.title=e.title,eQ.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&e0.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&eB.build.call(this),this.isHTML5&&this.media.load(),S.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new eX(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class e1{constructor(t,n){if(e(this,"play",()=>S.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>ei(this.media.play())),this.media.play()):null),e(this,"pause",()=>this.playing&&S.function(this.media.pause)?this.media.pause():null),e(this,"togglePlay",e=>(S.boolean(e)?e:!this.playing)?this.play():this.pause()),e(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):S.function(this.media.stop)&&this.media.stop()}),e(this,"restart",()=>{this.currentTime=0}),e(this,"rewind",e=>{this.currentTime-=S.number(e)?e:this.config.seekTime}),e(this,"forward",e=>{this.currentTime+=S.number(e)?e:this.config.seekTime}),e(this,"increaseVolume",e=>{let t=this.media.muted?0:this.volume;this.volume=t+(S.number(e)?e:0)}),e(this,"decreaseVolume",e=>{this.increaseVolume(-e)}),e(this,"airplay",()=>{G.airplay&&this.media.webkitShowPlaybackTargetPicker()}),e(this,"toggleControls",e=>{if(this.supported.ui&&!this.isAudio){let t=V(this.elements.container,this.config.classNames.hideControls),n=H(this.elements.container,this.config.classNames.hideControls,void 0===e?void 0:!e);return n&&S.array(this.config.controls)&&this.config.controls.includes("settings")&&!S.empty(this.config.settings)&&ej.toggleMenu.call(this,!1),n!==t&&et.call(this,this.media,n?"controlshidden":"controlsshown"),!n}return!1}),e(this,"on",(e,t)=>{Y.call(this,this.elements.container,e,t)}),e(this,"once",(e,t)=>{ee.call(this,this.elements.container,e,t)}),e(this,"off",(e,t)=>{X(this.elements.container,e,t)}),e(this,"destroy",(e,t=!1)=>{if(!this.ready)return;let n=()=>{document.body.style.overflow="",this.embed=null,t?(Object.keys(this.elements).length&&(D(this.elements.buttons.play),D(this.elements.captions),D(this.elements.controls),D(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),S.function(e)&&e()):(en.call(this),ef.cancelRequests.call(this),F(this.elements.original,this.elements.container),et.call(this,this.elements.original,"destroyed",!0),S.function(e)&&e.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(eB.toggleNativeControls.call(this,!0),n()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&S.function(this.embed.destroy)&&this.embed.destroy(),n()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(n),setTimeout(n,200))}),e(this,"supports",e=>G.mime.call(this,e)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=G.touch,this.media=t,S.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||S.nodeList(this.media)||S.array(this.media))&&(this.media=this.media[0]),this.config=R({},eR,e1.defaults,n||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(e){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new eD(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",G),S.nullOrUndefined(this.media)||!S.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!G.check().api)return void this.debug.error("Setup failed: no support");let r=this.media.cloneNode(!0);r.autoplay=!1,this.elements.original=r;let i=this.media.tagName.toLowerCase(),a=null,o=null;switch(i){case"div":if(a=this.media.querySelector("iframe"),S.element(a)){var s;if(o=eL(a.getAttribute("src")),this.provider=(s=o.toString(),/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(s)?eO.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(s)?eO.vimeo:null),this.elements.container=this.media,this.media=a,this.elements.container.className="",o.search.length){let l=["1","true"];l.includes(o.searchParams.get("autoplay"))&&(this.config.autoplay=!0),l.includes(o.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=l.includes(o.searchParams.get("playsinline")),this.config.youtube.hl=o.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(S.empty(this.provider)||!Object.values(eO).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=eA;break;case"video":case"audio":this.type=i,this.provider=eO.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=G.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new eU(this),this.storage=new ex(this),this.media.plyr=this,S.element(this.elements.container)||(this.elements.container=A("div"),I(this.media,this.elements.container)),eB.migrateStyles.call(this),eB.addStyleHook.call(this),eQ.setup.call(this),this.config.debug&&Y.call(this,this.elements.container,this.config.events.join(" "),e=>{this.debug.log(`event: ${e.type}`)}),this.fullscreen=new eq(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&eB.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new eG(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>ei(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new eX(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===eO.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===eO.youtube}get isVimeo(){return this.provider===eO.vimeo}get isVideo(){return this.type===eA}get isAudio(){return"audio"===this.type}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(e){if(!this.duration)return;let t=S.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){let{buffered:e}=this.media;return S.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){let e=parseFloat(this.config.duration),t=(this.media||{}).duration,n=S.number(t)&&t!==1/0?t:0;return e||n}set volume(e){let t=e;S.string(t)&&(t=Number(t)),S.number(t)||(t=this.storage.get("volume")),S.number(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!S.empty(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;S.boolean(t)||(t=this.storage.get("muted")),S.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e){let t=null;S.number(e)&&(t=e),S.number(t)||(t=this.storage.get("speed")),S.number(t)||(t=this.config.speed.selected);let{minimumSpeed:n,maximumSpeed:r}=this;t=eK(t,n,r),this.config.speed.selected=t,setTimeout(()=>{this.media&&(this.media.playbackRate=t)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){let t=this.config.quality,n=this.options.quality;if(!n.length)return;let r=[!S.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(S.number),i=!0;if(!n.includes(r)){let a=eo(n,r);this.debug.warn(`Unsupported quality option: ${r}, using ${a} instead`),r=a,i=!1}t.selected=r,this.media.quality=r,i&&this.storage.set({quality:r})}get quality(){return this.media.quality}set loop(e){let t=S.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return Boolean(this.media.loop)}set source(e){e0.change.call(this,e)}get source(){return this.media.currentSrc}get download(){let{download:e}=this.config.urls;return S.url(e)?e:this.source}set download(e){S.url(e)&&(this.config.urls.download=e,ej.setDownloadUrl.call(this))}set poster(e){this.isVideo?eB.setPoster.call(this,e,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;let e=ec(ed.call(this));return S.array(e)?e.join(":"):e}set ratio(e){this.isVideo?S.string(e)&&eu(e)?(this.config.ratio=ec(e),eh.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=S.boolean(e)?e:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(e){eM.toggle.call(this,e,!1)}set currentTrack(e){eM.set.call(this,e,!1),eM.setup.call(this)}get currentTrack(){let{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){eM.setLanguage.call(this,e,!1)}get language(){return(eM.getCurrentTrack.call(this)||{}).language}set pip(e){if(!G.pip)return;let t=S.boolean(e)?e:!this.pip;S.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?eI:"inline"),S.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return G.pip?S.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===eI:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new eX(this))}static supported(e,t){return G.check(e,t)}static loadSprite(e,t){return ek(e,t)}static setup(e,t={}){let n=null;return S.string(e)?n=Array.from(document.querySelectorAll(e)):S.nodeList(e)?n=Array.from(e):S.array(e)&&(n=e.filter(S.element)),S.empty(n)?null:n.map(e=>new e1(e,t))}}return e1.defaults=JSON.parse(JSON.stringify(eR)),e1}())},92703:function(e,t,n){"use strict";var r=n(50414);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},95856:function(){},86243:function(){},24604:function(e,t,n){"use strict";n.d(t,{v:function(){return F}});var r,i,a,o,s=n(67294),l=n(32984),u=n(12351),c=n(9362),d=n(94192),h=n(16723),p=n(23784),f=n(19946),m=n(61363),v=((r=v||{})[r.First=0]="First",r[r.Previous=1]="Previous",r[r.Next=2]="Next",r[r.Last=3]="Last",r[r.Specific=4]="Specific",r[r.Nothing=5]="Nothing",r),g=n(64103),y=n(84575),b=n(39650),w=n(15466),x=n(16567),_=n(14157),k=n(51074),T=n(73781);function E(e){return[e.screenX,e.screenY]}let C=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function S(e){var t,n;let r=null!=(t=e.innerText)?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let a=!1;for(let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),a=!0;let s=a?null!=(n=i.innerText)?n:"":r;return C.test(s)&&(s=s.replace(C,"")),s}var j=((i=j||{})[i.Open=0]="Open",i[i.Closed=1]="Closed",i),L=((a=L||{})[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a),P=((o=P||{})[o.OpenMenu=0]="OpenMenu",o[o.CloseMenu=1]="CloseMenu",o[o.GoToItem=2]="GoToItem",o[o.Search=3]="Search",o[o.ClearSearch=4]="ClearSearch",o[o.RegisterItem=5]="RegisterItem",o[o.UnregisterItem=6]="UnregisterItem",o);function M(e,t=e=>e){let n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,r=(0,y.z2)(t(e.items.slice()),e=>e.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return -1===i&&(i=null),{items:r,activeItemIndex:i}}let R={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,__demoMode:!1,menuState:0},2:(e,t)=>{var n;let r=M(e),i=function(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=null!=r?r:-1,a=(()=>{switch(e.focus){case 0:return n.findIndex(e=>!t.resolveDisabled(e));case 1:{let r=n.slice().reverse().findIndex((e,n,r)=>(-1===i||!(r.length-n-1>=i))&&!t.resolveDisabled(e));return -1===r?r:n.length-1-r}case 2:return n.findIndex((e,n)=>!(n<=i)&&!t.resolveDisabled(e));case 3:{let a=n.slice().reverse().findIndex(e=>!t.resolveDisabled(e));return -1===a?a:n.length-1-a}case 4:return n.findIndex(n=>t.resolveId(n)===e.id);case 5:return null;default:!function(e){throw Error("Unexpected object: "+e)}(e)}})();return -1===a?r:a}(t,{resolveItems:()=>r.items,resolveActiveIndex:()=>r.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeItemIndex:i,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find(e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))&&!e.dataRef.current.disabled}),a=i?e.items.indexOf(i):-1;return -1===a||a===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:a,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let n=M(e,e=>[...e,{id:t.id,dataRef:t.dataRef}]);return{...e,...n}},6:(e,t)=>{let n=M(e,e=>{let n=e.findIndex(e=>e.id===t.id);return -1!==n&&e.splice(n,1),e});return{...e,...n,activationTrigger:1}}},I=(0,s.createContext)(null);function O(e){let t=(0,s.useContext)(I);if(null===t){let n=Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,O),n}return t}function A(e,t){return(0,l.E)(t.type,R,e,t)}I.displayName="MenuContext";let N=s.Fragment,D=u.AN.RenderStrategy|u.AN.Static,q=s.Fragment,F=Object.assign((0,u.yV)(function(e,t){let{__demoMode:n=!1,...r}=e,i=(0,s.useReducer)(A,{__demoMode:n,menuState:n?0:1,buttonRef:(0,s.createRef)(),itemsRef:(0,s.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:a,itemsRef:o,buttonRef:c},d]=i,h=(0,p.T)(t);(0,b.O)([c,o],(e,t)=>{var n;d({type:1}),(0,y.sP)(t,y.tJ.Loose)||(e.preventDefault(),null==(n=c.current)||n.focus())},0===a);let f=(0,T.z)(()=>{d({type:1})}),m=(0,s.useMemo)(()=>({open:0===a,close:f}),[a,f]);return s.createElement(I.Provider,{value:i},s.createElement(x.up,{value:(0,l.E)(a,{0:x.ZM.Open,1:x.ZM.Closed})},(0,u.sY)({ourProps:{ref:h},theirProps:r,slot:m,defaultTag:N,name:"Menu"})))}),{Button:(0,u.yV)(function(e,t){var n;let r=(0,f.M)(),{id:i=`headlessui-menu-button-${r}`,...a}=e,[o,l]=O("Menu.Button"),c=(0,p.T)(o.buttonRef,t),h=(0,d.G)(),y=(0,T.z)(e=>{switch(e.key){case m.R.Space:case m.R.Enter:case m.R.ArrowDown:e.preventDefault(),e.stopPropagation(),l({type:0}),h.nextFrame(()=>l({type:2,focus:v.First}));break;case m.R.ArrowUp:e.preventDefault(),e.stopPropagation(),l({type:0}),h.nextFrame(()=>l({type:2,focus:v.Last}))}}),b=(0,T.z)(e=>{e.key===m.R.Space&&e.preventDefault()}),w=(0,T.z)(t=>{if((0,g.P)(t.currentTarget))return t.preventDefault();e.disabled||(0===o.menuState?(l({type:1}),h.nextFrame(()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})})):(t.preventDefault(),l({type:0})))}),x=(0,s.useMemo)(()=>({open:0===o.menuState}),[o]),k={ref:c,id:i,type:(0,_.f)(e,o.buttonRef),"aria-haspopup":"menu","aria-controls":null==(n=o.itemsRef.current)?void 0:n.id,"aria-expanded":e.disabled?void 0:0===o.menuState,onKeyDown:y,onKeyUp:b,onClick:w};return(0,u.sY)({ourProps:k,theirProps:a,slot:x,defaultTag:"button",name:"Menu.Button"})}),Items:(0,u.yV)(function(e,t){var n,r;let i=(0,f.M)(),{id:a=`headlessui-menu-items-${i}`,...o}=e,[l,g]=O("Menu.Items"),b=(0,p.T)(l.itemsRef,t),_=(0,k.i)(l.itemsRef),E=(0,d.G)(),C=(0,x.oJ)(),S=null!==C?(C&x.ZM.Open)===x.ZM.Open:0===l.menuState;(0,s.useEffect)(()=>{let e=l.itemsRef.current;e&&0===l.menuState&&e!==(null==_?void 0:_.activeElement)&&e.focus({preventScroll:!0})},[l.menuState,l.itemsRef,_]),function({container:e,accept:t,walk:n,enabled:r=!0}){let i=(0,s.useRef)(t),a=(0,s.useRef)(n);(0,s.useEffect)(()=>{i.current=t,a.current=n},[t,n]),(0,h.e)(()=>{if(!e||!r)return;let t=(0,w.r)(e);if(!t)return;let n=i.current,o=a.current,s=Object.assign(e=>n(e),{acceptNode:n}),l=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,s,!1);for(;l.nextNode();)o(l.currentNode)},[e,r,i,a])}({container:l.itemsRef.current,enabled:0===l.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let j=(0,T.z)(e=>{var t,n;switch(E.dispose(),e.key){case m.R.Space:if(""!==l.searchQuery)return e.preventDefault(),e.stopPropagation(),g({type:3,value:e.key});case m.R.Enter:if(e.preventDefault(),e.stopPropagation(),g({type:1}),null!==l.activeItemIndex){let{dataRef:r}=l.items[l.activeItemIndex];null==(n=null==(t=r.current)?void 0:t.domRef.current)||n.click()}(0,y.wI)(l.buttonRef.current);break;case m.R.ArrowDown:return e.preventDefault(),e.stopPropagation(),g({type:2,focus:v.Next});case m.R.ArrowUp:return e.preventDefault(),e.stopPropagation(),g({type:2,focus:v.Previous});case m.R.Home:case m.R.PageUp:return e.preventDefault(),e.stopPropagation(),g({type:2,focus:v.First});case m.R.End:case m.R.PageDown:return e.preventDefault(),e.stopPropagation(),g({type:2,focus:v.Last});case m.R.Escape:e.preventDefault(),e.stopPropagation(),g({type:1}),(0,c.k)().nextFrame(()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})});break;case m.R.Tab:e.preventDefault(),e.stopPropagation(),g({type:1}),(0,c.k)().nextFrame(()=>{(0,y.EO)(l.buttonRef.current,e.shiftKey?y.TO.Previous:y.TO.Next)});break;default:1===e.key.length&&(g({type:3,value:e.key}),E.setTimeout(()=>g({type:4}),350))}}),L=(0,T.z)(e=>{e.key===m.R.Space&&e.preventDefault()}),P=(0,s.useMemo)(()=>({open:0===l.menuState}),[l]),M={"aria-activedescendant":null===l.activeItemIndex||null==(n=l.items[l.activeItemIndex])?void 0:n.id,"aria-labelledby":null==(r=l.buttonRef.current)?void 0:r.id,id:a,onKeyDown:j,onKeyUp:L,role:"menu",tabIndex:0,ref:b};return(0,u.sY)({ourProps:M,theirProps:o,slot:P,defaultTag:"div",features:D,visible:S,name:"Menu.Items"})}),Item:(0,u.yV)(function(e,t){let n,r,i,a=(0,f.M)(),{id:o=`headlessui-menu-item-${a}`,disabled:l=!1,...d}=e,[m,g]=O("Menu.Item"),b=null!==m.activeItemIndex&&m.items[m.activeItemIndex].id===o,w=(0,s.useRef)(null),x=(0,p.T)(t,w);(0,h.e)(()=>{if(m.__demoMode||0!==m.menuState||!b||0===m.activationTrigger)return;let e=(0,c.k)();return e.requestAnimationFrame(()=>{var e,t;null==(t=null==(e=w.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})}),e.dispose},[m.__demoMode,w,b,m.menuState,m.activationTrigger,m.activeItemIndex]);let _=(n=(0,s.useRef)(""),r=(0,s.useRef)(""),(0,T.z)(()=>{let e=w.current;if(!e)return"";let t=e.innerText;if(n.current===t)return r.current;let i=(function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(e=>{let t=document.getElementById(e);if(t){let n=t.getAttribute("aria-label");return"string"==typeof n?n.trim():S(t).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return S(e).trim()})(e).trim().toLowerCase();return n.current=t,r.current=i,i})),k=(0,s.useRef)({disabled:l,domRef:w,get textValue(){return _()}});(0,h.e)(()=>{k.current.disabled=l},[k,l]),(0,h.e)(()=>(g({type:5,id:o,dataRef:k}),()=>g({type:6,id:o})),[k,o]);let C=(0,T.z)(()=>{g({type:1})}),j=(0,T.z)(e=>{if(l)return e.preventDefault();g({type:1}),(0,y.wI)(m.buttonRef.current)}),L=(0,T.z)(()=>{if(l)return g({type:2,focus:v.Nothing});g({type:2,focus:v.Specific,id:o})}),P=(i=(0,s.useRef)([-1,-1]),{wasMoved(e){let t=E(e);return(i.current[0]!==t[0]||i.current[1]!==t[1])&&(i.current=t,!0)},update(e){i.current=E(e)}}),M=(0,T.z)(e=>P.update(e)),R=(0,T.z)(e=>{P.wasMoved(e)&&(l||b||g({type:2,focus:v.Specific,id:o,trigger:0}))}),I=(0,T.z)(e=>{P.wasMoved(e)&&(l||b&&g({type:2,focus:v.Nothing}))}),A=(0,s.useMemo)(()=>({active:b,disabled:l,close:C}),[b,l,C]);return(0,u.sY)({ourProps:{id:o,ref:x,role:"menuitem",tabIndex:!0===l?void 0:-1,"aria-disabled":!0===l||void 0,disabled:void 0,onClick:j,onFocus:L,onPointerEnter:M,onMouseEnter:M,onPointerMove:R,onMouseMove:R,onPointerLeave:I,onMouseLeave:I},theirProps:d,slot:A,defaultTag:q,name:"Menu.Item"})})})},14157:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var r=n(67294),i=n(16723);function a(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";if("string"==typeof n&&"button"===n.toLowerCase())return"button"}function o(e,t){let[n,o]=(0,r.useState)(()=>a(e));return(0,i.e)(()=>{o(a(e))},[e.type,e.as]),(0,i.e)(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&o("button")},[n,t]),n}},61998:function(e,t,n){"use strict";var r=n(67294);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 01-.923 1.785A5.969 5.969 0 006 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337z"}))});t.Z=i},10050:function(e,t,n){"use strict";var r=n(67294);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))});t.Z=i},62940:function(e,t,n){"use strict";var r=n(67294);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))});t.Z=i},93832:function(e,t,n){"use strict";var r=n(67294);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0118 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0118 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 016 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"}))});t.Z=i},23:function(e,t,n){"use strict";var r=n(67294);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"}))});t.Z=i},56186:function(e,t,n){"use strict";var r=n(67294);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"}))});t.Z=i},89814:function(e,t,n){"use strict";var r=n(67294);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"}))});t.Z=i},28166:function(e,t,n){"use strict";var r=n(67294);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 11-.99-3.467l2.31-.66a2.25 2.25 0 001.632-2.163zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 01-.99-3.467l2.31-.66A2.25 2.25 0 009 15.553z"}))});t.Z=i},83436:function(e,t,n){"use strict";var r=n(67294);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))});t.Z=i},21321:function(e,t,n){"use strict";var r=n(67294);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"}))});t.Z=i},76249:function(e,t,n){"use strict";var r=n(67294);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"}))});t.Z=i},7543:function(e,t,n){"use strict";var r=n(67294);let i=r.forwardRef(function({title:e,titleId:t,...n},i){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"}))});t.Z=i},93189:function(e,t,n){"use strict";n.d(t,{a:function(){return b}});var r=n(30065),i=n(19005),a=n(67294),o=n(14034),s=n(464),l=n(91784),u=n(85945),c=n(37122),d=n(24798);let h=(e,t)=>{(e.suspense||e.useErrorBoundary)&&!t.isReset()&&(e.retryOnMount=!1)},p=e=>{a.useEffect(()=>{e.clearReset()},[e])},f=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&(0,d.L)(n,[e.error,r]),m=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},v=(e,t)=>e.isLoading&&e.isFetching&&!t,g=(e,t,n)=>(null==e?void 0:e.suspense)&&v(t,n),y=(e,t,n)=>t.fetchOptimistic(e).then(({data:t})=>{null==e.onSuccess||e.onSuccess(t),null==e.onSettled||e.onSettled(t,null)}).catch(t=>{n.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)});function b(e,t,n){let d=(0,r._v)(e,t,n);return function(e,t){let n=(0,u.NL)({context:e.context}),r=(0,c.S)(),i=(0,l._)(),d=n.defaultQueryOptions(e);d._optimisticResults=r?"isRestoring":"optimistic",d.onError&&(d.onError=o.V.batchCalls(d.onError)),d.onSuccess&&(d.onSuccess=o.V.batchCalls(d.onSuccess)),d.onSettled&&(d.onSettled=o.V.batchCalls(d.onSettled)),m(d),h(d,i),p(i);let[v]=a.useState(()=>new t(n,d)),b=v.getOptimisticResult(d);if((0,s.$)(a.useCallback(e=>{let t=r?()=>void 0:v.subscribe(o.V.batchCalls(e));return v.updateResult(),t},[v,r]),()=>v.getCurrentResult(),()=>v.getCurrentResult()),a.useEffect(()=>{v.setOptions(d,{listeners:!1})},[d,v]),g(d,b,r))throw y(d,v,i);if(f({result:b,errorResetBoundary:i,useErrorBoundary:d.useErrorBoundary,query:v.getCurrentQuery()}))throw b.error;return d.notifyOnChangeProps?b:v.trackResult(b)}(d,i.z)}}},function(e){e.O(0,[4980,2013,5445,9866,1228,9498,3874,6556,8179,4355,5937,9412,4617,3609,1664,1618,1692,2697,2100,8649,3775,1257,2438,9090,1604,4193,8476,5333,3581,6781,4732,674,6550,9774,2888,179],function(){return e(e.s=8266)}),_N_E=e.O()}]);