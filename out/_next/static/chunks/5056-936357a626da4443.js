"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5056],{93865:function(e,t,n){n.d(t,{Z:function(){return es}});var a=n(85893),l=n(67294),i=n(52442),s=n(16175),o=n(37331);let r=[{inputs:[{internalType:"address",name:"hub",type:"address"},{internalType:"address",name:"moduleGlobals",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"FollowInvalid",type:"error"},{inputs:[],name:"InitParamsInvalid",type:"error"},{inputs:[],name:"InvalidParameters",type:"error"},{inputs:[],name:"ModuleDataMismatch",type:"error"},{inputs:[],name:"NotHub",type:"error"},{inputs:[],name:"NotOwnerOrApproved",type:"error"},{inputs:[],name:"OnlyOwner",type:"error"},{inputs:[],name:"SignatureExpired",type:"error"},{inputs:[],name:"SignatureInvalid",type:"error"},{inputs:[],name:"ZeroSpender",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"pubId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address",name:"currency",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint16",name:"referralFee",type:"uint16"},{indexed:!1,internalType:"bool",name:"followerOnly",type:"bool"}],name:"ModuleParametersUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"HUB",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"MODULE_GLOBALS",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"burnWithSig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"pubId",type:"uint256"}],name:"getPublicationData",outputs:[{components:[{internalType:"uint256",name:"ownershipTokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint16",name:"referralFee",type:"uint16"},{internalType:"bool",name:"followerOnly",type:"bool"}],internalType:"struct ProfilePublicationData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"pubId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"initializePublicationCollectModule",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"mintTimestampOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"permitForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"referrerProfileId",type:"uint256"},{internalType:"address",name:"collector",type:"address"},{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"pubId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"processCollect",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"sigNonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenDataOf",outputs:[{components:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint96",name:"mintTimestamp",type:"uint96"}],internalType:"struct IERC721Time.TokenData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"pubId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint16",name:"referralFee",type:"uint16"},{internalType:"bool",name:"followerOnly",type:"bool"}],name:"updateModuleParameters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"pubId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint16",name:"referralFee",type:"uint16"},{internalType:"bool",name:"followerOnly",type:"bool"},{internalType:"address",name:"operator",type:"address"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"updateModuleParametersWithSig",outputs:[],stateMutability:"nonpayable",type:"function"}];var d=n(21273),u=n(25675),p=n.n(u),y=n(9747),c=n(72329),m=n(33962);let v=()=>(0,a.jsx)("span",{className:"flex justify-center p-5",children:(0,a.jsx)(m.$,{size:"sm"})});var b=n(58533),f=n(29451),x=n(41664),h=n.n(x);let T=e=>{var t,n,l;let{publicationId:i}=e,s={publicationId:i,limit:10},{data:o,loading:r,error:u,fetchMore:m}=(0,d.BI)({variables:{request:s},skip:!i}),x=null==o?void 0:null===(t=o.whoCollectedPublication)||void 0===t?void 0:t.items,T=null==o?void 0:null===(n=o.whoCollectedPublication)||void 0===n?void 0:n.pageInfo,g=(null==T?void 0:T.next)&&(null==x?void 0:x.length)!==T.totalCount,w=async()=>{await m({variables:{request:{...s,cursor:null==T?void 0:T.next}}})};return r?(0,a.jsx)(y.Z,{message:"Loading collectors"}):(null==x?void 0:x.length)===0?(0,a.jsx)("div",{className:"p-5",children:"No Collectors"}):(0,a.jsx)("div",{className:"overflow-y-auto max-h-[80vh]",id:"scrollableDiv",children:(0,a.jsx)(b.Z,{dataLength:null!==(l=null==x?void 0:x.length)&&void 0!==l?l:0,scrollThreshold:.5,hasMore:g,next:w,loader:(0,a.jsx)(v,{}),scrollableTarget:"scrollableDiv",children:(0,a.jsx)("div",{className:"divide-y",children:null==x?void 0:x.map(e=>{var t,n,l,i,s;return(0,a.jsx)(h(),{href:"/u/".concat(null==e?void 0:null===(t=e.defaultProfile)||void 0===t?void 0:t.id),children:(0,a.jsx)("div",{className:"p-5",children:(null==e?void 0:e.defaultProfile)?(0,a.jsxs)("div",{className:"flex gap-3 p-2 cursor-pointer font-semibold rounded items-center",children:[(0,a.jsx)("div",{children:(0,a.jsx)(p(),{width:40,height:40,className:"rounded-full cursor-pointer",src:(0,c.Z)(null==e?void 0:e.defaultProfile),alt:null==e?void 0:null===(n=e.defaultProfile)||void 0===n?void 0:n.handle})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"flex gap-1 items-center text-md font-bold text-primary lowercase",children:null==e?void 0:null===(l=e.defaultProfile)||void 0===l?void 0:l.name}),(0,a.jsxs)("p",{className:"capitalize text-gray-400 text-xs",children:[(0,f.Z)(null==e?void 0:null===(i=e.defaultProfile)||void 0===i?void 0:i.handle)," ",""]})]})]}):null},null==e?void 0:e.address)},null==e?void 0:null===(s=e.defaultProfile)||void 0===s?void 0:s.id)})})})})};var g=n(29780),w=n(64208),j=n(39321);let M=e=>{switch(e){case"WMATIC":default:return j.hb;case"WETH":return"0x7ceb23fd6bc0add59e62ac25578270cff1b9f619";case"USDC":return"0x2791bca1f2de4661ed88a30c99a7a9449aa84174";case"DAI":return"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063";case"NCT":return"0xD838290e877E0188a4A44700463419ED96c16107"}};var N=n(6154);let k=async e=>{try{let t=await (0,N.Z)("https://api.coingecko.com/api/v3/simple/token_price/polygon-pos",{method:"GET",params:{contract_addresses:e,vs_currencies:"usd"}});return t.data[e].usd}catch(n){return 0}};var I=n(65475),F=n(9187),C=n(15209),Z=n(13250),S=n(7543),A=n(48987),P=n(85837),E=n(20445),O=n(97535),D=n(10050),B=n(56371),q=n(86501),L=n(54524);let U=e=>"".concat("https://asset.lenshareapp.xyz/images","/tokens/").concat(null==e?void 0:e.toLowerCase(),".svg"),_=e=>{switch(e){case s.pYo.UnknownCollectModule:return{name:"Unknown Collect",field:"collectModule",helper:"The Unknown Collect Module is unknown and not type supported in the API."};case s.pYo.FeeCollectModule:return{name:"Fee Collect",field:"collectModule",helper:"The Fee Collect Module allows for any follower to collect the associated publication provided they pay a fee set by the poster."};case s.pYo.LimitedFeeCollectModule:return{name:"Limited Fee Collect",field:"collectModule",helper:"The Limited Fee Collect Module allows for any follower to collect the associated publication, provided they pay a fee, up to a specific limit of mints."};case s.pYo.TimedFeeCollectModule:return{name:"Timed Fee Collect",field:"collectModule",helper:"The Timed Fee Collect Module allows for any follower to collect the associated publication, provided they pay a fee, up to a specific time limit. The present whitelisted Timed Fee Collect module only has a 24-hour time limit to reduce gas usage and optimize efficiency."};case s.pYo.LimitedTimedFeeCollectModule:return{name:"Limited Time Fee Collect",field:"collectModule",helper:"The Limited Timed Fee Collect Module allows for any follower to collect the associate publication, provided they pay a fee, up to a specific time limit and mint cap. It is essentially a combination of the Timed Fee Collect Module and the Limited Fee Collect Module."};case s.pYo.FreeCollectModule:return{name:"Free Collect",field:"collectModule",helper:"The Free Collect Module allows any profile to collect the publication this module is attached to."};case s.pYo.RevertCollectModule:return{name:"Revert Collect",field:"collectModule",helper:"The Revert Collect Module causes all collect actions on a given publication to fail, thus making the publication uncollectable."};case s.wKL.FeeFollowModule:return{name:"Fee Follow",field:"followModule",helper:"The Fee Follow Module only allows addresses to follow a given profile, so long as they pay a fee specified by the profile owner. Users can set the currency and amount required to be paid."};case s._9N.FollowerOnlyReferenceModule:return{name:"Follower Only Reference",field:"referenceModule",helper:"The Follower Only Reference Module ensures that only a profile is only allowed to mirror or comment on content."};default:return{name:e,field:"collectModule",helper:"Others"}}};j.Op;var R=n(14348),Y=n(88005);let z=e=>{let{module:t,title:n}=e,[i,s]=(0,l.useState)((null==t?void 0:t.allowance)!=="0x00"),[o,{loading:r}]=(0,d.Dw)(),{data:u,isLoading:p,sendTransaction:y}=(0,L.pQ)({request:{},mode:"recklesslyUnprepared",onError:F.Z}),{isLoading:c}=(0,L.BX)({hash:null==u?void 0:u.hash,onSuccess:()=>{q.Am.success("Modude ".concat(i?"disabled":"enabled"," successfully!")),s(!i)},onError:F.Z}),v=(e,n,a)=>{o({variables:{request:{currency:e,value:n,[_(t.module).field]:a}}}).then(e=>{var t;let n=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.generateModuleCurrencyApprovalData;null==y||y({recklesslySetUnpreparedRequest:{from:null==n?void 0:n.from,to:null==n?void 0:n.to,data:null==n?void 0:n.data}})})};return i?(0,a.jsx)(g.z,{variant:"warning",icon:r||p||c?(0,a.jsx)(m.$,{variant:"warning",size:"xs"}):(0,a.jsx)(R.Z,{className:"w-4 h-4"}),onClick:()=>v(t.currency,"0",t.module),children:"Revoke"}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(g.z,{variant:"success",icon:r||p||c?(0,a.jsx)(m.$,{variant:"success",size:"xs"}):(0,a.jsx)(Y.Z,{className:"w-4 h-4"}),onClick:()=>v(t.currency,Number.MAX_SAFE_INTEGER.toString(),t.module),children:n})})};var H=n(27484),$=n.n(H),W=n(86010),G=n(75012);let V=e=>{let{type:t="Transaction",txHash:n,reload:i=!1}=e,[s,o]=(0,l.useState)(!1),[r,u]=(0,l.useState)(500),{data:p,loading:y}=(0,d.BS)({variables:{request:{txHash:n}},pollInterval:r,onCompleted:e=>{var t;"TransactionIndexedResult"===e.hasTxHashBeenIndexed.__typename&&(null==e?void 0:null===(t=e.hasTxHashBeenIndexed)||void 0===t?void 0:t.indexed)&&(u(0),i&&location.reload(),setTimeout(()=>{o(!0)},5e3))}});return(0,a.jsx)("a",{className:(0,W.Z)({hidden:s},"ml-auto text-sm font-medium"),href:"".concat(j.Bq,"/tx/").concat(n),target:"_blank",rel:"noreferrer noopener",children:!y&&((null==p?void 0:p.hasTxHashBeenIndexed.__typename)!=="TransactionIndexedResult"||(null==p?void 0:p.hasTxHashBeenIndexed.indexed))?(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(G.Z,{className:"w-5 h-5 text-green-500"}),(0,a.jsx)("div",{className:"text-black dark:text-white",children:"Index Successful"})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,a.jsx)(m.$,{size:"xs"}),(0,a.jsxs)("div",{children:[t," Indexing"]})]})})};var K=n(3689);let X=e=>{var t,n,i,u,c,v,b,f,x,h,N,_,R,Y,H,W,G,X,J,Q,ee,et,en,ea,el,ei,es,eo,er,ed,eu,ep,ey,ec,em,ev;let{publication:eb,setCount:ef,count:ex}=e,eh=(0,C.qr)(e=>e.userSigNonce),eT=(0,C.qr)(e=>e.setUserSigNonce),eg=(0,C.qr)(e=>e.currentProfile),[ew,ej]=(0,l.useState)(0),[eM,eN]=(0,l.useState)(null==eb?void 0:eb.hasCollectedByMe),[ek,eI]=(0,l.useState)(!1),[eF,eC]=(0,l.useState)(!0),[eZ,eS]=(0,l.useState)(0),{address:eA}=(0,L.mA)(),{isLoading:eP,signTypedDataAsync:eE}=(0,L.yw)({onError:F.Z}),{data:eO,loading:eD}=(0,d.EE)({variables:{request:{publicationId:null==eb?void 0:eb.id}}}),eB=null==eO?void 0:null===(t=eO.publication)||void 0===t?void 0:t.collectModule,eq=()=>{var e;ej(ew+parseFloat(null==eB?void 0:null===(e=eB.amount)||void 0===e?void 0:e.value)),ef(ex+1),eN(!0),q.ZP.success("Collect Successfully")},{isFetching:eL,refetch:eU}=(0,L.do)({address:j.cX,abi:r,functionName:"getPublicationData",args:[parseInt(null===(n=eb.profile)||void 0===n?void 0:n.id),parseInt(null==eb?void 0:eb.id.split("-")[1])],enabled:!1}),{data:e_,isLoading:eR,write:eY}=(0,L.GG)({address:j.Nm,abi:o.g,functionName:"collectWithSig",mode:"recklesslyUnprepared",onSuccess:eq,onError:F.Z}),ez=ex/parseInt(null==eB?void 0:eB.collectLimit)*100,{data:eH,loading:e$}=(0,d.Or)({variables:{request:{currencies:null==eB?void 0:null===(i=eB.amount)||void 0===i?void 0:null===(u=i.asset)||void 0===u?void 0:u.address,followModules:[],collectModules:null==eB?void 0:eB.type,referenceModules:[]}},skip:!(null==eB?void 0:null===(c=eB.amount)||void 0===c?void 0:null===(v=c.asset)||void 0===v?void 0:v.address)||!eg,onCompleted:e=>{var t;eC((null===(t=null==e?void 0:e.approvedModuleAllowanceAmount[0])||void 0===t?void 0:t.allowance)!=="0x00")}}),{data:eW,loading:eG}=(0,d.kV)({variables:{request:{publicationId:null==eb?void 0:eb.id}},pollInterval:5e3,skip:!(null==eb?void 0:eb.id)});(0,l.useEffect)(()=>{var e,t,n,a,l,i;ej(parseFloat(null!==(a=null==eW?void 0:null===(e=eW.publicationRevenue)||void 0===e?void 0:null===(t=e.revenue)||void 0===t?void 0:null===(n=t.total)||void 0===n?void 0:n.value)&&void 0!==a?a:0)),(null==eB?void 0:eB.amount)&&k(M(null==eB?void 0:null===(l=eB.amount)||void 0===l?void 0:null===(i=l.asset)||void 0===i?void 0:i.symbol)).then(e=>{eS(e)})},[null==eB?void 0:eB.amount,eW]);let{data:eV,isLoading:eK}=(0,L.KQ)({address:eA,token:null==eB?void 0:null===(b=eB.amount)||void 0===b?void 0:null===(f=b.asset)||void 0===f?void 0:f.address,formatUnits:null==eB?void 0:null===(x=eB.amount)||void 0===x?void 0:null===(h=x.asset)||void 0===h?void 0:h.decimals,watch:!0}),eX=!1;eX=!(eV&&parseFloat(null==eV?void 0:eV.formatted)<parseFloat(null==eB?void 0:null===(N=eB.amount)||void 0===N?void 0:N.value));let{broadcast:eJ,data:eQ,loading:e0}=(0,Z.Z)({onCompleted:eq}),[e2,{loading:e5}]=(0,d.Dt)({onCompleted:async e=>{let{createCollectTypedData:t}=e;try{let{id:n,typedData:a}=t,{profileId:l,pubId:i,data:s,deadline:o}=a.value,r=await eE((0,I.Z)(a)),{v:d,r:u,s:p}=(0,B.splitSignature)(r),y={collector:eA,profileId:l,pubId:i,data:s,sig:{v:d,r:u,s:p,deadline:o}};if(eT(eh+1),!j.fx)return null==eY?void 0:eY({recklesslySetUnpreparedArgs:[y]});let{data:{broadcast:c}}=await eJ({request:{id:n,signature:r}});"reason"in c&&(null==eY||eY({recklesslySetUnpreparedArgs:[y]}))}catch(m){}},onError:F.Z}),[e6,{loading:e1}]=(0,d.RI)({onCompleted:eq,onError:F.Z}),e3=async e=>{let{data:t}=await e6({variables:e});(null==t?void 0:t.proxyAction)||e2({variables:{request:{publicationId:null==eb?void 0:eb.id},options:{overrideSigNonce:eh}}})},e4=()=>{if(!eg)return q.ZP.error("Please connect your Wallet");(null==eB?void 0:eB.type)===s.pYo.FeeCollectModule?e3({request:{collect:{freeCollect:{publicationId:null==eb?void 0:eb.id}}}}):(null==eB?void 0:eB.__typename)==="UnknownCollectModuleSettings"?eU().then(e=>{let{data:t}=e;t&&(B.defaultAbiCoder.encode(["address","uint256"],[null==t?void 0:t[2],null==t?void 0:t[1]]),e2({variables:{options:{overrideSigNonce:eh},request:{publicationId:null==eb?void 0:eb.id,unknownModuleData:K.cv}}}))}):e2({variables:{options:{overrideSigNonce:eh},request:{publicationId:null==eb?void 0:eb.id}}})};if(eD||eG)return(0,a.jsx)(y.Z,{message:"Loading collect"});let e7=e5||e1||eP||eL||eR||e0;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(a.Fragment,{children:[((null==eB?void 0:eB.type)===s.pYo.LimitedFeeCollectModule||(null==eB?void 0:eB.type)===s.pYo.LimitedTimedFeeCollectModule)&&(0,a.jsx)("div",{className:"w-full h-2.5 bg-gray-200",children:(0,a.jsx)("div",{className:"h-2.5 bg-blue-500",style:{width:"".concat(ez,"%")}})}),(0,a.jsxs)("div",{className:"p-5",children:[(null==eB?void 0:eB.followerOnly)&&(0,a.jsx)("div",{className:"pb-5",children:"Follower Only Collect Module"}),(0,a.jsxs)("div",{className:"pb-2 space-y-1.5",children:[(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(null==eb?void 0:null===(_=eb.metadata)||void 0===_?void 0:_.name)&&(0,a.jsx)("div",{className:"text-xl font-bold",children:null==eb?void 0:null===(R=eb.metadata)||void 0===R?void 0:R.name})}),(null==eb?void 0:null===(Y=eb.metadata)||void 0===Y?void 0:Y.description)&&(0,a.jsx)("span",{className:"text-gray-500 line-clamp-2",children:null==eb?void 0:null===(H=eb.metadata)||void 0===H?void 0:H.description})]}),(null==eB?void 0:eB.amount)&&(0,a.jsxs)("div",{className:"flex items-center py-2 space-x-1.5",children:[(0,a.jsx)(p(),{className:"w-7 h-7",height:28,width:28,src:U(null==eB?void 0:null===(W=eB.amount)||void 0===W?void 0:null===(G=W.asset)||void 0===G?void 0:G.symbol),alt:null==eB?void 0:null===(X=eB.amount)||void 0===X?void 0:null===(J=X.asset)||void 0===J?void 0:J.symbol,title:null==eB?void 0:null===(Q=eB.amount)||void 0===Q?void 0:null===(ee=Q.asset)||void 0===ee?void 0:ee.symbol}),(0,a.jsxs)("span",{className:"space-x-1",children:[(0,a.jsx)("span",{className:"text-2x1 font-bold",children:eB.amount.value}),(0,a.jsx)("span",{className:"text-xs",children:null==eB?void 0:null===(et=eB.amount)||void 0===et?void 0:null===(en=et.asset)||void 0===en?void 0:en.symbol}),eZ?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-gray-500 px-0.5",children:"."}),(0,a.jsxs)("span",{children:["$",(eB.amount.value*eZ).toFixed(2)]})]}):null]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("div",{className:"block space-y-1 sm:flex sm:space-x-5 item-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(S.Z,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("span",{className:"font-bold text-xs cursor-pointer",onClick:()=>{eI(!ek)},children:[ex," Collectors"]}),(0,a.jsx)(w.u,{title:"Collected by",show:ek,onClose:()=>eI(!1),children:(0,a.jsx)(T,{publicationId:null==eb?void 0:eb.id})})]}),(null==eB?void 0:eB.collectLimit)&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(A.Z,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("div",{className:"font-bold",children:[parseInt(null==eB?void 0:eB.collectLimit)-ex," Avaliable"]})]}),(null==eB?void 0:eB.referralFee)?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(P.Z,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("div",{className:"font-bold",children:[eB.referralFee,"% Referral fee"]})]}):null]}),(null==eW?void 0:eW.publicationRevenue)&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(P.Z,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,a.jsx)("span",{children:"Revenue:"}),(0,a.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,a.jsx)(p(),{src:U(null==eB?void 0:null===(ea=eB.amount)||void 0===ea?void 0:null===(el=ea.asset)||void 0===el?void 0:el.symbol),className:"w-5 h-5",height:20,width:20,alt:null==eB?void 0:null===(ei=eB.amount)||void 0===ei?void 0:null===(es=ei.asset)||void 0===es?void 0:es.symbol,title:null==eB?void 0:null===(eo=eB.amount)||void 0===eo?void 0:null===(er=eo.asset)||void 0===er?void 0:er.symbol}),(0,a.jsxs)("div",{className:"flex items-baseline space-x-1.5",children:[(0,a.jsx)("div",{className:"font-bold",children:ew}),(0,a.jsx)("div",{className:"text-[10px]",children:null==eB?void 0:null===(ed=eB.amount)||void 0===ed?void 0:null===(eu=ed.asset)||void 0===eu?void 0:eu.symbol}),eZ?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"."}),(0,a.jsxs)("span",{className:"text-xs font-bold text-gray-500",children:["$",(ew*eZ).toFixed(2)]})]}):null]})]})]})]}),(null==eB?void 0:eB.endTimestamp)&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(E.Z,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("div",{className:"space-x-1.5",children:[(0,a.jsx)("span",{children:"Sale Ends:"}),(0,a.jsxs)("span",{className:"font-bold text-gray-600",children:[$()(eB.endTimestamp).format("MMMM DD, YYYY")," at"," ",$()(eB.endTimestamp).format("hh:mm a")]})]})]}),(null==eO?void 0:null===(ep=eO.publication)||void 0===ep?void 0:ep.collectNftAddress)&&(0,a.jsx)("div",{})]}),(null!==(em=null==e_?void 0:e_.hash)&&void 0!==em?em:null==eQ?void 0:null===(ey=eQ.broadcast)||void 0===ey?void 0:ey.txHash)?(0,a.jsx)("div",{children:(0,a.jsx)(V,{txHash:null!==(ev=null==e_?void 0:e_.hash)&&void 0!==ev?ev:null==eQ?void 0:null===(ec=eQ.broadcast)||void 0===ec?void 0:ec.txHash})}):null,(0,a.jsx)("div",{className:"flex items-center space-x-2 mt-5",children:eg&&!eM?e$||eK?(0,a.jsx)("div",{className:"w-28 round-lg h-[34px] shimmer"}):eF?eX?(0,a.jsx)(g.z,{className:"text-xs font-bold",onClick:e4,disabled:e7,icon:e7?(0,a.jsx)(m.$,{size:"xs"}):(0,a.jsx)(O.Z,{className:"w-4 h-4"}),children:"Collect now"}):"Not enough money":(0,a.jsx)(z,{title:"Allow collect module",module:null==eH?void 0:eH.approvedModuleAllowanceAmount[0],allowed:eF,setAllowed:eC}):null}),(null==eb?void 0:eb.hasCollectedByMe)&&(0,a.jsxs)("div",{className:"mt-3 font-bold text-green-500 flex items-center space-x-1.5",children:[(0,a.jsx)(D.Z,{className:"h-5 w-5"}),(0,a.jsx)("div",{children:"You already collected this"})]})]})]})})};var J=n(76781),Q=n(53901),ee=n(93559),et=n(34332),en=n(61452),ea=n(28771);let el=e=>{let{module:t,size:n}=e;switch(t){case J.pY.FeeCollectModule:return(0,a.jsx)(P.Z,{className:"h-".concat(n)});case J.pY.LimitedFeeCollectModule:return(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)(Q.Z,{className:"h-".concat(n)}),(0,a.jsx)(P.Z,{className:"h-".concat(n)})]});case J.pY.LimitedTimedFeeCollectModule:return(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)(Q.Z,{className:"h-".concat(n)}),(0,a.jsx)(E.Z,{className:"h-".concat(n)}),(0,a.jsx)(P.Z,{className:"h-".concat(n)})]});case J.pY.TimedFeeCollectModule:return(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)(E.Z,{className:"h-".concat(n)}),(0,a.jsx)(P.Z,{className:"h-".concat(n)})]});case J.pY.RevertCollectModule:return(0,a.jsx)(ee.Z,{className:"h-".concat(n)});case J.pY.FreeCollectModule:return(0,a.jsx)(et.Z,{className:"h-".concat(n)});case J.wK.FeeFollowModule:return(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)(P.Z,{className:"h-".concat(n)}),(0,a.jsx)(en.Z,{className:"h-".concat(n)})]});case J._9.FollowerOnlyReferenceModule:return(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[(0,a.jsx)(en.Z,{className:"h-".concat(n)}),(0,a.jsx)(ea.Z,{className:"h-".concat(n)})]});default:return(0,a.jsx)(P.Z,{className:"h-".concat(n)})}},ei=e=>{var t,n,o;let{publication:r}=e,[d,u]=(0,l.useState)(!1),[p,y]=(0,l.useState)(null==r?void 0:null===(t=r.stats)||void 0===t?void 0:t.totalAmountOfCollects),[c,m]=(0,l.useState)(!1),v=(null==r?void 0:r.collectModule.__typename)==="FreeCollectModuleSettings",b=(null==r?void 0:r.collectModule.__typename)==="UnknownCollectModuleSettings",f=(0,C.qr)(e=>e.currentProfile);return(0,l.useEffect)(()=>{(null==r?void 0:r.hasCollectedByMe)===!0?u(!0):u(!1),f||u(!1)},[null==r?void 0:r.hasCollectedByMe]),(0,a.jsx)("div",{className:"flex gap-6",children:(0,a.jsxs)("div",{className:"md:mt-4 flex flex-col justify-center items-center cursor-pointer",children:[d?(0,a.jsx)("div",{onClick:()=>{m(!0)},className:"flex items-center drop-shadow-lg border-2 border-black md:border-none bg-blue-500 rounded-lg p-2 md:p-3",children:(0,a.jsx)(i.Z,{className:"w-4 md:h-4 text-[#57B8FF] font-bold"})}):(0,a.jsxs)("div",{onClick:()=>{m(!0)},className:"flex items-center drop-shadow-lg border-2 border-black md:border-none bg-blue-500 rounded-lg p-2 md:p-3 md:hover:bg-[#57B8FF] group relative w-max",children:[(0,a.jsx)(i.Z,{className:"w-3 h-3 font-bold text-black"}),(0,a.jsx)("span",{className:"hidden md:block pointer-events-none absolute -bottom-7 left-7 w-max shadow px-2 py-1 text-xs text-blue-700 opacity-0 group-hover:opacity-100",children:" Collect "})]}),(0,a.jsx)(w.u,{title:v?"Free Collect":b?"Unknown Collect":_(null==r?void 0:null===(n=r.collectModule)||void 0===n?void 0:n.type).name,icon:(0,a.jsx)("div",{className:"text-[#57B8FF]",children:(0,a.jsx)(el,{module:v?s.pYo.FreeCollectModule:null==r?void 0:null===(o=r.collectModule)||void 0===o?void 0:o.type,size:5})}),show:c,onClose:()=>m(!1),children:(0,a.jsx)(X,{publication:r,setCount:y,count:p})}),(0,a.jsx)("p",{className:"text-xs hidden lg:[pb-2] font-semibold text-gray-400"})]})})};var es=ei},92864:function(e,t,n){var a=n(85893),l=n(37331),i=n(39321),s=n(9187),o=n(13250),r=n(86501),d=n(15209),u=n(54524),p=n(65475),y=n(4242),c=n(21273);let m=e=>{let{setFollowing:t,profile:n}=e,m=(0,d.qr)(e=>e.userSigNonce),v=(0,d.qr)(e=>e.setUserSigNonce),b=(0,d.qr)(e=>e.currentProfile),{address:f}=(0,u.mA)(),{isLoading:x,signTypedDataAsync:h}=(0,u.yw)({onError:s.Z}),T=()=>{t(!0),r.Am.success("Followed successfully!")},g=e=>{e.modify({id:"Profile:".concat(null==n?void 0:n.id),fields:{isFollowedByMe:()=>!0}})},{isLoading:w,write:j}=(0,u.GG)({address:i.Nm,abi:l.g,functionName:"followWithSig",mode:"recklesslyUnprepared",onSuccess:T,onError:s.Z}),{broadcast:M,loading:N}=(0,o.Z)({onCompleted:T}),[k,{loading:I}]=(0,c.Rs)({onCompleted:async e=>{let{createFollowTypedData:t}=e,{id:n,typedData:a}=t,{deadline:l}=a.value;try{let i=await h((0,p.Z)(JSON.parse(JSON.stringify(a))));v(m+1);let{profileIds:s,datas:o}=a.value,{v:r,r:d,s:u}=(0,y.Z)(i),c={follower:f,profileIds:s,datas:o,sig:{v:r,r:d,s:u,deadline:l}};null==j||j({recklesslySetUnpreparedArgs:[c]});let{data:{broadcast:b}}=await M({request:{id:n,signature:i}});"reason"in b&&(null==j||j({recklesslySetUnpreparedArgs:[c]}))}catch(x){}},onError:s.Z,update:g}),[F,{loading:C}]=(0,c.RI)({onCompleted:T,onError:s.Z,update:g}),Z=async e=>{let{data:t}=await F({variables:e});(null==t?void 0:t.proxyAction)||k({variables:{request:{follow:[{profile:null==n?void 0:n.id}]},options:{overrideSigNonce:m}}})},S=()=>{if(!b)return r.Am.error("Please Connect Your Wallet");if(null==n?void 0:n.followModule){var e;k({variables:{options:{overrideSigNonce:m},request:{follow:[{profile:null==n?void 0:n.id,followModule:(null==n?void 0:null===(e=n.followModule)||void 0===e?void 0:e.__typename)==="ProfileFollowModuleSettings"?{profileFollowModule:{profileId:null==b?void 0:b.id}}:null}]}}})}else Z({request:{follow:{freeFollow:{profileId:null==n?void 0:n.id}}}})};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:S,disabled:I||C||x||w||N,className:"py-1 px-1 drop-shadow-xl rounded-full border-2 border-black text-xs mt-2 hover:text-[#fff] hover:bg-[#57B8FF] transition cursor-pointer bg-blue-500 text-[#000000] font-semibold",children:"Follow"})})})};t.Z=m},99767:function(e,t,n){var a=n(85893),l=n(9187),i=n(15209),s=n(21273),o=n(16175),r=n(71644);n(67294);var d=n(86501);let u=e=>{let{setCount:t,setLiked:n,count:u,liked:p,publication:y}=e,c=(0,i.qr)(e=>e.currentProfile),[m]=(0,s.Os)({onCompleted:()=>{d.Am.success("Like successfully!")},onError:e=>{n(!p),t(u-1),(0,l.Z)(e)}}),[v]=(0,s.d6)({onCompleted:()=>{d.Am.success("Like removed successfully!")},onError:e=>{n(!p),t(u-1),(0,l.Z)(e)}}),b=()=>{if(!c)return d.Am.error("Please connect your wallet!");let e={variables:{request:{profileId:null==c?void 0:c.id,reaction:o.Oiw.Upvote,publicationId:null==y?void 0:y.id}}};p?(n(!1),t(u-1),v(e)):(n(!0),t(u+1),m(e))};return(0,a.jsx)(a.Fragment,{children:p?(0,a.jsx)("div",{onClick:b,className:"flex items-center drop-shadow-lgborder-2 border-black md:border-none bg-blue-500 rounded-lg p-2 md:p-3",children:(0,a.jsx)(r.Z,{className:"w-3 h-3 text-[#57B8FF] font-bold"})}):(0,a.jsx)("div",{onClick:b,className:"flex items-center drop-shadow-lg border-2 border-black md:border-none bg-blue-500 rounded-lg p-2 md:p-3 md:hover:bg-[#57B8FF] group relative w-max",children:(0,a.jsx)(r.Z,{className:"w-3 h-3 font-bold text-black"})})})};t.Z=u},7960:function(e,t,n){n.d(t,{Z:function(){return b}});var a=n(85893);let l=[{inputs:[{internalType:"address",name:"hub",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"BlockNumberInvalid",type:"error"},{inputs:[],name:"InitParamsInvalid",type:"error"},{inputs:[],name:"Initialized",type:"error"},{inputs:[],name:"NotHub",type:"error"},{inputs:[],name:"NotOwnerOrApproved",type:"error"},{inputs:[],name:"SignatureExpired",type:"error"},{inputs:[],name:"SignatureInvalid",type:"error"},{inputs:[],name:"TokenDoesNotExist",type:"error"},{inputs:[],name:"ZeroSpender",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"HUB",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"burnWithSig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegator",type:"address"},{internalType:"address",name:"delegatee",type:"address"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"delegateBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getDelegatedSupplyByBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getPowerByBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"mintTimestampOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"permitForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"sigNonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenDataOf",outputs:[{components:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint96",name:"mintTimestamp",type:"uint96"}],internalType:"struct IERC721Time.TokenData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}];var i=n(9187),s=n(4242),o=n(15209),r=n(13250),d=n(64146),u=n(67294),p=n(54524),y=n(65475),c=n(86501),m=n(21273);let v=e=>{let{setFollowing:t,profile:n}=e,v=(0,o.qr)(e=>e.currentProfile),[b,f]=(0,u.useState)(!1),{isLoading:x,signTypedDataAsync:h}=(0,p.yw)({onError:i.Z}),{data:T}=(0,p.mx)(),g=async(e,t)=>{let{tokenId:n,deadline:a}=t.value,{v:i,r:o,s:r}=(0,s.Z)(e),u=new d.Contract(t.domain.verifyingContract,l,T);await u.burnWithSig(n,{v:i,r:o,s:r,deadline:a})},{broadcast:w}=(0,r.Z)({onCompleted:()=>{t(!1)}}),[j,{loading:M}]=(0,m.i0)({onCompleted:async e=>{let{createUnfollowTypedData:t}=e;try{let{typedData:n,id:a}=t,l=await h((0,y.Z)(n));f(!0);try{var i;let{data:s}=await w({request:{id:a,signature:l}});(null==s?void 0:null===(i=s.broadcast)||void 0===i?void 0:i.reason)&&await g(l,n),c.Am.success("Unfollowed succesfully")}catch(o){c.Am.error("User rejected request")}finally{f(!1)}}catch(r){}},onError:i.Z}),N=()=>{if(!v)return c.Am.error("Please connect your wallet");j({variables:{request:{profile:null==n?void 0:n.id}}})};return(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:N,className:"active:bg-violet-600 py-1 px-1 drop-shadow-xl rounded-full border-2 border-black text-xs mt-2 border hover:text-white hover:bg-[#57B8FF] transition cursor-pointer bg-blue-500 text-[#000000] font-semibold",children:"Unfollow"})})};var b=v},29780:function(e,t,n){n.d(t,{z:function(){return s}});var a=n(85893),l=n(86010),i=n(67294);let s=(0,i.forwardRef)(function(e,t){let{className:n="",size:i="md",variant:s="primary",outline:o,light:r,loading:d,icon:u,children:p,...y}=e;return(0,a.jsxs)("button",{ref:t,className:(0,l.Z)({"bg-blue-500 hover:bg-[#57B8FF] border text-white focus:ring-blue-400":!o&&!r&&"primary"===s,"bg-gray-500 hover:bg-gray-600 border border-gray-600 text-white focus:ring-gray-400":!o&&!r&&"secondary"===s,"bg-green-500 hover:bg-green-400 border border-green-600 text-white focus:ring-green-400":!o&&!r&&"success"===s,"bg-yellow-500 hover:bg-yellow-400 border border-yellow-600 text-white focus:ring-yellow-400":!o&&!r&&"warning"===s,"bg-pink-700 hover:bg-pink-400 border border-pink-600 text-white focus:ring-pink-400":!o&&!r&&"super"===s,"bg-red-700 hover:bg-red-400 border border-red-600 text-white focus:ring-red-400":!o&&!r&&"danger"===s,"border border-blue-700 text-blue hover:bg-blue-100 focus:ring-blue-400":o&&!r&&"primary"===s,"border border-gray-700 text-gray-700 hover:bg-gray-100 focus:ring-gray-400":o&&!r&&"secondary"===s,"border border-green-700 text-green-700 hover:bg-green-100 focus:ring-green-400":o&&!r&&"success"===s,"border border-yellow-700 text-yellow-700 hover:bg-yellow-100 focus:ring-yellow-400":o&&!r&&"warning"===s,"border border-pink-700 text-pink-700 hover:bg-pink-100 focus:ring-pink-400":o&&!r&&"super"===s,"border border-red-700 text-red-700 hover:bg-red-100 focus:ring-red-400":o&&!r&&"danger"===s,"border-none !shadow-none text-gray-700":r,"px-2 py-0.5":"sm"===i,"px-3 py-1":"md"===i,"px-4 py-1.5":"lg"===i,"flex items-center space-x-1.5":u&&p},"rounded-full font-bold disabled:opacity-50 shadow-sm focus:ring-2 focus:ring-opacity-50 focus:ring-offset-1 outline-none",n),disabled:d,type:y.type,...y,children:[u,(0,a.jsx)("div",{children:p})]})})},9747:function(e,t,n){var a=n(85893),l=n(33962);let i=e=>{let{message:t}=e;return(0,a.jsxs)("div",{className:"p-5 space-y-2 font-bold text-center",children:[(0,a.jsx)(l.$,{size:"sm",className:"mx-auto"}),t?(0,a.jsx)("div",{children:t}):null]})};t.Z=i},64208:function(e,t,n){n.d(t,{u:function(){return d}});var a=n(85893),l=n(11355),i=n(26064),s=n(86010),o=n(67294),r=n(89583);let d=e=>{let{icon:t,title:n,size:d="sm",show:u,children:p,onClose:y}=e;return(0,a.jsx)(l.u.Root,{show:u,as:o.Fragment,children:(0,a.jsx)(i.V,{as:"div",className:"overflow-y-auto fixed inset-0 z-10",onClose:y,children:(0,a.jsxs)("div",{className:"flex justify-center items-center p-4 min-h-screen text-center sm:block sm:p-0",children:[(0,a.jsx)(l.u.Child,{as:o.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)(i.V.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,a.jsx)("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"}),(0,a.jsx)(l.u.Child,{as:o.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-100",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)("div",{className:(0,s.Z)({"sm:max-w-5xl":"lg"===d},{"sm:max-w-3xl":"md"===d},{"sm:max-w-lg":"sm"===d},"inline-block align-bottom bg-white text-left shadow-xl transform transition-all sm:my-8 sm:align-middle w-full rounded-xl"),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center py-3.5 px-5 divider",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 font-bold",children:[t,(0,a.jsx)("div",{children:n})]}),(0,a.jsx)("button",{type:"button",className:"p-1 text-gray-800 rounded-full hover:bg-gray-200",onClick:y,children:(0,a.jsx)(r.aHS,{className:"w-5 h-5"})})]}),p]})})]})})})}},67912:function(e,t,n){var a=n(23286);let l=e=>{var t,n,l;return(0,a.A)(null===(t=null==e?void 0:null===(n=e.metadata)||void 0===n?void 0:n.media[0])||void 0===t?void 0:null===(l=t.original)||void 0===l?void 0:l.url)};t.Z=l},4242:function(e,t,n){var a=n(16441);let l=e=>a.splitSignature(e);t.Z=l},29451:function(e,t,n){var a=n(39321);t.Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?(null==e?void 0:e.toLowerCase())===a.Vq?e:t?e.match(a.$P)?e.split(a.$P)[0]+a.$P:e+a.$P:e.replace(a.$P,""):""}},13250:function(e,t,n){var a=n(86501),l=n(50319),i=n(76781);let s=e=>{let{onCompleted:t,update:n}=e,s={notMined:"A previous transaction may not been mined yet or you have passed in a invalid nonce. You must wait for that to be mined before doing another action, please try again in a few moments. Nonce out of sync."},[o,{data:r,loading:d}]=function(e){let t={...e};return l.D(i.VP,t)}({onCompleted:t,update:n,onError:e=>{e.message===s.notMined&&a.ZP.error(e.message)}});return{broadcast:e=>{let{request:t}=e;return o({variables:{request:t}})},data:r,loading:d}};t.Z=s}}]);