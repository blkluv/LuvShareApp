"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4746],{64746:function(e,s,i){i.r(s);var t=i(85893),r=i(92882),l=i(33537),n=i(86010),o=i(68980),a=i(67294),d=i(86501),c=i(8193),u=i(34625),f=i(35740);let k=e=>{var s;let{publication:i,iconSize:k="sm",textSize:m="sm",isVertical:h=!1,showLabel:p=!0}=e,x=(0,l.ZP)(e=>e.currentProfileId),g=(0,r.qr)(e=>e.currentProfile),[I,N]=(0,a.useState)({isLiked:"UPVOTE"===i.reaction,isDisliked:"DOWNVOTE"===i.reaction,likeCount:null===(s=i.stats)||void 0===s?void 0:s.totalUpvotes}),[b]=(0,o.Os4)({onError:e=>{d.ZP.error(null==e?void 0:e.message)}}),[v]=(0,o.d6Z)({onError:e=>{d.ZP.error(null==e?void 0:e.message)}}),L=()=>{if(!x)return d.ZP.error(u.i8);N(e=>({likeCount:e.isLiked?e.likeCount-1:e.likeCount+1,isLiked:!e.isLiked,isDisliked:!1})),I.isLiked?v({variables:{request:{profileId:null==g?void 0:g.id,reaction:o.Oiw.Upvote,publicationId:i.id}}}):b({variables:{request:{profileId:null==g?void 0:g.id,reaction:o.Oiw.Upvote,publicationId:i.id}}})};return(0,t.jsx)("div",{className:(0,n.Z)("flex items-center justify-end",h?"flex-col space-y-2.5 px-3 md:space-y-4":"space-x-2.5 md:space-x-5"),children:(0,t.jsx)("button",{className:"focus:outline-none disabled:opacity-50",onClick:()=>L(),children:(0,t.jsxs)("span",{className:(0,n.Z)("flex items-center focus:outline-none",{"font-semibold text-green-500":I.isLiked},h?"flex-col":"gap-1"),children:[(0,t.jsx)("div",{className:" rounded-full bg-gray-600/50 p-2 dark:bg-gray-600/50 md:bg-gray-200",children:I.isLiked?(0,t.jsx)(c.M_L,{className:(0,n.Z)({"h-3.5 w-3.5":"sm"===k,"h-6 w-6":"lg"===k,"h-4 w-4":"base"===k})}):(0,t.jsx)(c.lo,{className:(0,n.Z)({"h-3.5 w-3.5":"sm"===k,"h-6 w-6":"lg"===k,"h-4 w-4":"base"===k,"text-green-500":I.isLiked})})}),p&&(0,t.jsx)("span",{className:(0,n.Z)({"text-xs":"sm"===m,"text-base":"base"===m,"text-green-500":I.isLiked}),children:(0,f.u)(I.likeCount)})]})})})};s.default=k},33537:function(e,s,i){var t=i(45341),r=i(51849),l=i(73445),n=i(782);let o=(0,l.Ue)((0,n.tJ)((e,s)=>({accessToken:null,refreshToken:null,currentProfileId:null,sidebarCollapsed:!0,latestNotificationId:"",queuedComments:[],queuedVideos:[],setQueuedVideos:s=>e({queuedVideos:s}),setQueuedComments:s=>e({queuedComments:s}),setSidebarCollapsed:s=>e({sidebarCollapsed:s}),setLatestNotificationId:s=>e({latestNotificationId:s}),selectedNotificationsFilter:r.K.HIGH_SIGNAL,setSelectedNotificationsFilter:s=>e({selectedNotificationsFilter:s}),setCurrentProfileId:s=>e({currentProfileId:s}),signIn:s=>{let{accessToken:i,refreshToken:t}=s;return e({accessToken:i,refreshToken:t})},signOut:()=>localStorage.removeItem(t.d.LensshareStore),hydrateAuthTokens:()=>({accessToken:s().accessToken,refreshToken:s().refreshToken})}),{name:t.d.LensshareStore}));s.ZP=o},51849:function(e,s,i){i.d(s,{K:function(){return r}});var t,r,l=i(38439);(t=r||(r={})).HIGH_SIGNAL="HighSignal",t.ALL_NOTIFICATIONS="AllNotifications",l.D2x.Image,l.D2x.Video}}]);