(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2467],{34159:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/u/[id]",function(){return n(15260)}])},92864:function(e,t,n){"use strict";var l=n(85893),i=n(37331),r=n(39321),a=n(9187),o=n(13250),s=n(86501),d=n(15209),u=n(54524),c=n(65475),p=n(4242),m=n(21273);let y=e=>{let{setFollowing:t,profile:n}=e,y=(0,d.qr)(e=>e.userSigNonce),v=(0,d.qr)(e=>e.setUserSigNonce),x=(0,d.qr)(e=>e.currentProfile),{address:f}=(0,u.mA)(),{isLoading:b,signTypedDataAsync:g}=(0,u.yw)({onError:a.Z}),h=()=>{t(!0),s.Am.success("Followed successfully!")},j=e=>{e.modify({id:"Profile:".concat(null==n?void 0:n.id),fields:{isFollowedByMe:()=>!0}})},{isLoading:w,write:N}=(0,u.GG)({address:r.Nm,abi:i.g,functionName:"followWithSig",mode:"recklesslyUnprepared",onSuccess:h,onError:a.Z}),{broadcast:T,loading:k}=(0,o.Z)({onCompleted:h}),[I,{loading:M}]=(0,m.Rs)({onCompleted:async e=>{let{createFollowTypedData:t}=e,{id:n,typedData:l}=t,{deadline:i}=l.value;try{let r=await g((0,c.Z)(JSON.parse(JSON.stringify(l))));v(y+1);let{profileIds:a,datas:o}=l.value,{v:s,r:d,s:u}=(0,p.Z)(r),m={follower:f,profileIds:a,datas:o,sig:{v:s,r:d,s:u,deadline:i}};null==N||N({recklesslySetUnpreparedArgs:[m]});let{data:{broadcast:x}}=await T({request:{id:n,signature:r}});"reason"in x&&(null==N||N({recklesslySetUnpreparedArgs:[m]}))}catch(b){}},onError:a.Z,update:j}),[Z,{loading:S}]=(0,m.RI)({onCompleted:h,onError:a.Z,update:j}),F=async e=>{let{data:t}=await Z({variables:e});(null==t?void 0:t.proxyAction)||I({variables:{request:{follow:[{profile:null==n?void 0:n.id}]},options:{overrideSigNonce:y}}})},C=()=>{if(!x)return s.Am.error("Please Connect Your Wallet");if(null==n?void 0:n.followModule){var e;I({variables:{options:{overrideSigNonce:y},request:{follow:[{profile:null==n?void 0:n.id,followModule:(null==n?void 0:null===(e=n.followModule)||void 0===e?void 0:e.__typename)==="ProfileFollowModuleSettings"?{profileFollowModule:{profileId:null==x?void 0:x.id}}:null}]}}})}else F({request:{follow:{freeFollow:{profileId:null==n?void 0:n.id}}}})};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{children:(0,l.jsx)("button",{onClick:C,disabled:M||S||b||w||k,className:"py-1 px-1 drop-shadow-xl rounded-full border-2 border-black text-xs mt-2 hover:text-[#fff] hover:bg-[#57B8FF] transition cursor-pointer bg-blue-500 text-[#000000] font-semibold",children:"Follow"})})})};t.Z=y},7960:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var l=n(85893);let i=[{inputs:[{internalType:"address",name:"hub",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"BlockNumberInvalid",type:"error"},{inputs:[],name:"InitParamsInvalid",type:"error"},{inputs:[],name:"Initialized",type:"error"},{inputs:[],name:"NotHub",type:"error"},{inputs:[],name:"NotOwnerOrApproved",type:"error"},{inputs:[],name:"SignatureExpired",type:"error"},{inputs:[],name:"SignatureInvalid",type:"error"},{inputs:[],name:"TokenDoesNotExist",type:"error"},{inputs:[],name:"ZeroSpender",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"HUB",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"burnWithSig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegator",type:"address"},{internalType:"address",name:"delegatee",type:"address"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"delegateBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getDelegatedSupplyByBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getPowerByBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"mintTimestampOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"permitForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"sigNonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenDataOf",outputs:[{components:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint96",name:"mintTimestamp",type:"uint96"}],internalType:"struct IERC721Time.TokenData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}];var r=n(9187),a=n(4242),o=n(15209),s=n(13250),d=n(64146),u=n(67294),c=n(54524),p=n(65475),m=n(86501),y=n(21273);let v=e=>{let{setFollowing:t,profile:n}=e,v=(0,o.qr)(e=>e.currentProfile),[x,f]=(0,u.useState)(!1),{isLoading:b,signTypedDataAsync:g}=(0,c.yw)({onError:r.Z}),{data:h}=(0,c.mx)(),j=async(e,t)=>{let{tokenId:n,deadline:l}=t.value,{v:r,r:o,s}=(0,a.Z)(e),u=new d.Contract(t.domain.verifyingContract,i,h);await u.burnWithSig(n,{v:r,r:o,s,deadline:l})},{broadcast:w}=(0,s.Z)({onCompleted:()=>{t(!1)}}),[N,{loading:T}]=(0,y.i0)({onCompleted:async e=>{let{createUnfollowTypedData:t}=e;try{let{typedData:n,id:l}=t,i=await g((0,p.Z)(n));f(!0);try{var r;let{data:a}=await w({request:{id:l,signature:i}});(null==a?void 0:null===(r=a.broadcast)||void 0===r?void 0:r.reason)&&await j(i,n),m.Am.success("Unfollowed succesfully")}catch(o){m.Am.error("User rejected request")}finally{f(!1)}}catch(s){}},onError:r.Z}),k=()=>{if(!v)return m.Am.error("Please connect your wallet");N({variables:{request:{profile:null==n?void 0:n.id}}})};return(0,l.jsx)("div",{children:(0,l.jsx)("button",{onClick:k,className:"active:bg-violet-600 py-1 px-1 drop-shadow-xl rounded-full border-2 border-black text-xs mt-2 border hover:text-white hover:bg-[#57B8FF] transition cursor-pointer bg-blue-500 text-[#000000] font-semibold",children:"Unfollow"})})};var x=v},30545:function(e,t,n){"use strict";var l=n(85893),i=n(41664),r=n.n(i),a=n(25675),o=n.n(a),s=n(15209),d=n(23286),u=n(79494),c=n(12313),p=n(34601),m=n(11163),y=n.n(m);let v=()=>{var e;let t=(0,s.qr)(e=>e.currentProfile),n=null==t?void 0:t.picture;return console.log("CURRENT PROFILE",null==t?void 0:t.picture),(0,l.jsxs)("div",{className:"w-full flex justify-between rounded-lg items-center border-4 border-blue-500 p-2 ",children:[(0,l.jsx)("button",{onClick:()=>y().back(),className:"text-black w-6px h-6px rounded-md flex justify-center items-center",children:(0,l.jsx)(p.Z,{className:"w-6 h-6 fill-black cursor-pointer"})}),(0,l.jsx)(u.Z,{}),(0,l.jsx)(r(),{href:"/discover",children:(0,l.jsx)("button",{className:"text-black hover:text-gray-100 focus:outline-none lg:hidden xl:hidden focus:text-gray-100 border-gray-800",children:(0,l.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"flex pl-full centre-item gap-5 md:gap-10 ",children:t?(0,l.jsx)("div",{className:"w-12 h-12",children:(0,l.jsx)(r(),{href:"/u/".concat(t.id),children:(null==n?void 0:n.__typename)==="MediaSet"?(null===(e=n.original)||void 0===e?void 0:e.url.includes("ipfs"))?(0,l.jsx)(o(),{src:(0,d.A)(null==n?void 0:n.original.url),width:40,height:40,className:"rounded-full cursor-pointer",alt:t.id.handle,layout:"responsive"}):(0,l.jsx)(o(),{src:null==n?void 0:n.original.url,width:40,height:40,className:"rounded-full cursor-pointer",alt:t.id.handle,layout:"responsive"}):(0,l.jsx)("div",{className:"bg-blue-900 w-8 h-8 rounded-full"})},t.id)}):(0,l.jsx)("div",{className:"block",children:(0,l.jsx)(c.NL,{})})})})]})};t.Z=v},33944:function(e,t,n){"use strict";var l=n(85893),i=n(72329),r=n(67294),a=n(21273),o=n(58533),s=n(9747),d=n(25675),u=n.n(d),c=n(15209),p=n(41664),m=n.n(p),y=n(29451),v=n(9507),x=n(5276);let f=e=>{var t,n,d;let{profile:p}=e,b={profileId:p,limit:30},{data:g,loading:h,error:j,fetchMore:w}=(0,a.cN)({variables:{request:b},skip:!p}),N=null==g?void 0:null===(t=g.followers)||void 0===t?void 0:t.items,T=null==g?void 0:null===(n=g.followers)||void 0===n?void 0:n.pageInfo;(0,c.qr)(e=>e.currentProfile);let[k,I]=(0,r.useState)("followers"),{observe:M}=(0,x.Y)({onEnter:async()=>{await w({variables:{request:{cursor:null==T?void 0:T.next,...b}}})}});if(h)return(0,l.jsx)(s.Z,{message:"Loading followers"});if((null==N?void 0:N.length)===0)return(0,l.jsx)("div",{className:"p-5",children:"No Followers"});let Z=null==g?void 0:g.followers.items;return console.log("Followers",f),(0,l.jsx)("div",{className:"overflow-y-auto max-h-[80vh]",id:"scrollableDiv",children:(0,l.jsx)(o.Z,{dataLength:null!==(d=null==N?void 0:N.length)&&void 0!==d?d:0,next:()=>{},hasMore:!0,loader:(null==T?void 0:T.next)&&(0,l.jsx)("span",{ref:M,className:"flex justify-center p-10",children:(0,l.jsx)(v.Z,{})}),endMessage:(0,l.jsx)("p",{style:{textAlign:"center"},children:(0,l.jsx)("b",{children:"Yay! You have seen it all"})}),children:(0,l.jsx)("div",{children:null==Z?void 0:Z.map(e=>{var t,n,r,a,o,s,d,c,p;return(0,l.jsx)(m(),{href:"/u/".concat(null==e?void 0:null===(t=e.wallet)||void 0===t?void 0:null===(n=t.defaultProfile)||void 0===n?void 0:n.id),children:(0,l.jsxs)("div",{className:"flex gap-3 hover:bg-primary p-2 cursor-pointer font-semibold rounded items-center",children:[(0,l.jsx)("div",{className:"relative h-[32px] w-[32px]",children:(0,l.jsx)(u(),{src:(0,i.Z)(null==e?void 0:null===(r=e.wallet)||void 0===r?void 0:r.defaultProfile),alt:"profilepic",className:"rounded-full",layout:"fill"})}),(0,l.jsx)("div",{}),(0,l.jsx)("p",{className:"flex gap-1 items-center text-md font-bold text-primary lowercase",children:null==e?void 0:null===(a=e.wallet)||void 0===a?void 0:null===(o=a.defaultProfile)||void 0===o?void 0:o.name}),(0,l.jsxs)("p",{prefix:"@",className:"capitalize text-gray-400 text-xs",children:[(0,y.Z)(null==e?void 0:null===(s=e.wallet)||void 0===s?void 0:null===(d=s.defaultProfile)||void 0===d?void 0:d.handle)," ",""]})]})},null==e?void 0:null===(c=e.wallet)||void 0===c?void 0:null===(p=c.defaultProfile)||void 0===p?void 0:p.id)})})})})};t.Z=f},30034:function(e,t,n){"use strict";var l=n(85893),i=n(72329),r=n(67294),a=n(21273),o=n(58533),s=n(9747),d=n(15209),u=n(29451),c=n(41664),p=n.n(c),m=n(25675),y=n.n(m),v=n(9507),x=n(5276);let f=e=>{var t,n,c;let{profile:m}=e,f={address:null==m?void 0:m.ownedBy,limit:30},{data:b,loading:g,error:h,fetchMore:j}=(0,a.ug)({variables:{request:f},skip:!(null==m?void 0:m.id)}),w=null==b?void 0:null===(t=b.following)||void 0===t?void 0:t.items;(0,d.qr)(e=>e.currentProfile);let[N,T]=(0,r.useState)("following"),k=null==b?void 0:null===(n=b.following)||void 0===n?void 0:n.pageInfo,{observe:I}=(0,x.Y)({onEnter:async()=>{await j({variables:{request:{cursor:null==k?void 0:k.next,...f}}})}});if(g)return(0,l.jsx)(s.Z,{message:"Loading Following"});if((null==w?void 0:w.length)===0)return(0,l.jsx)("div",{className:"p-5",children:"No Following"});let M=null==b?void 0:b.following.items;return console.log("I Follow",M),(0,l.jsx)("div",{className:"overflow-y-auto max-h-[80vh]",id:"scrollableDiv",children:(0,l.jsx)(o.Z,{dataLength:null!==(c=null==w?void 0:w.length)&&void 0!==c?c:0,next:()=>{},hasMore:!0,loader:(null==k?void 0:k.next)&&(0,l.jsx)("span",{ref:I,className:"flex justify-center p-10",children:(0,l.jsx)(v.Z,{})}),endMessage:(0,l.jsx)("p",{style:{textAlign:"center"},children:(0,l.jsx)("b",{children:"Yay! You have seen it all"})}),children:(0,l.jsx)("div",{children:null==M?void 0:M.map(e=>(0,l.jsx)(p(),{href:"/u/".concat(null==e?void 0:e.profile.id),children:(0,l.jsxs)("div",{className:"flex gap-3 hover:bg-primary p-2 cursor-pointer font-semibold rounded items-center",children:[(0,l.jsx)("div",{className:"relative h-[32px] w-[32px]",children:(0,l.jsx)(y(),{src:(0,i.Z)(null==e?void 0:e.profile),alt:"profilepic",className:"rounded-full",layout:"fill"})}),(0,l.jsx)("div",{}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"flex gap-1 items-center text-md font-bold text-primary lowercase",children:null==e?void 0:e.profile.name}),(0,l.jsxs)("p",{prefix:"@",className:"capitalize text-gray-400 text-xs",children:[(0,u.Z)(null==e?void 0:e.profile.handle),""]})]})]})},null==e?void 0:e.profile.id))})})})};t.Z=f},9747:function(e,t,n){"use strict";var l=n(85893),i=n(33962);let r=e=>{let{message:t}=e;return(0,l.jsxs)("div",{className:"p-5 space-y-2 font-bold text-center",children:[(0,l.jsx)(i.$,{size:"sm",className:"mx-auto"}),t?(0,l.jsx)("div",{children:t}):null]})};t.Z=r},64208:function(e,t,n){"use strict";n.d(t,{u:function(){return d}});var l=n(85893),i=n(11355),r=n(26064),a=n(86010),o=n(67294),s=n(89583);let d=e=>{let{icon:t,title:n,size:d="sm",show:u,children:c,onClose:p}=e;return(0,l.jsx)(i.u.Root,{show:u,as:o.Fragment,children:(0,l.jsx)(r.V,{as:"div",className:"overflow-y-auto fixed inset-0 z-10",onClose:p,children:(0,l.jsxs)("div",{className:"flex justify-center items-center p-4 min-h-screen text-center sm:block sm:p-0",children:[(0,l.jsx)(i.u.Child,{as:o.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)(r.V.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,l.jsx)("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"}),(0,l.jsx)(i.u.Child,{as:o.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-100",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,l.jsxs)("div",{className:(0,a.Z)({"sm:max-w-5xl":"lg"===d},{"sm:max-w-3xl":"md"===d},{"sm:max-w-lg":"sm"===d},"inline-block align-bottom bg-white text-left shadow-xl transform transition-all sm:my-8 sm:align-middle w-full rounded-xl"),children:[(0,l.jsxs)("div",{className:"flex justify-between items-center py-3.5 px-5 divider",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 font-bold",children:[t,(0,l.jsx)("div",{children:n})]}),(0,l.jsx)("button",{type:"button",className:"p-1 text-gray-800 rounded-full hover:bg-gray-200",onClick:p,children:(0,l.jsx)(s.aHS,{className:"w-5 h-5"})})]}),c]})})]})})})}},4242:function(e,t,n){"use strict";var l=n(16441);let i=e=>l.splitSignature(e);t.Z=i},15260:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return W}});var l=n(85893),i=n(67294),r=n(15209),a=n(54524),o=n(16175),s=n(39321),d=n(9507),u=n(10831),c=n(25675),p=n.n(c),m=n(92864),y=n(41664),v=n.n(y),x=n(76781),f=n(37887),b=n(11163),g=n(23286);let h=()=>{var e;let t=(0,i.useRef)(null),n=(0,b.useRouter)(),{id:r}=n.query,{data:a,loading:o,error:s}=(0,f.a)(x.zS,{variables:{request:{profileId:r,publicationTypes:["POST"],limit:50,metadata:{mainContentFocus:["VIDEO"]}}}}),d=null==a?void 0:a.publications.items;console.log("DATA",null==a?void 0:null===(e=a.publications)||void 0===e?void 0:e.items);let u=e=>{e.currentTarget.play()},c=e=>{e.currentTarget.pause()};return(0,l.jsx)("div",{children:(null==d?void 0:d.length)===0?(0,l.jsx)("p",{className:"text-center",children:"No videos yet"}):(0,l.jsx)("div",{className:"grid gap-2 pl-1 pr-1 mt-2 mb-2 lg:grid-cols-3 md:gap-y-6 gap-x-4 gap-y-2 3xl:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 xs:grid-col-1",children:null==d?void 0:d.map(e=>(0,l.jsx)("div",{children:(0,l.jsx)(v(),{href:"/post/".concat(e.id),children:(0,l.jsxs)("a",{className:"block h-0 border-2 border-blue-500 rounded-lg relative pb-[131%]",children:[(0,l.jsx)("video",{loop:!0,autoPlay:!0,playsInline:!0,draggable:!1,preload:"metadata",ref:t,src:(0,g.A)(e.metadata.media[0].original.url),muted:!0,onMouseOver:u,onMouseOut:c,className:"absolute inset-0 h-full w-full object-cover rounded-md transform transition duration-500 md:hover:scale-125 md:hover:z-10 md:hover:border border-white"}),(0,l.jsx)("p",{className:"absolute left-3 bottom-3 text-white font-semibold text-xs",children:e.metadata.name})]})},e.id)},e.id))})})};var j=n(7960),w=n(72329),N=n(21273),T=n(31407),k=n(11761);let I=e=>{var t,n,i,r,a,o;let{nft:d,linkToDetail:u=!0}=e,c="".concat(s.qP,"/token/polygon/").concat(d.contractAddress,":").concat(d.tokenId).toLowerCase()||"".concat(s.Km,"/assets/").concat(s.M8?"matic":"mumbai","/").concat(d.contractAddress,"/").concat(d.tokenId).toLowerCase();return(0,l.jsxs)(k.Z,{className:"rounded-xl object-fill justify-center object-center",children:[(null==d?void 0:null===(t=d.originalContent)||void 0===t?void 0:t.animatedUrl)?(0,l.jsx)("div",{className:"grid gap-2 p-1 rounded-xl object-center object-fill items-center justify-center mt-2 lg:grid-cols-1 3xl:grid-cols-1 md:grid-cols-1 sm:grid-cols-1 xs:grid-col-1",children:(null==d?void 0:null===(n=d.originalContent)||void 0===n?void 0:null===(i=n.animatedUrl)||void 0===i?void 0:i.includes(".gltf"))?(0,l.jsx)("a",{href:c,target:"_blank",rel:"noreferrer noopener",children:(0,l.jsx)("div",{className:"rounded-xl object-fill object-center",style:{backgroundImage:"url(".concat(d.originalContent.uri?(0,g.A)(d.originalContent.uri):"".concat(s.Fv,"/images/Lenstoklogo.png"),")"),backgroundSize:"contain items-center object-center object-fill",backgroundPosition:"rounded-xl items-center object-contain object-fill object-center center",backgroundRepeat:"no-repeat"}})}):(0,l.jsx)("div",{className:"rounded-xl items-center object-fill object-center",children:(0,l.jsx)("iframe",{className:"rounded-xl items-center object-center object-fill",sandbox:"",title:"".concat(d.contractAddress,":").concat(d.tokenId),src:(0,g.A)(null==d?void 0:null===(r=d.originalContent)||void 0===r?void 0:r.animatedUrl)})})}):(0,l.jsx)("a",{href:c,target:"_blank",rel:"noreferrer noopener",children:(0,l.jsx)("video",{className:"object-fill object-center rounded-xl",style:{backgroundImage:"url(".concat((null==d?void 0:null===(a=d.originalContent)||void 0===a?void 0:a.animatedUrl)?(0,g.A)(null==d?void 0:null===(o=d.originalContent)||void 0===o?void 0:o.animatedUrl):"".concat(s.Fv,"/images/Lenstoklogo.png"),")"),backgroundSize:" object-fill items-center object-center contain",backgroundPosition:"center items-center object-fill object-center",backgroundRepeat:"no-repeat"}})}),(0,l.jsxs)("div",{className:"grid p-1 gap-2 rounded-xl object-center object-fill text-center mt-2 lg:grid-cols-1 3xl:grid-cols-1 md:grid-cols-1 sm:grid-cols-1 xs:grid-col-1",children:[d.collectionName&&(0,l.jsx)("div",{className:"lt-text-gray-500 truncate text-sm",children:d.collectionName}),(0,l.jsx)("div",{className:"truncate",children:(0,l.jsx)("a",{className:"font-bold",href:c,target:"_blank",rel:"noreferrer noopener",children:d.name?d.name:"#".concat(d.tokenId)})})]})]})};var M=n(5276),Z=n(58533);let S=e=>{var t,n,i;let{profile:a}=e;(0,r.qr)(e=>e.currentProfile);let o={chainIds:[T.yu.id],ownerAddress:null==a?void 0:a.ownedBy},{data:s,loading:u,error:c,fetchMore:p}=(0,N.W7)({variables:{request:o}}),m=null==s?void 0:null===(t=s.nfts)||void 0===t?void 0:t.items,y=null==s?void 0:null===(n=s.nfts)||void 0===n?void 0:n.pageInfo,{observe:v}=(0,M.Y)({onEnter:async()=>{await p({variables:{request:{cursor:null==y?void 0:y.next,...o}}})}});return(0,l.jsx)("div",{children:(null==m?void 0:m.length)===0?(0,l.jsx)("p",{className:" rounded text-center",children:"This user has no NFTs"}):(0,l.jsx)("div",{className:"grid rounded-xl mt-2 object-center lg:grid-cols-1 3xl:grid-cols-1 md:grid-cols-1 sm:grid-cols-1 xs:grid-col-1",children:(0,l.jsx)(Z.Z,{dataLength:null!==(i=null==m?void 0:m.length)&&void 0!==i?i:0,next:()=>{},hasMore:!0,loader:(null==y?void 0:y.next)&&(0,l.jsx)("span",{ref:v,className:"flex justify-center p-10",children:(0,l.jsx)(d.Z,{})}),endMessage:(0,l.jsx)("p",{style:{textAlign:"center"},children:(0,l.jsx)("b",{children:"Yay! You have seen it all"})}),children:(0,l.jsx)(k.Z,{children:null==m?void 0:m.map(e=>(0,l.jsx)("div",{children:(0,l.jsx)(I,{nft:e})},e.chainId))})})})})};var F=n(64208),C=n(33944),P=n(30034),A=n(65561);let q=e=>{if(!e)return"";let t=A.Gs;return e.replace(/^Qm[1-9A-Za-z]{44}/gm,"".concat(t).concat(e)).replace("https://ipfs.io/ipfs/",t).replace("ipfs://",t)},E=(e,t)=>e?"".concat(s.no,"/").concat(t,"/").concat(e):"",O=e=>{let{cover:t}=e;return(0,l.jsx)("div",{className:"h-28 border-4 border-black border-b-2 rounded-xl h-28",style:{backgroundImage:"url(".concat(t?E(q(t),s.iD):"".concat(s.C1),")"),backgroundColor:"#3b82f6",backgroundSize:t?"cover":"30%",backgroundPosition:"center center",backgroundRepeat:t?"no-repeat":"repeat"}})};var R=n(29451),_=n(8974),B=n(62444),D=n(11281);let L=()=>{var e;let t=(0,i.useRef)(null),n=(0,b.useRouter)(),{id:r}=n.query,{data:a,loading:o,error:s}=(0,f.a)(x.zS,{variables:{request:{profileId:r,publicationTypes:["MIRROR"],limit:10,metadata:{mainContentFocus:["VIDEO"]}}}}),d=null==a?void 0:a.publications.items;console.log("DATA",null==a?void 0:null===(e=a.publications)||void 0===e?void 0:e.items);let u=e=>{e.currentTarget.play()},c=e=>{e.currentTarget.pause()};return(0,l.jsx)("div",{children:(null==d?void 0:d.length)===0?(0,l.jsx)("p",{className:"text-center",children:"No videos yet"}):(0,l.jsx)("div",{className:"grid gap-2 mr-2 mt-2 lg:grid-cols-3 md:gap-y-8 gap-y-2 3xl:grid-cols-4 md:grid-cols-3 sm:grid-cols-2 xs:grid-col-1",children:null==d?void 0:d.map(e=>(0,l.jsx)("div",{children:(0,l.jsx)(v(),{href:"/post/".concat(e.id),children:(0,l.jsxs)("a",{className:"block h-0 border-2 border-blue-500 rounded-lg relative pb-[131%]",children:[(0,l.jsx)("video",{loop:!0,autoPlay:!0,draggable:!1,playsInline:!0,preload:"metadata",ref:t,src:(0,g.A)(e.metadata.media[0].original.url),muted:!0,onMouseOver:u,onMouseOut:c,className:"absolute inset-0 h-full w-full object-cover rounded-md transform transition duration-500 md:hover:scale-125 md:hover:z-10 md:hover:border border-white"}),(0,l.jsx)("p",{className:"absolute left-3 bottom-3 text-white font-semibold text-xs",children:e.metadata.name})]})},e.id)},e.id))})})},z=e=>{var t,n,a;let{profile:o,setFollowing:d,following:u}=e,c=(0,r.qr)(e=>e.currentProfile),[y,x]=(0,i.useState)(!0),[f,b]=(0,i.useState)(!0),[g,N]=(0,i.useState)(!1),[T,I]=(0,i.useState)(!1),[M,Z]=(0,i.useState)(!1),A=(null==o?void 0:o.id)!==(null==c?void 0:c.id),q=y?"border-2 border-black text-center text-black":"text-center border-2 border-black text-white",[E,z]=(0,i.useState)(null),[U,Y]=(0,i.useState)(null),[V,H]=(0,i.useState)(!1);return(0,l.jsxs)("div",{className:"flex justify-center mx-4",children:[(0,l.jsx)(D.Z,{title:"User • ".concat(null==o?void 0:o.name," ").concat(s.iC)}),(0,l.jsxs)("div",{className:"w-full max-w-[1150px]",children:[(0,l.jsx)(O,{cover:(null==o?void 0:null===(t=o.coverPicture)||void 0===t?void 0:t.__typename)==="MediaSet"?null==o?void 0:null===(n=o.coverPicture)||void 0===n?void 0:null===(a=n.original)||void 0===a?void 0:a.url:"".concat(s.C1)}),(0,l.jsx)("div",{className:"flex border-4 rounded-3xl bg-cyan-200 border-black justify-center",children:(0,l.jsx)(p(),{src:(0,w.Z)(o),alt:(0,w.Z)(o),height:80,width:80,className:"rounded-full intrinsic border-2 border-blue-500"})}),(0,l.jsxs)("div",{className:"flex bg-cyan-200 border-4 border-t-2 h-45 border-black rounded-2xl p-2 gap-0.2",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-center p-1",children:[(0,l.jsx)("h1",{className:"text-lg break-words p-1 font-bold capitalize",children:null==o?void 0:o.name}),(0,l.jsx)(_.Z,{className:" pl-1.5 xs:text-base",slug:(0,R.Z)(null==o?void 0:o.handle),prefix:"@"}),(0,l.jsx)("div",{className:"mr-0 font-semibold sm:mr-10 pt-3 break-word leading-md linkify text-xs",style:{wordWrap:"break-word",overflowWrap:"break-word"},children:(0,l.jsx)("text",{children:null==o?void 0:o.bio})})]}),(0,l.jsx)("div",{className:"right-2 display:inline-block pt-1 ",children:A?(0,l.jsx)("div",{className:"right-2 fl",children:u?(0,l.jsx)(j.Z,{setFollowing:d,profile:o}):(0,l.jsx)(m.Z,{setFollowing:d,profile:o})}):(0,l.jsx)("div",{className:"right-2",children:(0,l.jsx)("button",{className:"active:bg-violet-600 py-1 px-1 drop-shadow-xl rounded-full text-xs mt-2 border-2 border-black hover:text-[#000000] hover:bg-[#57B8FF] transition cursor-pointer bg-blue-500 text-[#000000] font-semibold",children:(0,l.jsx)(v(),{href:"/live",children:" View Live"})})})})]}),(0,l.jsxs)("div",{className:"flex items-center text-center object-center gap-4 mt-3 cursor-pointer",onClick:()=>{Z(!M)},children:[(0,l.jsxs)("div",{className:"flex items-center text-sm margin-1 rounded-3xl gap-2",children:[(0,l.jsxs)("span",{className:"font-bold text-sx",children:[" ",null==o?void 0:o.stats.totalFollowing," "]}),(0,l.jsx)("span",{children:"Following"}),(0,l.jsx)(F.u,{title:"Following",show:M,onClose:()=>Z(!1),children:(0,l.jsx)(P.Z,{profile:o})})]}),(0,l.jsxs)("div",{className:"flex items-center text-sm margin-1 rounded-3xl gap-2 cursor-pointer",onClick:()=>{I(!T)},children:[(0,l.jsx)("span",{className:"font-bold text-sx",children:null==o?void 0:o.stats.totalFollowers}),(0,l.jsx)("span",{children:"Followers"}),(0,l.jsx)(F.u,{title:"Followers",show:T,onClose:()=>I(!1),children:(0,l.jsx)(C.Z,{profile:null==o?void 0:o.id})})]})]}),(0,l.jsxs)("div",{className:"flex-1 text-center gap-8 p-4 border-4 mb-5 mt-5 items-center content-center rounded-full border-black bg-blue-100 w-full",children:[(0,l.jsx)("span",{className:"text-sm  bg-blue-500  rounded-full items-center content-center py-3 px-3 hover:text-white font-semibold cursor-pointer ".concat(q," mt-2"),onClick:()=>x(!0),children:"Videos"}),(0,l.jsx)("span",{className:"text-sm  bg-blue-500  rounded-full items-center content-center py-3 px-3 hover:text-white font-semibold cursor-pointer ".concat(q," mt-2"),onClick:()=>x(!1),children:"Mirrors"}),(0,l.jsx)("span",{className:"text-sm  bg-blue-500  rounded-full items-center content-center py-3 px-3 hover:text-white font-semibold cursor-pointer ".concat(q," mt-2"),onClick:()=>{N(!g)},children:"Collected"}),(0,l.jsx)("div",{className:"p-1 items-center rounded-xl",children:(0,l.jsx)(F.u,{title:"Collected Videos",show:g,onClose:()=>N(!1),children:(0,l.jsx)("div",{className:"p-1 items-center rounded-xl",children:(0,l.jsx)(k.Z,{className:" w-full object-contain object-center",children:(0,l.jsx)(S,{profile:o})})})})})]}),y?(0,l.jsx)(h,{}):(0,l.jsx)(L,{})]}),(0,l.jsx)(B.Z,{})]})};var U=n(86501),Y=n(30545);let V=()=>{let e=(0,b.useRouter)(),{id:t}=e.query,[n,a]=(0,i.useState)(!1),s=(0,r.qr)(e=>e.currentProfile),{data:d,loading:c,error:p}=(0,f.a)(o.fHN,{variables:{request:{profileId:t}}}),m=null==d?void 0:d.profile;return console.log("Profile",m),(0,i.useEffect)(()=>{(null==m?void 0:m.isFollowedByMe)===!0?a(!0):a(!1),s||a(!1)},[null==m?void 0:m.isFollowedByMe]),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"xl:w-[1200px] lg:w-[1100px] m-auto overflow-hidden h-[100vh]",children:[(0,l.jsx)(U.x7,{position:"bottom-right"}),(0,l.jsx)(Y.Z,{}),(0,l.jsxs)("div",{className:"flex gap-6",children:[(0,l.jsx)("div",{className:"h-[92vh] overflow-hidden hidden lg:block lg:hover:overflow-auto",children:(0,l.jsx)(u.Z,{})}),(0,l.jsx)("div",{className:"mt-4 flex flex-col gap-10 overflow-auto h-[88vh] videos flex-1",children:(0,l.jsx)(z,{profile:m,setFollowing:a,following:n})})]}),(0,l.jsx)("div",{className:"block md:hidden",children:(0,l.jsx)(B.Z,{})})]})})},H=()=>{let[e,t]=(0,i.useState)(!1);(0,i.useEffect)(()=>{t(!0)},[]),console.log(e);let n=(0,r.qr)(e=>e.setProfiles),u=(0,r.qr)(e=>e.setUserSigNonce),c=(0,r.qr)(e=>e.currentProfile),p=(0,r.qr)(e=>e.setCurrentProfile),m=(0,r.Fc)(e=>e.profileId),y=(0,r.Fc)(e=>e.setProfileId),v=(0,r.HB)(e=>e.setSelectedReferenceModule),{address:x,isDisconnected:f}=(0,a.mA)(),{chain:b}=(0,a.LN)(),{disconnect:g}=(0,a.qL)(),h=()=>{y(null),p(null)},j=()=>{let e=localStorage.getItem("accessToken"),t=localStorage.getItem("refreshToken");return"undefined"!==e&&"undefined"!==t},w=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")},{loading:T}=(0,N.xt)({variables:{ownedBy:x},skip:!m,onCompleted:e=>{var t,l,i,r,a,s;let d=null===(t=null===(l=null==e?void 0:null===(i=e.profiles)||void 0===i?void 0:null===(r=i.items)||void 0===r?void 0:r.slice())||void 0===l?void 0:l.sort((e,t)=>Number(e.id)-Number(t.id)))||void 0===t?void 0:t.sort((e,t)=>e.isDefault===t.isDefault?0:e.isDefault?-1:1);if(!d.length)return h();let c=d.find(e=>e.id===m),x=(null==c?void 0:null===(a=c.stats)||void 0===a?void 0:a.totalFollowing)||0;v(x>20?o._9N.DegreesOfSeparationReferenceModule:o._9N.FollowerOnlyReferenceModule),n(d),p(c),y(null==c?void 0:c.id),u(null==e?void 0:null===(s=e.userSigNonces)||void 0===s?void 0:s.lensHubOnChainSigNonce)}}),k=()=>{let e=null==c?void 0:c.ownedBy,t=(null==b?void 0:b.id)!==s.Kj,n=!j()||t||f||void 0!==e&&e!==x;n&&m&&(h(),w(),null==g||g())};return((0,i.useEffect)(()=>{k()},[f,x,b,g,m]),T||!e)?(0,l.jsx)(d.Z,{}):(0,l.jsx)("div",{children:(0,l.jsx)(V,{})})};var W=H},29451:function(e,t,n){"use strict";var l=n(39321);t.Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?(null==e?void 0:e.toLowerCase())===l.Vq?e:t?e.match(l.$P)?e.split(l.$P)[0]+l.$P:e+l.$P:e.replace(l.$P,""):""}},13250:function(e,t,n){"use strict";var l=n(86501),i=n(50319),r=n(76781);let a=e=>{let{onCompleted:t,update:n}=e,a={notMined:"A previous transaction may not been mined yet or you have passed in a invalid nonce. You must wait for that to be mined before doing another action, please try again in a few moments. Nonce out of sync."},[o,{data:s,loading:d}]=function(e){let t={...e};return i.D(r.VP,t)}({onCompleted:t,update:n,onError:e=>{e.message===a.notMined&&l.ZP.error(e.message)}});return{broadcast:e=>{let{request:t}=e;return o({variables:{request:t}})},data:s,loading:d}};t.Z=a},34601:function(e,t,n){"use strict";var l=n(67294);let i=l.forwardRef(function({title:e,titleId:t,...n},i){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},n),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M11.03 3.97a.75.75 0 010 1.06l-6.22 6.22H21a.75.75 0 010 1.5H4.81l6.22 6.22a.75.75 0 11-1.06 1.06l-7.5-7.5a.75.75 0 010-1.06l7.5-7.5a.75.75 0 011.06 0z",clipRule:"evenodd"}))});t.Z=i}},function(e){e.O(0,[3714,8766,7025,2692,4980,2013,5445,9866,3874,1228,4617,3609,7856,6552,8179,3987,1664,9869,713,6064,5006,7410,9717,4041,9774,2888,179],function(){return e(e.s=34159)}),_N_E=e.O()}]);