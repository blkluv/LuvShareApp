(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8769],{81865:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/notifications",function(){return t(13096)}])},30545:function(e,n,t){"use strict";var l=t(85893),i=t(41664),r=t.n(i),o=t(25675),s=t.n(o),a=t(15209),c=t(23286),d=t(79494),u=t(12313),x=t(34601),f=t(11163),m=t.n(f);let v=()=>{var e;let n=(0,a.qr)(e=>e.currentProfile),t=null==n?void 0:n.picture;return console.log("CURRENT PROFILE",null==n?void 0:n.picture),(0,l.jsxs)("div",{className:"w-full flex justify-between rounded-lg items-center border-4 border-blue-500 p-2 ",children:[(0,l.jsx)("button",{onClick:()=>m().back(),className:"text-black w-6px h-6px rounded-md flex justify-center items-center",children:(0,l.jsx)(x.Z,{className:"w-6 h-6 fill-black cursor-pointer"})}),(0,l.jsx)(d.Z,{}),(0,l.jsx)(r(),{href:"/discover",children:(0,l.jsx)("button",{className:"text-black hover:text-gray-100 focus:outline-none lg:hidden xl:hidden focus:text-gray-100 border-gray-800",children:(0,l.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"flex pl-full centre-item gap-5 md:gap-10 ",children:n?(0,l.jsx)("div",{className:"w-12 h-12",children:(0,l.jsx)(r(),{href:"/u/".concat(n.id),children:(null==t?void 0:t.__typename)==="MediaSet"?(null===(e=t.original)||void 0===e?void 0:e.url.includes("ipfs"))?(0,l.jsx)(s(),{src:(0,c.A)(null==t?void 0:t.original.url),width:40,height:40,className:"rounded-full cursor-pointer",alt:n.id.handle,layout:"responsive"}):(0,l.jsx)(s(),{src:null==t?void 0:t.original.url,width:40,height:40,className:"rounded-full cursor-pointer",alt:n.id.handle,layout:"responsive"}):(0,l.jsx)("div",{className:"bg-blue-900 w-8 h-8 rounded-full"})},n.id)}):(0,l.jsx)("div",{className:"block",children:(0,l.jsx)(u.NL,{})})})})]})};n.Z=v},62444:function(e,n,t){"use strict";t.d(n,{Z:function(){return N}});var l=t(85893),i=t(41664),r=t.n(i),o=t(15209),s=t(67294),a=t(73359),c=t(50319),d=t(76781),u=t(39321),x=t(54524),f=t(86501);let m=()=>{let e=(0,o.qr)(e=>e.setProfiles),n=(0,o.qr)(e=>e.setCurrentProfile),t=(0,o.Fc)(e=>e.setProfileId),[i,r]=(0,s.useState)(!1),{chain:m}=(0,x.LN)(),{switchNetwork:v}=(0,x.g0)(),[h,p]=(0,s.useState)(!1),{address:j,connector:g}=(0,x.mA)(),{connectors:b,error:N,connectAsync:w}=(0,x.$4)(),{signMessageAsync:y,isLoading:k}=(0,x.QW)(),[C,{error:P,loading:_}]=(0,a.t)(d.bT,{fetchPolicy:"no-cache"}),[Z,{error:I,loading:S}]=(0,c.D)(d.bs),[F,{error:O,loading:A}]=(0,a.t)(d.$);(0,s.useEffect)(()=>{r(!0)},[]);let T=async()=>{try{var l,i,r,o,s,a,c,d,u;let x=await C({variables:{request:{address:j}}});if(!(null==x?void 0:null===(l=x.data)||void 0===l?void 0:null===(i=l.challenge)||void 0===i?void 0:i.text))return f.ZP.error("ERROR_MESSAGE");let m=await y({message:null==x?void 0:null===(r=x.data)||void 0===r?void 0:null===(o=r.challenge)||void 0===o?void 0:o.text}),v=await Z({variables:{request:{address:j,signature:m}}});localStorage.setItem("accessToken",null===(s=v.data)||void 0===s?void 0:s.authenticate.accessToken),localStorage.setItem("refreshToken",null===(a=v.data)||void 0===a?void 0:a.authenticate.refreshToken);let{data:h}=await F({variables:{request:{ownedBy:[j]}}});if((null==h?void 0:null===(c=h.profiles)||void 0===c?void 0:null===(d=c.items)||void 0===d?void 0:d.length)===0)return f.ZP.error("You have no lens profile yet, please create one");{let p=null==h?void 0:null===(u=h.profiles)||void 0===u?void 0:u.items,g=p[0];e(p),n(g),t(g.id)}}catch(b){}};return(null==g?void 0:g.id)?(0,l.jsx)("div",{children:(null==m?void 0:m.id)===u.Kj?(0,l.jsx)("button",{className:"flex-1 text-white",onClick:()=>T(),children:i?"Log In":""}):(0,l.jsx)("button",{className:"flex-1",onClick:()=>{v?v(u.Kj):f.ZP.error("Please change your network!")},children:"Switch Network"})}):(0,l.jsx)("button",{onClick:()=>{f.ZP.error("Log in to view profile",{duration:1e3})},className:"text-white hover:text-gray-100 focus:outline-none focus:text-gray-100 border-gray-800",children:(0,l.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})};var v=t(93832),h=t(79111),p=t(64412),j=t(61998),g=t(5434);let b=()=>{let e=(0,o.qr)(e=>e.currentProfile),[n,t]=(0,s.useState)(!0);return(0,l.jsx)("div",{children:(0,l.jsxs)("nav",{className:"fixed bottom-0 left-0 right-0 h-[70px] rounded-lg border-2 border-grey-700 bg-blue-500 z-999 flex items-center justify-around px-4 py-3",children:[n?(0,l.jsx)(r(),{href:"/",children:(0,l.jsx)("button",{onClick:()=>{t(!1)},className:"text-black hover:text-gray-100 focus:outline-none focus:text-gray-100 border-gray-800",children:(0,l.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})}):(0,l.jsx)(r(),{href:"/",children:(0,l.jsx)("button",{onClick:()=>{t(!0)},className:"text-black hover:text-gray-100 focus:outline-none focus:text-gray-100 border-gray-800",children:(0,l.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})}),(0,l.jsx)("div",{children:(0,l.jsxs)(r(),{href:"/feed",children:[(0,l.jsx)(g.dnC,{className:"text-brand-500 pb-1 h-6 w-6"})," "]})}),(0,l.jsx)("div",{children:(0,l.jsxs)(r(),{href:"/latest",children:[(0,l.jsx)(v.Z,{className:"text-brand-500 pb-1 h-6 w-6"})," "]})}),(0,l.jsxs)(r(),{href:"/upload",children:[(0,l.jsx)(h.Z,{className:"pb-1 h-6 text-white-500"})," "]}),(0,l.jsx)("div",{children:(0,l.jsxs)(r(),{href:"/notifications",children:[(0,l.jsx)(p.Z,{className:"text-brand-500 pb-1 h-6 w-6"})," "]})}),(0,l.jsx)("div",{children:(0,l.jsxs)(r(),{href:"/messages",children:[(0,l.jsx)(j.Z,{className:"text-brand-500 pb-1 h-6 w-6"})," "]})}),e?(0,l.jsx)(r(),{href:"/u/".concat(e.id),children:(0,l.jsx)("button",{className:"text-black hover:text-gray-100 focus:outline-none focus:text-gray-100 border-gray-800",children:(0,l.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})},e.id):(0,l.jsx)(m,{})]})})};var N=b},79494:function(e,n,t){"use strict";var l=t(85893),i=t(21273),r=t(16175),o=t(11163),s=t(67294),a=t(47516),c=t(33962),d=t(72329),u=t(41664),x=t.n(u);let f=e=>{let{hideDropdown:n=!1}=e,{push:t,pathname:u,query:f}=(0,o.useRouter)(),[m,v]=(0,s.useState)(""),h=(0,s.useRef)(null),[p,{data:j,loading:g}]=(0,i.mp)(),b=e=>{let t=e.target.value;v(t),"/search"===u||n||p({variables:{request:{type:r.qkC.Profile,query:t,limit:8}}})},N=e=>{e.preventDefault(),"/search"===u?t("/search?q=".concat(m,"&type=").concat(f.type)):t("/search?q=".concat(m,"&type=profiles")),v(""),console.log(m)},w=null==j?void 0:j.search,y=w&&w.hasOwnProperty("items"),k=y?w.items:[];return(0,l.jsxs)("div",{className:"relative items-center hidden md:hidden",children:[(0,l.jsxs)("form",{className:"absolute md:static top-10 -left-20 max-w-md",onSubmit:N,children:[(0,l.jsx)("input",{className:"justify-content bg-primary p-3 md:text-md font-medium border-2 border-gray-100 focus:outline-none focus:border-2 focus:border-gray-300 w-[300px] md:w-[350px] rounded-full md:top-0",placeholder:"Search accounts and videos",value:m,onChange:b}),(0,l.jsx)("button",{className:"absolute md:right-5 right-6 top-4 border-l-2 border-gray-300 pl-4 text-2xl text-gray-400",children:(0,l.jsx)(a.Goc,{})})]}),"/search"!==u&&!n&&m.length>0&&(0,l.jsx)("div",{className:"flex absolute flex-col mt-2 w-[94%] z-50",ref:h,children:(0,l.jsx)("div",{className:"overflow-y-auto py-2 max-h-[80vh] rounded-none border bg-white",children:g?(0,l.jsxs)("div",{className:"py-2 px-4 space-y-2 text-sm font-bold text-center",children:[(0,l.jsx)(c.$,{size:"sm",className:"mx-auto"}),(0,l.jsx)("div",{children:"Searching..."})]}):(0,l.jsxs)(l.Fragment,{children:[k.map(e=>(0,l.jsx)("div",{className:"p-5",children:(0,l.jsx)(x(),{href:"/u/".concat(null==e?void 0:e.id),children:(0,l.jsxs)("div",{className:"flex gap-3 hover:bg-primary p-2 cursor-pointer font-semibold rounded items-center",children:[(0,l.jsx)("div",{children:(0,l.jsx)("img",{width:40,height:40,className:"rounded-full cursro-pointer",src:(0,d.Z)(e),alt:null==e?void 0:e.handle})}),(0,l.jsx)("div",{className:"hidden lg:block",children:(0,l.jsx)("p",{className:"flex gap-1 items-center text-md font-bold text-primary lowercase",children:null==e?void 0:e.handle})})]})})},null==e?void 0:e.id)),0===k.length&&(0,l.jsx)("div",{children:"No matching Profiles"})]})})})]})};n.Z=f},11761:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var l=t(85893),i=t(86010);let r=e=>{let{children:n,as:t="div",className:r="",forceRounded:o=!1,onClick:s}=e;return(0,l.jsx)(t,{className:(0,i.Z)(o?"flex rounded-xl":"rounded-none sm:rounded-xl","border  [#d9dff1f6] ",r),onClick:s,children:n})}},9747:function(e,n,t){"use strict";var l=t(85893),i=t(33962);let r=e=>{let{message:n}=e;return(0,l.jsxs)("div",{className:"p-5 space-y-2 font-bold text-center",children:[(0,l.jsx)(i.$,{size:"sm",className:"mx-auto"}),n?(0,l.jsx)("div",{children:n}):null]})};n.Z=r},33962:function(e,n,t){"use strict";t.d(n,{$:function(){return r}});var l=t(85893),i=t(86010);let r=e=>{let{className:n="",variant:t="primary",size:r="md"}=e;return(0,l.jsx)("div",{className:(0,i.Z)({"border-blue-200 border-t-blue-600":"primary"===t,"border-gray-200 border-t-gray-600":"secondary"===t,"border-green-200 border-t-green-600":"success"===t,"border-yellow-200 border-t-yellow-600":"warning"===t,"border-pink-200 border-t-pink-600":"super"===t,"border-red-200 border-t-red-600":"danger"===t,"h-4 w-4 border-[2px]":"xs"===r,"h-5 w-5 border-2":"sm"===r,"h-8 w-8 border-[3px]":"md"===r,"h-10 w-10 border-4":"lg"===r},"animate-spin rounded-full",n)})}},72329:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var l=t(23286);let i=e=>"https://cdn.stamp.fyi/avatar/eth:".concat(e.toLowerCase(),"?s=250"),r=e=>{var n,t,r,o,s,a;return(0,l.A)(null!==(a=null!==(o=null==e?void 0:null===(n=e.picture)||void 0===n?void 0:null===(t=n.original)||void 0===t?void 0:t.url)&&void 0!==o?o:null==e?void 0:null===(r=e.picture)||void 0===r?void 0:r.uri)&&void 0!==a?a:i(null!==(s=null==e?void 0:e.ownedBy)&&void 0!==s?s:"0x0000000000000000000000000000000000000000"))};var o=r},13096:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return X}});var l,i,r=t(85893),o=t(11281),s=t(9747),a=t(59965),c=t(15209),d=t(73445),u=t(782),x=t(16175);(l=i||(i={})).HIGH_SIGNAL="HighSignal",l.ALL_NOTIFICATIONS="AllNotifications",x.D2x.Image,x.D2x.Video;let f=(0,d.Ue)((0,u.tJ)((e,n)=>({accessToken:null,latestNotificationId:"",refreshToken:null,currentProfileId:null,sidebarCollapsed:!0,notificationCount:0,setNotificationCount:n=>e(()=>({notificationCount:n})),queuedComments:[],queuedPublications:[],currentBoard:[],setLatestNotificationId:n=>e({latestNotificationId:n}),selectedNotificationsFilter:i.HIGH_SIGNAL,setSelectedNotificationsFilter:n=>e({selectedNotificationsFilter:n}),setCurrentBoard:n=>e({currentBoard:n}),setQueuedComments:n=>e({queuedComments:n}),setQueuedPublications:n=>e({queuedPublications:n}),setCurrentProfileId:n=>e({currentProfileId:n}),signIn:n=>{let{accessToken:t,refreshToken:l}=n;return e({accessToken:t,refreshToken:l})},signOut:()=>localStorage.removeItem("lensshare.store"),hydrateAuthTokens:()=>({accessToken:n().accessToken,refreshToken:n().refreshToken})}),{name:"lensshare.store"}));var m=t(86010),v=t(67294),h=t(5276),p=t(39321),j=t(41664),g=t.n(j);let b=e=>{let{address:n,children:t}=e;return(0,r.jsx)(g(),{href:"".concat(p.Bq,"/address/").concat(n),rel:"noreferer noreferrer",target:"_blank",children:t})};var N=t(27484),w=t.n(N);let y=e=>e?w()(e).format("h:mm A \xb7 MMM D, YYYY"):"",k=e=>"https://avatar.tobi.sh/".concat(e,".png");var C=t(23286);let P=(e,n)=>e&&p.XE?n?"".concat(p.XE,"/tr:n-").concat(n,",tr:di-placeholder.webp/").concat((0,C.A)(e)):"".concat(p.XE,"/tr:di-placeholder.webp/").concat((0,C.A)(e)):e,_=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return"".concat(null==e?void 0:e.substring(0,n+2),"...").concat(e.substring(42-n))};var Z=t(72329),I=t(29451);let S=e=>{var n,t,l,i,o,s,a,c,d,u,x;let{notification:f}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex items-center space-x-3",children:(null==f?void 0:null===(n=f.wallet)||void 0===n?void 0:n.defaultProfile)?(0,r.jsxs)(g(),{href:"/u/".concat(null==f?void 0:null===(t=f.wallet)||void 0===t?void 0:null===(l=t.defaultProfile)||void 0===l?void 0:l.id),className:"font-base inline-flex items-center space-x-1.5",children:[(0,r.jsx)("img",{className:"h-5 w-5 rounded-full",src:(0,Z.Z)(null===(i=f.wallet)||void 0===i?void 0:i.defaultProfile),alt:null===(o=f.wallet)||void 0===o?void 0:null===(s=o.defaultProfile)||void 0===s?void 0:s.handle,draggable:!1}),(0,r.jsx)("div",{className:"flex items-center space-x-0.5",children:(0,r.jsx)("span",{children:(0,I.Z)(null==f?void 0:null===(a=f.wallet)||void 0===a?void 0:null===(c=a.defaultProfile)||void 0===c?void 0:c.handle)})})]}):(0,r.jsx)(b,{address:null==f?void 0:null===(d=f.wallet)||void 0===d?void 0:d.address,children:(0,r.jsxs)("span",{className:"font-base inline-flex items-center space-x-1.5",children:[(0,r.jsx)("img",{className:"h-5 w-5 rounded-full",src:P(k(f.wallet.address),"avatar"),alt:null===(u=f.wallet)||void 0===u?void 0:u.address,draggable:!1}),(0,r.jsx)("div",{children:_(null==f?void 0:null===(x=f.wallet)||void 0===x?void 0:x.address)})]})})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:["Collected your","Comment"===f.collectedPublication.__typename&&"Comment on",(0,r.jsx)(g(),{href:"/post/".concat(null==f?void 0:f.collectedPublication.id),className:"ml-1 text-indigo-500",children:"Mirror"===f.collectedPublication.__typename?"mirror":"video"})]}),(0,r.jsx)("div",{className:"flex items-center text-xs text-gray-600",children:(0,r.jsx)("span",{children:y(null==f?void 0:f.createdAt)})})]})]})},F=e=>{var n,t,l,i,o,s,a,c,d,u,x;let{notification:f}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(g(),{href:"/u/".concat(null==f?void 0:null===(n=f.profile)||void 0===n?void 0:n.id),className:"font-base inline-flex items-center space-x-1.5",children:[(0,r.jsx)("img",{className:"h-5 w-5 rounded-full",src:(0,Z.Z)(null==f?void 0:f.profile),alt:null==f?void 0:null===(t=f.profile)||void 0===t?void 0:t.handle,draggable:!1}),(0,r.jsx)("div",{className:"flex items-center space-x-0.5",children:(0,r.jsx)("span",{children:(0,I.Z)(null==f?void 0:null===(l=f.profile)||void 0===l?void 0:l.handle)})})]}),(0,r.jsxs)("span",{className:"truncate text-gray-600 dark:text-gray-400",children:["commented on your",(0,r.jsx)(g(),{href:"/post/".concat((null==f?void 0:null===(i=f.comment)||void 0===i?void 0:i.commentOn)&&(null==f?void 0:null===(o=f.comment)||void 0===o?void 0:null===(s=o.commentOn)||void 0===s?void 0:s.id)),className:"ml-1 text-indigo-500",children:"video"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(g(),{href:"/post/".concat((null==f?void 0:null===(a=f.comment)||void 0===a?void 0:a.commentOn)&&(null==f?void 0:null===(c=f.comment)||void 0===c?void 0:null===(d=c.commentOn)||void 0===d?void 0:d.id)),className:"truncate py-1 text-gray-600 dark:text-gray-400",children:null==f?void 0:null===(u=f.comment)||void 0===u?void 0:null===(x=u.metadata)||void 0===x?void 0:x.content}),(0,r.jsx)("div",{className:"flex flex-none text-xs items-center text-gray-600",children:(0,r.jsx)("span",{children:y(null==f?void 0:f.createdAt)})})]})]})};var O=t(8340),A=t(11355);let T=e=>{let{trigger:n,children:t,positionClassName:l,position:i="right"}=e;return(0,r.jsxs)(O.v,{as:"div",className:"relative focus:ring-0 focus-visible:outline-none focus:outline-none",children:[(0,r.jsx)(O.v.Button,{as:"div",className:"flex cursor-pointer focus-visible:outline-none focus:outline-none focus:ring-0",children:n}),(0,r.jsx)(A.u,{enter:"transition duration-200 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",className:(0,m.Z)("absolute z-30 focus:outline-none focus:ring-0 focus-visible:outline-none",{"right-0":"right"===i,"left-0":"left"===i,"bottom-0":"bottom"===i},l),children:(0,r.jsx)(O.v.Items,{static:!0,children:t})})]})};var L=t(45548);let M=()=>{let e=f(e=>e.selectedNotificationsFilter),n=f(e=>e.setSelectedNotificationsFilter);return(0,r.jsx)(T,{trigger:(0,r.jsx)(L.Z,{className:"h-4 w-4 opacity-70 hover:opacity-100"}),children:(0,r.jsxs)("div",{className:"bg-blue-500 mt-1 overflow-hidden rounded-xl border border-gray-200 p-1 text-sm shadow dark:border-gray-800",children:[(0,r.jsx)(O.v.Item,{className:(0,m.Z)("w-full rounded-lg px-3 py-1.5 text-left",e===i.HIGH_SIGNAL?"bg-gray-100":"opacity-60 hover:opacity-100"),onClick:()=>n(i.HIGH_SIGNAL),as:"button",children:(0,r.jsx)("span",{className:"whitespace-nowrap",children:"High signal"})}),(0,r.jsx)(O.v.Item,{className:(0,m.Z)("w-full rounded-lg px-3 py-1.5 text-left",e===i.ALL_NOTIFICATIONS?"bg-gray-100":"opacity-60 hover:opacity-100"),onClick:()=>n(i.ALL_NOTIFICATIONS),as:"button",children:(0,r.jsx)("span",{className:"whitespace-nowrap",children:"Show all"})})]})})},D=e=>{var n,t,l,i,o,s;let{notification:a}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex items-center space-x-3",children:(0,r.jsxs)(g(),{href:"/u/".concat(null==a?void 0:null===(n=a.mentionPublication)||void 0===n?void 0:null===(t=n.profile)||void 0===t?void 0:t.id),className:"font-base inline-flex items-center space-x-1.5",children:[(0,r.jsx)("img",{className:"h-5 w-5 rounded-full",src:(0,Z.Z)(null==a?void 0:a.mentionPublication.profile),alt:null==a?void 0:null===(l=a.mentionPublication)||void 0===l?void 0:null===(i=l.profile)||void 0===i?void 0:i.handle,draggable:!1}),(0,r.jsx)("div",{className:"flex items-center space-x-0.5",children:(0,r.jsx)("span",{children:(0,I.Z)(null==a?void 0:null===(o=a.mentionPublication)||void 0===o?void 0:null===(s=o.profile)||void 0===s?void 0:s.handle)})})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"truncate text-gray-600 dark:text-gray-400",children:[(0,r.jsx)(g(),{href:"/post/".concat(null==a?void 0:a.mentionPublication.id),className:"mr-1 text-indigo-500",children:"mentioned"}),"your profile"]}),(0,r.jsx)("div",{className:"flex flex-none text-xs items-center space-x-1 text-gray-600",children:(0,r.jsx)("span",{children:y(null==a?void 0:a.createdAt)})})]})]})},q=e=>{var n,t,l;let{notification:i}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex items-center space-x-3",children:(0,r.jsxs)(g(),{href:"/u/".concat(null==i?void 0:null===(n=i.profile)||void 0===n?void 0:n.id),className:"font-base inline-flex items-center space-x-1.5",children:[(0,r.jsx)("img",{className:"h-5 w-5 rounded-full",src:(0,Z.Z)(i.profile),alt:null===(t=i.profile)||void 0===t?void 0:t.handle,draggable:!1}),(0,r.jsx)("div",{className:"flex items-center space-x-0.5",children:(0,r.jsx)("span",{children:(0,I.Z)(null==i?void 0:null===(l=i.profile)||void 0===l?void 0:l.handle)})})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"truncate text-gray-600 dark:text-gray-400",children:["mirrored your"," ",(0,r.jsx)(g(),{href:"/post/".concat(null==i?void 0:i.publication.id),className:"ml-1 text-indigo-500",children:"video"})]}),(0,r.jsx)("div",{className:"flex flex-none text-xs items-center text-gray-600",children:(0,r.jsx)("span",{children:y(null==i?void 0:i.createdAt)})})]})]})},B=e=>{var n,t,l,i,o;let{notification:s}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex items-center space-x-3",children:(0,r.jsxs)(g(),{href:"/u/".concat(null==s?void 0:null===(n=s.profile)||void 0===n?void 0:n.id),className:"font-base inline-flex items-center space-x-1.5",children:[(0,r.jsx)("img",{className:"h-5 w-5 rounded-full",src:(0,Z.Z)(s.profile),alt:null===(t=s.profile)||void 0===t?void 0:t.handle,draggable:!1}),(0,r.jsx)("div",{className:"flex items-center space-x-0.5",children:(0,r.jsx)("span",{children:(0,I.Z)(null==s?void 0:null===(l=s.profile)||void 0===l?void 0:l.handle)})})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"truncate text-gray-600 dark:text-gray-400",children:["UPVOTE"===s.reaction?"liked":"dislisked"," ","'your'"," ","Comment"===s.publication.__typename&&"comment on",(0,r.jsx)(g(),{href:"/post/".concat("Comment"===s.publication.__typename?null===(i=s.publication)||void 0===i?void 0:null===(o=i.mainPost)||void 0===o?void 0:o.id:null==s?void 0:s.publication.id),className:"ml-1 text-indigo-500",children:"video"})]}),(0,r.jsx)("div",{className:"flex flex-none text-xs items-center text-gray-600 ",children:(0,r.jsx)("span",{children:y(null==s?void 0:s.createdAt)})})]})]})},E=e=>{var n,t,l,i,o,s,a,d,u,x;let{notification:f}=e,m=(0,c.qr)(e=>e.currentProfile);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex items-center space-x-3",children:(null==f?void 0:null===(n=f.wallet)||void 0===n?void 0:n.defaultProfile)?(0,r.jsxs)(g(),{href:"/u/".concat(null==f?void 0:null===(t=f.wallet)||void 0===t?void 0:null===(l=t.defaultProfile)||void 0===l?void 0:l.id),className:"font-base inline-flex items-center space-x-1.5",children:[(0,r.jsx)("img",{className:"h-5 w-5 rounded-full",src:(0,Z.Z)(f.wallet.defaultProfile),alt:null===(i=f.wallet)||void 0===i?void 0:null===(o=i.defaultProfile)||void 0===o?void 0:o.handle,draggable:!1}),(0,r.jsx)("div",{className:"flex items-center space-x-0.5",children:(0,r.jsx)("span",{children:(0,I.Z)(null==f?void 0:null===(s=f.wallet)||void 0===s?void 0:null===(a=s.defaultProfile)||void 0===a?void 0:a.handle)})})]}):(0,r.jsx)(b,{address:null==f?void 0:null===(d=f.wallet)||void 0===d?void 0:d.address,children:(0,r.jsxs)("span",{className:"font-base inline-flex items-center space-x-1.5",children:[(0,r.jsx)("img",{className:"h-5 w-5 rounded-full",src:P(k(f.wallet.address),"avatar"),alt:null===(u=f.wallet)||void 0===u?void 0:u.address,draggable:!1}),(0,r.jsx)("div",{children:_(null==f?void 0:null===(x=f.wallet)||void 0===x?void 0:x.address)})]})})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[(null==m?void 0:m.followModule)?"joined":"followed you"," "]}),(0,r.jsx)("div",{className:"flex flex-none text-xs items-center text-gray-600",children:(0,r.jsx)("span",{children:y(null==f?void 0:f.createdAt)})})]})]})};var R=t(64412),H=t(57584),V=t(50063),G=t(85783),z=t(97535),W=t(5434),$=t(11761),Y=t(30545),U=t(62444);let J={all:!1,mentions:!1,subscriptions:!1,likes:!1,comments:!1,collects:!1},Q=()=>{var e,n;let[t,l]=(0,v.useState)(J),d=(0,c.qr)(e=>e.currentProfile),u=(0,c.qr)(e=>e.setHasNewNotification),j=f(e=>e.selectedNotificationsFilter),g={limit:30,sources:t?void 0:[p.AF],customFilters:p.ts,profileId:null==d?void 0:d.id,highSignalFilter:j===i.HIGH_SIGNAL,notificationTypes:t.mentions?[x.j_x.MentionPost,x.j_x.MentionComment]:t.subscriptions?[x.j_x.Followed]:t.likes?[x.j_x.ReactionPost,x.j_x.ReactionComment]:t.comments?[x.j_x.CommentedPost]:t.collects?[x.j_x.CollectedPost,x.j_x.CollectedComment]:[x.j_x.CollectedPost,x.j_x.CommentedPost,x.j_x.Followed,x.j_x.MentionComment,x.j_x.MentionPost,x.j_x.ReactionComment,x.j_x.ReactionPost]},{data:b,loading:N,fetchMore:w}=(0,x.lFd)({variables:{request:g},onCompleted:()=>u(!1)}),y=null==b?void 0:null===(e=b.notifications)||void 0===e?void 0:e.items,k=null==b?void 0:null===(n=b.notifications)||void 0===n?void 0:n.pageInfo,{observe:C}=(0,h.Y)({onEnter:async()=>{await w({variables:{request:{cursor:null==k?void 0:k.next,...g}}})}});return(0,r.jsxs)("div",{className:"mx-auto md:container md:max-w-3xl md:p-0",children:[(0,r.jsx)(o.Z,{title:"Notifications • ".concat(p.iC)}),(0,r.jsx)(Y.Z,{}),(0,r.jsx)($.Z,{className:"p-2",children:(0,r.jsxs)(a.O.Group,{as:"div",className:"w-full",children:[(0,r.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,r.jsxs)(a.O.List,{className:"no-scrollbar flex w-full space-x-4 overflow-x-auto pr-4",children:[(0,r.jsxs)(a.O,{onClick:()=>{l({...J})},className:e=>{let{selected:n}=e;return(0,m.Z)("flex items-center space-x-2 border-b-2 px-1 py-2 text-sm focus:outline-none",n?"border-indigo-900 opacity-100":"border-transparent opacity-50")},children:[(0,r.jsx)(R.Z,{className:"h-3.5 w-3.5"}),(0,r.jsx)("span",{className:"whitespace-nowrap",children:"All Notifications"})]}),(0,r.jsx)(a.O,{onClick:()=>{l({...J,subscriptions:!0})},className:e=>{let{selected:n}=e;return(0,m.Z)("flex items-center space-x-2 border-b-2 px-1 py-2 text-sm focus:outline-none",n?"border-indigo-900 opacity-100":"border-transparent opacity-50")},children:(0,r.jsx)(H.Z,{className:"h-3.5 w-3.5"})}),(0,r.jsx)(a.O,{onClick:()=>{l({...J,likes:!0})},className:e=>{let{selected:n}=e;return(0,m.Z)("flex items-center space-x-2 whitespace-nowrap border-b-2 py-2 text-sm focus:outline-none",n?"border-indigo-900 opacity-100":"border-transparent opacity-50")},children:(0,r.jsx)(V.Z,{className:"h-3.5 w-3.5"})}),(0,r.jsx)(a.O,{onClick:()=>{l({...J,comments:!0})},className:e=>{let{selected:n}=e;return(0,m.Z)("flex items-center space-x-2 border-b-2 px-1 py-2 text-sm focus:outline-none",n?"border-indigo-900 opacity-100":"border-transparent opacity-50")},children:(0,r.jsx)(G.Z,{className:"h-3.5 w-3.5"})}),(0,r.jsx)(a.O,{onClick:()=>{l({...J,mentions:!0})},className:e=>{let{selected:n}=e;return(0,m.Z)("flex items-center space-x-2 border-b-2 px-1 py-2 text-sm focus:outline-none",n?"border-indigo-900 opacity-100":"border-transparent opacity-50")},children:(0,r.jsx)(W.tJU,{className:"h-3.5 w-3.5"})}),(0,r.jsx)(a.O,{onClick:()=>{l({...J,collects:!0})},className:e=>{let{selected:n}=e;return(0,m.Z)("flex items-center space-x-2 border-b-2 px-1 py-2 text-sm focus:outline-none",n?"border-indigo-900 opacity-100":"border-transparent opacity-50")},children:(0,r.jsx)(z.Z,{className:"h-3.5 w-3.5"})})]}),(0,r.jsx)(M,{})]}),(0,r.jsxs)(a.O.Panels,{children:[N&&(null==y?void 0:y.length)===0&&null,null==y?void 0:y.map((e,n)=>(0,r.jsxs)("div",{className:"pb-3",children:[(null==e?void 0:e.__typename)==="NewFollowerNotification"&&(0,r.jsx)(E,{notification:e}),(null==e?void 0:e.__typename)==="NewCommentNotification"&&(0,r.jsx)(F,{notification:e}),(null==e?void 0:e.__typename)==="NewMentionNotification"&&(0,r.jsx)(D,{notification:e}),(null==e?void 0:e.__typename)==="NewMirrorNotification"&&(0,r.jsx)(q,{notification:e}),(null==e?void 0:e.__typename)==="NewCollectNotification"&&(0,r.jsx)(S,{notification:e}),(null==e?void 0:e.__typename)==="NewReactionNotification"&&(0,r.jsx)(B,{notification:e})]},"".concat(e.notificationId,"_").concat(n))),(null==k?void 0:k.next)&&(0,r.jsx)("span",{ref:C,className:"flex justify-center p-10",children:(0,r.jsx)(s.Z,{})})]})]})}),(0,r.jsx)(U.Z,{})]})};var X=Q},15209:function(e,n,t){"use strict";t.d(n,{Fc:function(){return u},HB:function(){return x},Ju:function(){return c},nN:function(){return f},qr:function(){return d},sr:function(){return a}});var l=t(82921),i=t(76781),r=t(73445),o=t(782),s=t(39321);let a={stream:null,preview:"",videoType:"",file:null,title:"",description:"",category:"",thumbnail:"",thumbnailType:"",videoSource:"",percent:0,playbackId:"",isSensitiveContent:!1,isuploadIpfs:!1,isUploadToAr:!1,isIndexed:!1,loading:!1,uploadingThumbnail:!1,buttonText:"Post Video",durationInSeconds:null,collectModule:{followerOnlyCollect:!1,amount:{currency:s.Y7,value:""},referralFee:0,isTimedFeeCollect:!1,isFreeCollect:!0,isFeeCollect:!1,isRevertCollect:!1},referenceModule:{followerOnlyReferenceModule:!1,degreesOfSeparationReferenceModule:null}},c={balance:"0",estimatedPrice:"0",deposit:null,instance:null,depositing:!1,showDeposit:!1},d=(0,r.ZP)(e=>({showCreateBoard:!1,hasNewNotification:!1,setHasNewNotification:n=>e({hasNewNotification:n}),setShowCreateBoard:n=>e({showCreateBoard:n}),uploadedVideo:a,setUploadedVideo:n=>e(e=>({uploadedVideo:{...e.uploadedVideo,...n}})),bundlrData:c,setBundlrData:n=>e(e=>({bundlrData:{...e.bundlrData,...n}})),profiles:[],setProfiles:n=>e(()=>({profiles:n})),currentProfile:null,setCurrentProfile:n=>e(()=>({currentProfile:n})),userSigNonce:0,setUserSigNonce:n=>e(()=>({userSigNonce:n})),getBundlrInstance:async n=>{try{let t=new l.WebBundlr(s.$Y,s.Wq,null==n?void 0:n.provider,{providerUrl:s.FC});return await t.utils.getBundlerAddress(s.Wq),await t.ready(),t}catch(i){return console.log("[Error Init Bundlr]",i),e(e=>({uploadedVideo:{...e.uploadedVideo,loading:!1}})),null}}})),u=(0,r.ZP)((0,o.tJ)(e=>({profileId:null,setProfileId:n=>e(()=>({profileId:n}))}),{name:"lensshare.store"})),x=(0,r.ZP)(e=>({selectedReferenceModule:i._9.DegreesOfSeparationReferenceModule,setSelectedReferenceModule:n=>e(()=>({selectedReferenceModule:n})),onlyFollowers:!1,setOnlyFollowers:n=>e(()=>({onlyFollowers:n})),degreesOfSeparation:2,setDegreesOfSeparation:n=>e(()=>({degreesOfSeparation:n}))})),f=(0,r.ZP)((0,o.tJ)(e=>({txnQueue:[],setTxnQueue:n=>e(()=>({txnQueue:n}))}),{name:s.Pd.TRANSACTION_STORE}))},21273:function(e,n,t){"use strict";t.d(n,{BI:function(){return N},BS:function(){return h},Cy:function(){return F},Dt:function(){return u},Dw:function(){return w},EE:function(){return j},Ey:function(){return I},Fh:function(){return Z},Kw:function(){return C},NF:function(){return O},Or:function(){return g},Os:function(){return s},PI:function(){return d},RI:function(){return x},Rs:function(){return f},W7:function(){return p},Xq:function(){return v},cN:function(){return y},d6:function(){return a},i0:function(){return m},k9:function(){return c},kV:function(){return b},lA:function(){return S},mp:function(){return _},ug:function(){return k},xt:function(){return P}});var l=t(50319),i=t(73359),r=t(37887),o=t(76781);function s(e){let n={...e};return l.D(o.kV,n)}function a(e){let n={...e};return l.D(o.vK,n)}function c(e){let n={...e};return l.D(o.ez,n)}function d(e){let n={...e};return l.D(o.kM,n)}function u(e){let n={...e};return l.D(o.Jv,n)}function x(e){let n={...e};return l.D(o._5,n)}function f(e){let n={...e};return l.D(o.UD,n)}function m(e){let n={...e};return l.D(o.yP,n)}function v(e){let n={...e};return i.t(o.Hf,n)}function h(e){let n={...e};return r.a(o.Bz,n)}function p(e){let n={...e};return r.a(o.Zl,n)}function j(e){let n={...e};return r.a(o.uJ,n)}function g(e){let n={...e};return r.a(o.PN,n)}function b(e){let n={...e};return r.a(o.Im,n)}function N(e){let n={...e};return r.a(o.AC,n)}function w(e){let n={...e};return i.t(o.s2,n)}function y(e){let n={...e};return r.a(o.i_,n)}function k(e){let n={...e};return r.a(o.k8,n)}function C(e){let n={...e};return r.a(o.Hf,n)}function P(e){let n={...e};return r.a(o.Yg,n)}function _(e){let n={...e};return i.t(o.LZ,n)}function Z(e){let n={...e};return r.a(o.LZ,n)}function I(e){let n={...e};return r.a(o.F2,n)}function S(e){let n={...e};return l.D(o.VP,n)}function F(e){let n={...e};return l.D(o.VV,n)}function O(e){let n={...e};return l.D(o.B$,n)}},65561:function(e,n,t){"use strict";t.d(n,{F5:function(){return c},Gs:function(){return d}});var l=t(85893),i=t(63750),r=t(2585),o=t(89583),s=t(50321),a=t(51649);let c=[{name:"Sensitive-NSFW",icon:(0,l.jsx)(s.Z,{})},{name:"Sensitive-OFFENSIVE",icon:(0,l.jsx)(a.IEI,{})},{name:"Coding",icon:(0,l.jsx)(i.vcz,{})},{name:"Funny",icon:(0,l.jsx)(i.ZW1,{})},{name:"Gaming",icon:(0,l.jsx)(o.iVx,{})},{name:"Food",icon:(0,l.jsx)(r.Omh,{})},{name:"Dance",icon:(0,l.jsx)(r.wYt,{})},{name:"Beauty",icon:(0,l.jsx)(r.HJI,{})},{name:"Animals",icon:(0,l.jsx)(o.IHQ,{})},{name:"Sports",icon:(0,l.jsx)(o.PIe,{})}],d="https://gateway.ipfscdn.io/ipfs/"},29451:function(e,n,t){"use strict";var l=t(39321);n.Z=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?(null==e?void 0:e.toLowerCase())===l.Vq?e:n?e.match(l.$P)?e.split(l.$P)[0]+l.$P:e+l.$P:e.replace(l.$P,""):""}},23286:function(e,n,t){"use strict";t.d(n,{A:function(){return r}});var l=t(39321),i=t(65561);let r=e=>{let n="".concat(i.Gs,"/"),t="".concat(l.C7,"/");return e?e.replace(/^Qm[1-9A-Za-z]{44}/gm,"".concat(n,"/").concat(e)).replace("https://ipfs.io/ipfs",n).replace("https://ipfs.infura.io/ipfs",n).replace("https://lens.ipfs.infura.io/ipfs/",n).replace("https://ipfs-infura.io/ipfs/",n).replace("https://lens.ipfs-infura.io/ipfs/",n).replace("https://lenshareapp.ipfs-infura.io/ipfs/",n).replace("https://lenshareapp.ipfs-infura.io/",n).replace("ipfs://",n).replace("ipfs://ipfs/",n).replace("ar://",t):e}},43094:function(){},80950:function(){},89214:function(){},85568:function(){},73105:function(){},52361:function(){},94616:function(){},55024:function(){}},function(e){e.O(0,[3714,8766,7025,2692,4980,2013,5445,9866,3874,1228,7856,6552,8179,3987,1664,9869,713,6966,7410,9774,2888,179],function(){return e(e.s=81865)}),_N_E=e.O()}]);