"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5167],{35532:function(e,s,t){t.d(s,{Z:function(){return Q}});var r=t(85893),n=t(72329),l=t(86010),a=t(27484),i=t.n(a),o=t(84110),d=t.n(o),c=t(11163),u=t(67294),m=t(15209);i().extend(d());let g=e=>{var s;let{profile:t,message:a,conversationKey:o,isSelected:d}=e,u=(0,c.useRouter)(),g=(0,m.qr)(e=>e.currentProfile),x=null==g?void 0:g.ownedBy,f=e=>{u.push(e?"/messages/".concat(o):"/messages")};return(0,r.jsx)("div",{className:(0,l.Z)("py-3 cursor-pointer hover:bg-blue-300 rounded-xl dark:hover:bg-blue-300",d&&"bg-gray-50 dark:bg-gray-800"),onClick:()=>f(t.id),children:(0,r.jsxs)("div",{className:"flex justify-between space-x-3 px-5",children:[(0,r.jsx)("img",{src:(0,n.Z)(t),loading:"lazy",className:"w-10 h-10 bg-gray-200 rounded-full border dark:border-gray-700/80",height:40,width:40,alt:null==t?void 0:t.handle}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsxs)("div",{className:"flex w-full justify-between space-x-1",children:[(0,r.jsx)("div",{className:"flex gap-1 items-center max-w-sm",children:(0,r.jsx)("div",{className:"line-clamp-1 font-bold text-md",children:null!==(s=null==t?void 0:t.name)&&void 0!==s?s:t.handle})}),a.sent&&(0,r.jsx)("span",{className:"min-w-fit pt-0.5 text-xs font-semibold text-gray-500",children:i()(new Date(a.sent)).fromNow()})]}),(0,r.jsxs)("span",{className:"text-sm text-gray-500 font-semibold line-clamp-1 break-all",children:[x===a.senderAddress&&"You: "," ",a.content]})]})]})})};var x=t(11761),f=t(52576);let h=e=>{let{title:s,error:t,className:n=""}=e;return t?(0,r.jsxs)("div",{className:"bg-red-50 dark:bg-red-900 dark:bg-opacity-10 border-2 border-red-500 border-opacity-50 p-4 space-y-1 rounded-xl ".concat(n),children:[s&&(0,r.jsx)("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:s}),(0,r.jsx)("div",{className:"text-sm text-red-700 dark:text-red-200",children:null==t?void 0:t.message})]}):null};var v=t(39321),p=t(16175),b=t(17990),w=t(4346),y=t(54524);let j=new w.ContentTypeId({authorityId:"xmtp.org",typeId:"media-video-url",versionMajor:1,versionMinor:0});class N{get contentType(){return j}encode(e){return{type:j,parameters:{},content:new TextEncoder().encode(e)}}decode(e){let s=e.content,t=new TextDecoder().decode(s);return t}}let M=new w.ContentTypeId({authorityId:"xmtp.org",typeId:"media-image-url",versionMajor:1,versionMinor:0});class k{get contentType(){return M}encode(e){return{type:M,parameters:{},content:new TextEncoder().encode(e)}}decode(e){let s=e.content,t=new TextDecoder().decode(s);return t}}var C=t(48764).Buffer;let S="binary",I=e=>"xmtp:".concat(v.Jy,":keys:").concat(e),P=e=>{let s=localStorage.getItem(I(e));return s?C.from(s,S):null},Z=(e,s)=>{localStorage.setItem(I(e),C.from(s).toString(S))};var T=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=(0,m.qr)(e=>e.currentProfile),t=(0,b.G)(e=>e.client),r=(0,b.G)(e=>e.setClient),[n,l]=(0,u.useState)(),{data:a,isLoading:i}=(0,y.mx)();return(0,u.useEffect)(()=>{let n=async()=>{if(a&&!t&&s){let n=P(await a.getAddress());if(!n){if(e)return;l(!0),n=await w.Client.getKeys(a,{env:v.Jy,appVersion:v.iC+"/"+v.iC}),Z(await a.getAddress(),n)}let i=await w.Client.create(null,{env:v.Jy,appVersion:v.iC+"/"+v.iC,privateKeyOverride:n,codecs:[new N,new k]});r(i),l(!1)}else l(!1)};n(),a&&s||r(void 0)},[a,s]),{client:t,loading:i||n}},F=t(86625);let A=(e,s)=>{let t=parseInt(e.substring(2),16),r=parseInt(s.substring(2),16);return t<r?"".concat(v.Yg,"/").concat(e,"-").concat(s):"".concat(v.Yg,"/").concat(s,"-").concat(e)},q=e=>RegExp("".concat(v.Yg,"/.*").concat(e)),R=(e,s)=>{let t=[];for(let r=0;r<e.length;r+=s){let n=e.slice(r,r+s);t.push(n)}return t},E=()=>{let e=(0,c.useRouter)(),s=(0,m.qr)(e=>e.currentProfile),t=(0,b.G)(e=>e.conversations),r=(0,b.G)(e=>e.setConversations),n=(0,b.G)(e=>e.messageProfiles),l=(0,b.G)(e=>e.setMessageProfiles),a=(0,b.G)(e=>e.previewMessages),i=(0,b.G)(e=>e.setPreviewMessages),o=(0,b.G)(e=>e.selectedProfileId),d=(0,b.G)(e=>e.setSelectedProfileId),g=(0,b.G)(e=>e.setPreviewMessage),x=(0,b.G)(e=>e.reset),{client:f,loading:h}=T(),[v,y]=(0,u.useState)(new Set),[j,N]=(0,u.useState)(!0),[M,k]=(0,u.useState)(!1),[C,S]=(0,u.useState)(),[I]=(0,p.Th6)(),P=(0,b.G)(e=>e.selectedTab),[Z,E]=(0,u.useState)(new Map),[G,z]=(0,u.useState)(0),B=e=>{var t;let r=(0,F.M)(e),n=null==s?void 0:s.id;return r&&n&&null!==(t=r.members.find(e=>e!==n))&&void 0!==t?t:null};return(0,u.useEffect)(()=>{if(M)return;let e=new Set(v);for(let t of Array.from(n.values()))e.delete(t.id);if(!e.size)return;let r=async()=>{k(!0);let t=new Map(n),r=R(Array.from(e),50);try{for(let a of r){var i;let o=await I({variables:{request:{profileIds:a}}});if(!(null===(i=o.data)||void 0===i?void 0:i.profiles.items.length))continue;let d=o.data.profiles.items;for(let c of d){let u=c.ownedBy,m=(0,F.I)(u,A(null==s?void 0:s.id,c.id));t.set(m,c)}}}catch(g){S(g)}l(t),k(!1)};r()},[v]),(0,u.useEffect)(()=>{let e,n;if(!f||!s)return;let l=q(s.id),o=async()=>{for await(let s of e=await f.conversations.streamAllMessages()){var t;let r=null===(t=s.conversation.context)||void 0===t?void 0:t.conversationId;if(r&&l.test(r)){let n=(0,F.I)(s.conversation.peerAddress,r);g(n,s)}}},d=async e=>{var s;let t=(0,F.I)(e.peerAddress,null===(s=e.context)||void 0===s?void 0:s.conversationId),r=await e.messages({limit:1,direction:w.SortDirection.SORT_DIRECTION_DESCENDING});return r.length<=0?{key:t}:{key:t,message:r[0]}},c=async()=>{N(!0);let e=new Map(a),s=new Map(t),n=new Set(v),o=await f.conversations.list(),c=o.filter(e=>{var s;return(null===(s=e.context)||void 0===s?void 0:s.conversationId)&&l.test(e.context.conversationId)});for(let u of c){var m;let g=(0,F.I)(u.peerAddress,null===(m=u.context)||void 0===m?void 0:m.conversationId);s.set(g,u)}let x=await Promise.all(c.map(d));for(let h of x){let p=B(h.key);p&&n.add(p),h.message&&e.set(h.key,h.message)}i(e),r(s),N(!1),n.size>v.size&&y(n)},u=async()=>{n&&await n.return()},m=async()=>{e&&await e.return(void 0)},x=async()=>{var e,l;u(),n=await (null==f?void 0:null===(e=f.conversations)||void 0===e?void 0:e.stream())||[];let a=q(null==s?void 0:s.id);for await(let i of n){if(!(null===(l=i.context)||void 0===l?void 0:l.conversationId)||!a.test(i.context.conversationId))continue;let o=new Map(t),d=new Set(v),c=(0,F.I)(i.peerAddress,i.context.conversationId);o.set(c,i);let m=B(c);m&&!v.has(m)&&(d.add(m),y(d)),r(o)}};return c(),x(),o(),()=>{u(),m()}},[f,null==s?void 0:s.id,o]),(0,u.useEffect)(()=>{o&&(null==s?void 0:s.id)!==o?(x(),d(null==s?void 0:s.id),e.push("/messages")):d(null==s?void 0:s.id)},[s]),(0,u.useEffect)(()=>{let e=Array.from(n).reduce((e,s)=>{let[t,r]=s,n=a.get(t);return n&&(r.isFollowedByMe?e[0].set(t,r):e[1].set(t,r)),e},[new Map,new Map]);E("Following"===P?e[0]:e[1]),z(e[1].size)},[a,n,P]),{authenticating:h,loading:j||M,messages:a,profilesToShow:Z,requestedCount:G,profilesError:C}};var G=t(9747),z=t(64208),B=t(47516),L=t(53854),D=t(73359),O=function(e,s){let[t,r]=(0,u.useState)(e);return(0,u.useEffect)(()=>{let t=setTimeout(()=>r(e),s||500);return()=>{clearTimeout(t)}},[e,s]),t},U=t(30545),$=t(29451),_=t(61286),J=t(33962),V=t(31415);let W=(e,s)=>{(0,u.useEffect)(()=>{let t=t=>{let r=null==e?void 0:e.current;!r||r.contains(t.target)||s(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[e,s])};var Y=t(47422);let K=e=>{let{hideDropdown:s=!1,onProfileSelected:t,placeholder:n="Search…",modalWidthClassName:a="max-w-md"}=e,{push:i,pathname:o,query:d}=(0,c.useRouter)(),[m,g]=(0,u.useState)(""),f=(0,u.useRef)(null);W(f,()=>g(""));let[h,{data:v,loading:b}]=(0,p.mpp)(),w=e=>{let t=e.target.value;g(t),"/search"===o||s||h({variables:{request:{type:p.qkC.Profile,query:t,customFilters:[p.U9Q.Gardeners],limit:8}}})},y=e=>{e.preventDefault(),"/search"===o?i("/search?q=".concat(encodeURIComponent(m),"&type=").concat(d.type)):i("/search?q=".concat(encodeURIComponent(m),"&type=profiles")),g("")},j=null==v?void 0:v.search,N=j&&j.hasOwnProperty("items"),M=N?j.items:[];return(0,r.jsxs)("div",{"aria-hidden":"true",className:"w-full pb-4","data-testid":"global-search",children:[(0,r.jsx)("form",{onSubmit:y,children:(0,r.jsx)(_.I,{type:"text",className:"px-3 py-2 text-sm",placeholder:n,value:m,iconLeft:(0,r.jsx)(L.MM7,{}),iconRight:(0,r.jsx)(V.Z,{className:(0,l.Z)("cursor-pointer",m?"visible":"invisible"),onClick:()=>g("")}),onChange:w})}),"/search"!==o&&!s&&m.length>0&&(0,r.jsx)("div",{className:(0,l.Z)("absolute mt-2 flex w-[90%] text-xs rounded-xl  justify-content items-center flex-col",a),ref:f,"data-testid":"search-profiles-dropdown",children:(0,r.jsx)(x.Z,{className:"max-h-[80vh] rounded-xl text-xs items-center justify-content bg-white overflow-y-auto py-2",children:b?(0,r.jsxs)("div",{className:"space-y-2 px-4 py-2 text-center text-sm font-bold",children:[(0,r.jsx)(J.$,{size:"sm",className:"mx-auto"}),(0,r.jsx)("div",{children:"Searching users"})]}):(0,r.jsxs)(r.Fragment,{children:[M.map(e=>(0,r.jsx)("div",{className:"cursor-pointer px-4 py-2 bg-white ",onClick:()=>{t&&t(e),g("")},"data-testid":"search-profile-".concat((0,$.Z)(null==e?void 0:e.handle)),children:(0,r.jsx)(Y.Z,{query:"".concat((0,$.Z)(null==e?void 0:e.handle))})},null==e?void 0:e.handle)),0===M.length&&(0,r.jsx)("div",{className:"px-4 py-2",children:"No matching users"})]})})})]})},H=e=>{let{className:s,selectedConversationKey:t}=e,n=(0,c.useRouter)(),a=(0,m.qr)(e=>e.currentProfile),i=(0,b.G)(e=>e.addProfileAndSelectTab),o=(0,b.G)(e=>e.selectedTab),d=(0,b.G)(e=>e.setSelectedTab),[w,y]=(0,u.useState)(!1),[j,N]=(0,u.useState)(""),M=O(j,500),[k,C]=(0,u.useState)(!1),[S,I]=(0,u.useState)(p.qkC.Profile),{authenticating:P,loading:Z,messages:T,profilesToShow:q,requestedCount:R,profilesError:$}=E(),_=(0,b.N)(e=>e.clearMessagesBadge),J=Array.from(q).sort((e,s)=>{var t,r;let[n]=e,[l]=s,a=T.get(n),i=T.get(l);return((null==a?void 0:null===(t=a.sent)||void 0===t?void 0:t.getTime())||0)>=((null==i?void 0:null===(r=i.sent)||void 0===r?void 0:r.getTime())||0)?-1:1}),[V,{data:W,loading:Y}]=(0,D.t)(p.LZg),H=()=>{j.trim().length&&V({variables:{request:{type:S,query:j,limit:5}}})};(0,u.useEffect)(()=>{H()},[M,S]),(0,u.useEffect)(()=>{a&&_(a.id)},[a]);let Q=a&&P,X=Z&&(0===T.size||0===q.size),ee=()=>{y(!0)},es=e=>{let s=A(null==a?void 0:a.id,e.id),t=(0,F.I)(e.ownedBy,s);i(t,e),n.push("/messages/".concat(t)),y(!1)};return(0,r.jsxs)("div",{className:(0,l.Z)("w-full h-full flex flex-col justify-between  rounded-3xl",s),children:[(0,r.jsx)(U.Z,{}),(0,r.jsxs)(x.Z,{className:"flex h-full flex-col justify-between !border-r-0 !rounded-tl-3xl !rounded-bl-3xl !rounded-none",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between bg-blue-500 border-4 border-black rounded-3xl p-5 ",children:[(0,r.jsx)("div",{className:"font-bold",children:"Messages"}),a&&!Q&&!X&&(0,r.jsx)("button",{onClick:ee,type:"button",children:(0,r.jsx)(B.RWX,{className:"h-6 w-6"})})]}),(0,r.jsxs)("div",{className:"flex sm:hidden",children:[(0,r.jsxs)("div",{onClick:()=>d("Following"),className:(0,l.Z)("text-brand2-500 tab-bg m-2 ml-4 flex flex-1 cursor-pointer items-center justify-center rounded-full p-2 font-bold","Following"===o?"bg-blue-300":""),children:[(0,r.jsx)(L.Otr,{className:"mr-2 h-4 w-4"}),"Following"]}),(0,r.jsxs)("div",{onClick:()=>d("Requested"),className:(0,l.Z)("text-brand2-500 tab-bg m-2 mr-4 flex flex-1 cursor-pointer items-center justify-center rounded-full p-2 font-bold","Requested"===o?"bg-blue-300":""),children:["Requested",R>0&&(0,r.jsx)("span",{className:"bg-brand2-200 ml-2 rounded-2xl px-3 py-0.5 text-sm font-bold",children:R>99?"99+":R})]})]}),"Requested"===o?(0,r.jsx)("div",{className:"mt-1 bg-yellow-100 p-2 px-5 text-sm text-yellow-800",children:"These conversations are from Lens profiles that you don't currently follow."}):null,(0,r.jsx)("div",{className:"h-full overflow-y-hidden overflow-x-hidden",children:Q?(0,r.jsx)("div",{className:"flex h-full flex-grow items-center justify-center",children:(0,r.jsx)(G.Z,{})}):X?(0,r.jsx)("div",{className:"flex h-full flex-grow items-center justify-center",children:(0,r.jsx)(G.Z,{})}):$?(0,r.jsx)(h,{className:"m-5",title:"Failed to load messages",error:{message:v.c9,name:v.c9}}):0===J.length?(0,r.jsx)("button",{className:"h-full w-full justify-items-center",onClick:ee,type:"button",children:(0,r.jsx)(f.u,{message:"Start messaging your Lens frens",icon:(0,r.jsx)(B.W7F,{className:"text-brand h-8 w-8"}),hideCard:!0})}):null==J?void 0:J.map(e=>{let[s,n]=e,l=T.get(s);return l?(0,r.jsx)(g,{isSelected:s===t,profile:n,conversationKey:s,message:l},s):null})})]}),(0,r.jsx)("div",{className:"",children:(0,r.jsx)(z.u,{title:"New message",icon:(0,r.jsx)(B.W7F,{className:"text-brand h-5 w-5"}),size:"sm",show:w,onClose:()=>y(!1),children:(0,r.jsx)("div",{className:"w-full px-4 pb pt-4",children:(0,r.jsx)(K,{modalWidthClassName:"max-w",placeholder:"Search for someone to message...",onProfileSelected:es})})})})]})};var Q=H},30545:function(e,s,t){var r=t(85893),n=t(41664),l=t.n(n),a=t(25675),i=t.n(a),o=t(15209),d=t(23286),c=t(79494),u=t(12313),m=t(34601),g=t(11163),x=t.n(g);let f=()=>{var e;let s=(0,o.qr)(e=>e.currentProfile),t=null==s?void 0:s.picture;return console.log("CURRENT PROFILE",null==s?void 0:s.picture),(0,r.jsxs)("div",{className:"w-full flex justify-between rounded-lg items-center border-4 border-blue-500 p-2 ",children:[(0,r.jsx)("button",{onClick:()=>x().back(),className:"text-black w-6px h-6px rounded-md flex justify-center items-center",children:(0,r.jsx)(m.Z,{className:"w-6 h-6 fill-black cursor-pointer"})}),(0,r.jsx)(c.Z,{}),(0,r.jsx)(l(),{href:"/discover",children:(0,r.jsx)("button",{className:"text-black hover:text-gray-100 focus:outline-none lg:hidden xl:hidden focus:text-gray-100 border-gray-800",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"flex pl-full centre-item gap-5 md:gap-10 ",children:s?(0,r.jsx)("div",{className:"w-12 h-12",children:(0,r.jsx)(l(),{href:"/u/".concat(s.id),children:(null==t?void 0:t.__typename)==="MediaSet"?(null===(e=t.original)||void 0===e?void 0:e.url.includes("ipfs"))?(0,r.jsx)(i(),{src:(0,d.A)(null==t?void 0:t.original.url),width:40,height:40,className:"rounded-full cursor-pointer",alt:s.id.handle,layout:"responsive"}):(0,r.jsx)(i(),{src:null==t?void 0:t.original.url,width:40,height:40,className:"rounded-full cursor-pointer",alt:s.id.handle,layout:"responsive"}):(0,r.jsx)("div",{className:"bg-blue-900 w-8 h-8 rounded-full"})},s.id)}):(0,r.jsx)("div",{className:"block",children:(0,r.jsx)(u.NL,{})})})})]})};s.Z=f},79494:function(e,s,t){var r=t(85893),n=t(21273),l=t(16175),a=t(11163),i=t(67294),o=t(47516),d=t(33962),c=t(72329),u=t(41664),m=t.n(u);let g=e=>{let{hideDropdown:s=!1}=e,{push:t,pathname:u,query:g}=(0,a.useRouter)(),[x,f]=(0,i.useState)(""),h=(0,i.useRef)(null),[v,{data:p,loading:b}]=(0,n.mp)(),w=e=>{let t=e.target.value;f(t),"/search"===u||s||v({variables:{request:{type:l.qkC.Profile,query:t,limit:8}}})},y=e=>{e.preventDefault(),"/search"===u?t("/search?q=".concat(x,"&type=").concat(g.type)):t("/search?q=".concat(x,"&type=profiles")),f(""),console.log(x)},j=null==p?void 0:p.search,N=j&&j.hasOwnProperty("items"),M=N?j.items:[];return(0,r.jsxs)("div",{className:"relative items-center hidden md:hidden",children:[(0,r.jsxs)("form",{className:"absolute md:static top-10 -left-20 max-w-md",onSubmit:y,children:[(0,r.jsx)("input",{className:"justify-content bg-primary p-3 md:text-md font-medium border-2 border-gray-100 focus:outline-none focus:border-2 focus:border-gray-300 w-[300px] md:w-[350px] rounded-full md:top-0",placeholder:"Search accounts and videos",value:x,onChange:w}),(0,r.jsx)("button",{className:"absolute md:right-5 right-6 top-4 border-l-2 border-gray-300 pl-4 text-2xl text-gray-400",children:(0,r.jsx)(o.Goc,{})})]}),"/search"!==u&&!s&&x.length>0&&(0,r.jsx)("div",{className:"flex absolute flex-col mt-2 w-[94%] z-50",ref:h,children:(0,r.jsx)("div",{className:"overflow-y-auto py-2 max-h-[80vh] rounded-none border bg-white",children:b?(0,r.jsxs)("div",{className:"py-2 px-4 space-y-2 text-sm font-bold text-center",children:[(0,r.jsx)(d.$,{size:"sm",className:"mx-auto"}),(0,r.jsx)("div",{children:"Searching..."})]}):(0,r.jsxs)(r.Fragment,{children:[M.map(e=>(0,r.jsx)("div",{className:"p-5",children:(0,r.jsx)(m(),{href:"/u/".concat(null==e?void 0:e.id),children:(0,r.jsxs)("div",{className:"flex gap-3 hover:bg-primary p-2 cursor-pointer font-semibold rounded items-center",children:[(0,r.jsx)("div",{children:(0,r.jsx)("img",{width:40,height:40,className:"rounded-full cursro-pointer",src:(0,c.Z)(e),alt:null==e?void 0:e.handle})}),(0,r.jsx)("div",{className:"hidden lg:block",children:(0,r.jsx)("p",{className:"flex gap-1 items-center text-md font-bold text-primary lowercase",children:null==e?void 0:e.handle})})]})})},null==e?void 0:e.id)),0===M.length&&(0,r.jsx)("div",{children:"No matching Profiles"})]})})})]})};s.Z=g},47422:function(e,s,t){var r=t(85893),n=t(21273),l=t(16175);t(67294);var a=t(33962),i=t(25675),o=t.n(i),d=t(72329),c=t(41664),u=t.n(c),m=t(29451);let g=e=>{var s,t;let{query:i}=e,c={query:i,type:l.qkC.Profile,limit:10},{data:g,loading:x,error:f,fetchMore:h}=(0,n.Fh)({variables:{request:c},skip:!i}),v=null==g?void 0:null===(s=g.search)||void 0===s?void 0:s.items,p=null==g?void 0:null===(t=g.search)||void 0===t?void 0:t.pageInfo;return((null==p?void 0:p.next)&&(null==v||v.length,p.totalCount),console.log(v),(null==v?void 0:v.length)===0)?(0,r.jsxs)("div",{children:["No profiles for ",(0,r.jsxs)("b",{children:["“",i,"”"]})]}):f?(0,r.jsx)("div",{children:"Failed to load profiles"}):(x&&(r.Fragment,a.$),(0,r.jsx)("div",{className:"space-y-3 rounded-xl",children:null==v?void 0:v.map(e=>(0,r.jsx)("div",{className:"p-5",children:(0,r.jsx)(u(),{href:"/u/".concat(null==e?void 0:e.id),children:(0,r.jsxs)("div",{className:"flex gap-3 p-2 cursor-pointer rounded-xl font-semibold items-center",children:[(0,r.jsx)(o(),{width:62,height:62,className:"rounded-full cursor-pointer",src:(0,d.Z)(e),alt:(0,m.Z)(null==e?void 0:e.handle)}),(0,r.jsx)("div",{className:" lg:block",children:(0,r.jsxs)("p",{className:"flex gap-1 items-center text-md font-bold text-primary lowercase",children:[null==e?void 0:e.name,(0,r.jsxs)("p",{className:"capitalize text-gray-400",children:[(0,m.Z)(null==e?void 0:e.handle),""]})]})})]})})},null==e?void 0:e.id))}))};s.Z=g},29780:function(e,s,t){t.d(s,{z:function(){return a}});var r=t(85893),n=t(86010),l=t(67294);let a=(0,l.forwardRef)(function(e,s){let{className:t="",size:l="md",variant:a="primary",outline:i,light:o,loading:d,icon:c,children:u,...m}=e;return(0,r.jsxs)("button",{ref:s,className:(0,n.Z)({"bg-blue-500 hover:bg-[#57B8FF] border text-white focus:ring-blue-400":!i&&!o&&"primary"===a,"bg-gray-500 hover:bg-gray-600 border border-gray-600 text-white focus:ring-gray-400":!i&&!o&&"secondary"===a,"bg-green-500 hover:bg-green-400 border border-green-600 text-white focus:ring-green-400":!i&&!o&&"success"===a,"bg-yellow-500 hover:bg-yellow-400 border border-yellow-600 text-white focus:ring-yellow-400":!i&&!o&&"warning"===a,"bg-pink-700 hover:bg-pink-400 border border-pink-600 text-white focus:ring-pink-400":!i&&!o&&"super"===a,"bg-red-700 hover:bg-red-400 border border-red-600 text-white focus:ring-red-400":!i&&!o&&"danger"===a,"border border-blue-700 text-blue hover:bg-blue-100 focus:ring-blue-400":i&&!o&&"primary"===a,"border border-gray-700 text-gray-700 hover:bg-gray-100 focus:ring-gray-400":i&&!o&&"secondary"===a,"border border-green-700 text-green-700 hover:bg-green-100 focus:ring-green-400":i&&!o&&"success"===a,"border border-yellow-700 text-yellow-700 hover:bg-yellow-100 focus:ring-yellow-400":i&&!o&&"warning"===a,"border border-pink-700 text-pink-700 hover:bg-pink-100 focus:ring-pink-400":i&&!o&&"super"===a,"border border-red-700 text-red-700 hover:bg-red-100 focus:ring-red-400":i&&!o&&"danger"===a,"border-none !shadow-none text-gray-700":o,"px-2 py-0.5":"sm"===l,"px-3 py-1":"md"===l,"px-4 py-1.5":"lg"===l,"flex items-center space-x-1.5":c&&u},"rounded-full font-bold disabled:opacity-50 shadow-sm focus:ring-2 focus:ring-opacity-50 focus:ring-offset-1 outline-none",t),disabled:d,type:m.type,...m,children:[c,(0,r.jsx)("div",{children:u})]})})},11761:function(e,s,t){t.d(s,{Z:function(){return l}});var r=t(85893),n=t(86010);let l=e=>{let{children:s,as:t="div",className:l="",forceRounded:a=!1,onClick:i}=e;return(0,r.jsx)(t,{className:(0,n.Z)(a?"flex rounded-xl":"rounded-none sm:rounded-xl","border  [#d9dff1f6] ",l),onClick:i,children:s})}},52576:function(e,s,t){t.d(s,{u:function(){return l}});var r=t(85893),n=t(11761);let l=e=>{let{message:s,icon:t,hideCard:l=!1}=e;return(0,r.jsx)(n.Z,{className:l?"border-0 !shadow-none !bg-transparent":"",children:(0,r.jsxs)("div",{className:"grid justify-items-center p-5 space-y-2",children:[(0,r.jsx)("div",{children:t}),(0,r.jsx)("div",{children:s})]})})}},61286:function(e,s,t){t.d(s,{I:function(){return a}});var r=t(85893),n=t(86010),l=t(67294);let a=(0,l.forwardRef)(function(e,s){let{label:t,prefix:a,type:i="text",iconLeft:o,iconRight:d,error:c,className:u="",helper:m,...g}=e,x=(0,l.useId)(),f=["text-zinc-500 [&>*]:peer-focus:text-brand-500 [&>*]:h-5",{"!text-red-500 [&>*]:peer-focus:!text-red-500":c}];return(0,r.jsxs)("label",{className:"w-full",htmlFor:x,children:[t&&(0,r.jsx)("div",{className:"flex items-center mb-1 space-x-1.5",children:(0,r.jsx)("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:t})}),(0,r.jsxs)("div",{className:"flex",children:[a&&(0,r.jsx)("span",{className:"inline-flex items-center px-3 lt-text-gray-500 bg-gray-100 rounded-l-xl border border-r-0 border-gray-300 dark:bg-gray-900 ",children:a}),(0,r.jsxs)("div",{className:(0,n.Z)({"!border-red-500":c},{"focus-within:ring-1":!c},{"rounded-r-lg":a},{"rounded-lg":!a},{"opacity-60 bg-gray-500 bg-opacity-20":g.disabled},"flex items-center border bg-white  border-gray-300  w-full  ring-0 focus-within:ring-0 focus-visible:ring-0"),children:[(0,r.jsx)("input",{id:x,className:(0,n.Z)({"placeholder-red-500":c},{"rounded-r-lg":a},{"rounded-lg":!a},"peer border-none focus:ring-0 outline-none px-4 ring-0 focus-within:ring-0 focus-visible:ring-0 py-2 bg-transparent w-full",u),type:i,ref:s,...g}),(0,r.jsx)("span",{tabIndex:-1,className:(0,n.Z)({"order-first pl-3":o},f),children:o}),(0,r.jsx)("span",{tabIndex:-1,className:(0,n.Z)({"order-last pr-3":d},f),children:d})]})]})]})})},9747:function(e,s,t){var r=t(85893),n=t(33962);let l=e=>{let{message:s}=e;return(0,r.jsxs)("div",{className:"p-5 space-y-2 font-bold text-center",children:[(0,r.jsx)(n.$,{size:"sm",className:"mx-auto"}),s?(0,r.jsx)("div",{children:s}):null]})};s.Z=l},64208:function(e,s,t){t.d(s,{u:function(){return d}});var r=t(85893),n=t(11355),l=t(26064),a=t(86010),i=t(67294),o=t(89583);let d=e=>{let{icon:s,title:t,size:d="sm",show:c,children:u,onClose:m}=e;return(0,r.jsx)(n.u.Root,{show:c,as:i.Fragment,children:(0,r.jsx)(l.V,{as:"div",className:"overflow-y-auto fixed inset-0 z-10",onClose:m,children:(0,r.jsxs)("div",{className:"flex justify-center items-center p-4 min-h-screen text-center sm:block sm:p-0",children:[(0,r.jsx)(n.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)(l.V.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,r.jsx)("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle","aria-hidden":"true"}),(0,r.jsx)(n.u.Child,{as:i.Fragment,enter:"ease-out duration-100",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-100",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,r.jsxs)("div",{className:(0,a.Z)({"sm:max-w-5xl":"lg"===d},{"sm:max-w-3xl":"md"===d},{"sm:max-w-lg":"sm"===d},"inline-block align-bottom bg-white text-left shadow-xl transform transition-all sm:my-8 sm:align-middle w-full rounded-xl"),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center py-3.5 px-5 divider",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 font-bold",children:[s,(0,r.jsx)("div",{children:t})]}),(0,r.jsx)("button",{type:"button",className:"p-1 text-gray-800 rounded-full hover:bg-gray-200",onClick:m,children:(0,r.jsx)(o.aHS,{className:"w-5 h-5"})})]}),u]})})]})})})}},50680:function(e,s,t){t.r(s),t.d(s,{default:function(){return c}});var r=t(85893),n=t(29780),l=t(9008),a=t.n(l),i=t(41664),o=t.n(i);t(67294);var d=t(39321);function c(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:"404"})}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-start h-full mt-10 md:mt-20",children:[(0,r.jsx)("img",{src:"".concat(d.Fv,"/images/icon.png"),alt:d.iC,draggable:!1,height:200,width:200}),(0,r.jsxs)("div",{className:"py-10 text-center",children:[(0,r.jsx)("h1",{className:"mb-4 text-3xl font-bold",children:"404"}),(0,r.jsx)("div",{className:"mb-6",children:"This page could not be found."}),(0,r.jsx)(o(),{href:"/",children:(0,r.jsx)(n.z,{children:"Go Home"})})]})]})]})}},17990:function(e,s,t){t.d(s,{N:function(){return o},G:function(){return i}});let r=e=>{let s=[...Array.from(new Map(e.map(e=>[e.id,e])).values())];return s.sort((e,s)=>{var t,r,n,l;return(null!==(n=null===(t=s.sent)||void 0===t?void 0:t.getTime())&&void 0!==n?n:0)-(null!==(l=null===(r=e.sent)||void 0===r?void 0:r.getTime())&&void 0!==l?l:0)}),null!=s?s:[]};var n=t(4346),l=t(73445),a=t(782);let i=(0,l.Ue)(e=>({client:void 0,setClient:s=>e(()=>({client:s})),conversations:new Map,setConversations:s=>e(()=>({conversations:s})),addConversation:(s,t)=>{e(e=>{let r=new Map(e.conversations);return r.set(s,t),{conversations:r}})},messages:new Map,setMessages:s=>e(()=>({messages:s})),addMessages:(s,t)=>{let n=0;return e(e=>{let l=new Map(e.messages),a=e.messages.get(s)||[],i=r([...a,...t]);return(n=i.length-a.length)?(l.set(s,i),{messages:l}):{messages:e.messages}}),n},messageProfiles:new Map,setMessageProfiles:s=>e(()=>({messageProfiles:s})),addProfileAndSelectTab:(s,t)=>e(e=>{let r;e.messageProfiles.get(s)?r=e.messageProfiles:(r=new Map(e.messageProfiles)).set(s,t);let n=t.isFollowedByMe?"Following":"Requested";return{messageProfiles:r,selectedTab:n}}),previewMessages:new Map,setPreviewMessage:(s,t)=>e(e=>{let r=new Map(e.previewMessages);return r.set(s,t),{previewMessages:r}}),attachment:{id:"",item:"",altTag:"",type:"",previewItem:""},setAttachment:s=>e(()=>({attachment:s})),isUploading:!1,setIsUploading:s=>e(()=>({isUploading:s})),setPreviewMessages:s=>e(()=>({previewMessages:s})),selectedProfileId:"",setSelectedProfileId:s=>e(()=>({selectedProfileId:s})),selectedTab:"Following",setSelectedTab:s=>e(()=>({selectedTab:s})),reset:()=>e(e=>({...e,conversations:new Map,messages:new Map,messageProfiles:new Map,previewMessages:new Map,selectedTab:"Following"}))})),o=(0,l.Ue)((0,a.tJ)(e=>({viewedMessagesAtNs:new Map,showMessagesBadge:new Map,setShowMessagesBadge:s=>e(()=>({showMessagesBadge:s})),clearMessagesBadge:s=>{e(e=>{let t=new Map(e.viewedMessagesAtNs);if(t.set(s,(0,n.toNanoString)(new Date)),!e.showMessagesBadge.get(s))return{viewedMessagesAtNs:t};let r=new Map(e.showMessagesBadge);return r.set(s,!1),{viewedMessagesAtNs:t,showMessagesBadge:r}})},unsentMessages:new Map,setUnsentMessage:(s,t)=>e(e=>{let r=new Map(e.unsentMessages);return t?r.set(s,t):r.delete(s),{unsentMessages:r}}),setUnsentMessages:s=>e(()=>({unsentMessages:s}))}),{name:"lensshare.message.store",serialize:e=>JSON.stringify({...e,state:{...e.state,viewedMessagesAtNs:Array.from(e.state.viewedMessagesAtNs),showMessagesBadge:Array.from(e.state.showMessagesBadge),unsentMessages:Array.from(e.state.unsentMessages)}}),deserialize:e=>{let s=JSON.parse(e);return s.state.viewedMessagesAtNs=new Map(s.state.viewedMessagesAtNs),s.state.showMessagesBadge=new Map(s.state.showMessagesBadge),s.state.unsentMessages=new Map(s.state.unsentMessages),s}}))},86625:function(e,s,t){t.d(s,{I:function(){return l},M:function(){return a}});var r=t(39321);let n=/^(.*)\/lens\.dev\/dm\/(.*)-(.*)$/,l=(e,s)=>"".concat(e.toLowerCase(),"/").concat(s),a=e=>{let s=e.match(n);if(!s||4!==s.length)return null;let[,t,l,a]=Array.from(s);return{peerAddress:t,members:[l,a],conversationId:"".concat(r.Yg,"/").concat(l,"-").concat(a)}}},29451:function(e,s,t){var r=t(39321);s.Z=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?(null==e?void 0:e.toLowerCase())===r.Vq?e:s?e.match(r.$P)?e.split(r.$P)[0]+r.$P:e+r.$P:e.replace(r.$P,""):""}}}]);