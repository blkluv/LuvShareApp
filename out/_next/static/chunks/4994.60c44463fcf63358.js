(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4994],{81288:function(e,t,n){"use strict";n.d(t,{M:function(){return a}});let a=[{inputs:[{internalType:"address",name:"hub",type:"address"},{internalType:"address",name:"moduleGlobals",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"FollowInvalid",type:"error"},{inputs:[],name:"InitParamsInvalid",type:"error"},{inputs:[],name:"InvalidParameters",type:"error"},{inputs:[],name:"ModuleDataMismatch",type:"error"},{inputs:[],name:"NotHub",type:"error"},{inputs:[],name:"NotOwnerOrApproved",type:"error"},{inputs:[],name:"OnlyOwner",type:"error"},{inputs:[],name:"SignatureExpired",type:"error"},{inputs:[],name:"SignatureInvalid",type:"error"},{inputs:[],name:"ZeroSpender",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"profileId",type:"uint256"},{indexed:!0,internalType:"uint256",name:"pubId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address",name:"currency",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint16",name:"referralFee",type:"uint16"},{indexed:!1,internalType:"bool",name:"followerOnly",type:"bool"}],name:"ModuleParametersUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"HUB",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"MODULE_GLOBALS",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"burnWithSig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"pubId",type:"uint256"}],name:"getPublicationData",outputs:[{components:[{internalType:"uint256",name:"ownershipTokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint16",name:"referralFee",type:"uint16"},{internalType:"bool",name:"followerOnly",type:"bool"}],internalType:"struct ProfilePublicationData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"pubId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"initializePublicationCollectModule",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"mintTimestampOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"permitForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"referrerProfileId",type:"uint256"},{internalType:"address",name:"collector",type:"address"},{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"pubId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"processCollect",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"sigNonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenDataOf",outputs:[{components:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint96",name:"mintTimestamp",type:"uint96"}],internalType:"struct IERC721Time.TokenData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"pubId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint16",name:"referralFee",type:"uint16"},{internalType:"bool",name:"followerOnly",type:"bool"}],name:"updateModuleParameters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"},{internalType:"uint256",name:"pubId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"address",name:"currency",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint16",name:"referralFee",type:"uint16"},{internalType:"bool",name:"followerOnly",type:"bool"},{internalType:"address",name:"operator",type:"address"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"updateModuleParametersWithSig",outputs:[],stateMutability:"nonpayable",type:"function"}]},62083:function(e,t,n){"use strict";var a=n(85893),l=n(29780),i=n(33962),s=n(17295),o=n(9187),r=n(21273),d=n(14348),u=n(88005),p=n(67294),c=n(86501),y=n(31618);let m=e=>{let{module:t,title:n}=e,[m,v]=(0,p.useState)((null==t?void 0:t.allowance)!=="0x00"),[f,{loading:b}]=(0,r.Dw)(),{data:x,isLoading:T,sendTransaction:h}=(0,y.pQ)({onError:o.Z}),{isLoading:w}=(0,y.BX)({hash:null==x?void 0:x.hash,onSuccess:()=>{c.Am.success("Modude ".concat(m?"disabled":"enabled"," successfully!")),v(!m)},onError:o.Z}),M=(e,n,a)=>{f({variables:{request:{currency:e,value:n,[(0,s.rT)(t.module).field]:a}}}).then(e=>{var t;let n=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.generateModuleCurrencyApprovalData;null==h||h({to:null==n?void 0:n.to,data:null==n?void 0:n.data})})};return m?(0,a.jsx)(l.z,{variant:"warning",icon:b||T||w?(0,a.jsx)(i.$,{variant:"warning",size:"xs"}):(0,a.jsx)(d.Z,{className:"h-4 w-4"}),onClick:()=>M(t.currency,"0",t.module),children:"Revoke"}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(l.z,{variant:"success",icon:b||T||w?(0,a.jsx)(i.$,{variant:"success",size:"xs"}):(0,a.jsx)(u.Z,{className:"h-4 w-4"}),onClick:()=>M(t.currency,Number.MAX_SAFE_INTEGER.toString(),t.module),children:n})})};t.Z=m},49156:function(e,t,n){"use strict";n.r(t);var a=n(85893),l=n(37331),i=n(81288),s=n(58806),o=n(29780),r=n(64208),d=n(34625),u=n(10588),p=n(2176),c=n(64911),y=n(9187),m=n(92882),v=n(21273),f=n(68980),b=n(13250),x=n(7543),T=n(48987),h=n(85837),w=n(20445),M=n(97535),g=n(10050),j=n(56371),N=n(67294),I=n(86501),C=n(31618),F=n(52040),k=n(25675),Z=n.n(k),S=n(27484),A=n.n(S),E=n(33962),D=n(40819),O=n(3689),L=n(62083),P=n(9747);let _=e=>{var t,n,k,S,_,R,Y,q,B,U,H,z,G,W,$,X,K,Q,V,J,ee,et,en,ea,el,ei,es,eo,er,ed,eu,ep,ec,ey,em,ev;let{publication:ef,setCount:eb,count:ex}=e,eT=(0,m.qr)(e=>e.userSigNonce),eh=(0,m.qr)(e=>e.setUserSigNonce),ew=(0,m.qr)(e=>e.currentProfile),[eM,eg]=(0,N.useState)(0),[ej,eN]=(0,N.useState)(null==ef?void 0:ef.hasCollectedByMe),[eI,eC]=(0,N.useState)(!1),[eF,ek]=(0,N.useState)(!0),[eZ,eS]=(0,N.useState)(0),{address:eA}=(0,C.mA)(),{isLoading:eE,signTypedDataAsync:eD}=(0,C.yw)({onError:y.Z}),{data:eO,loading:eL}=(0,v.EE)({variables:{request:{publicationId:null==ef?void 0:ef.id}}}),eP=null==eO?void 0:null===(t=eO.publication)||void 0===t?void 0:t.collectModule,e_=()=>{var e;eg(eM+parseFloat(null==eP?void 0:null===(e=eP.amount)||void 0===e?void 0:e.value)),eb(ex+1),eN(!0),I.ZP.success("Collect Successfully")},{isFetching:eR,refetch:eY}=(0,C.do)({address:d.cX,abi:i.M,functionName:"getPublicationData",args:[parseInt(null===(n=ef.profile)||void 0===n?void 0:n.id),parseInt(null==ef?void 0:ef.id.split("-")[1])],enabled:!1}),{data:eq,isLoading:eB,write:eU}=(0,C.GG)({address:d.Nm,abi:l.g,functionName:"collectWithSig",onSuccess:e_,onError:y.Z}),eH=ex/parseInt(null==eP?void 0:eP.collectLimit)*100,{data:ez,loading:eG}=(0,v.Or)({variables:{request:{currencies:null==eP?void 0:null===(k=eP.amount)||void 0===k?void 0:null===(S=k.asset)||void 0===S?void 0:S.address,followModules:[],collectModules:null==eP?void 0:eP.type,referenceModules:[]}},skip:!(null==eP?void 0:null===(_=eP.amount)||void 0===_?void 0:null===(R=_.asset)||void 0===R?void 0:R.address)||!ew,onCompleted:e=>{var t;ek((null===(t=null==e?void 0:e.approvedModuleAllowanceAmount[0])||void 0===t?void 0:t.allowance)!=="0x00")}}),{data:eW,loading:e$}=(0,v.kV)({variables:{request:{publicationId:null==ef?void 0:ef.id}},pollInterval:5e3,skip:!(null==ef?void 0:ef.id)});(0,N.useEffect)(()=>{var e,t,n,a,l,i;eg(parseFloat(null!==(a=null==eW?void 0:null===(e=eW.publicationRevenue)||void 0===e?void 0:null===(t=e.revenue)||void 0===t?void 0:null===(n=t.total)||void 0===n?void 0:n.value)&&void 0!==a?a:0)),(null==eP?void 0:eP.amount)&&(0,p.Z)((0,u.Z)(null==eP?void 0:null===(l=eP.amount)||void 0===l?void 0:null===(i=l.asset)||void 0===i?void 0:i.symbol)).then(e=>{eS(e)})},[null==eP?void 0:eP.amount,eW]);let{data:eX,isLoading:eK}=(0,C.KQ)({address:eA,token:null==eP?void 0:null===(Y=eP.amount)||void 0===Y?void 0:null===(q=Y.asset)||void 0===q?void 0:q.address,formatUnits:null==eP?void 0:null===(B=eP.amount)||void 0===B?void 0:null===(U=B.asset)||void 0===U?void 0:U.decimals,watch:!0}),eQ=!1;eQ=!(eX&&parseFloat(null==eX?void 0:eX.formatted)<parseFloat(null==eP?void 0:null===(H=eP.amount)||void 0===H?void 0:H.value));let{broadcast:eV,data:eJ,loading:e0}=(0,b.Z)({onCompleted:e_}),[e2,{loading:e5}]=(0,v.Dt)({onCompleted:async e=>{let{createCollectTypedData:t}=e;try{let{id:n,typedData:a}=t,{profileId:l,pubId:i,data:s,deadline:o}=a.value,r=await eD((0,c.Z)(a)),{v:u,r:p,s:y}=(0,j.splitSignature)(r),m={collector:eA,profileId:l,pubId:i,data:s,sig:{v:u,r:p,s:y,deadline:o}};if(eh(eT+1),!d.fx)return null==eU?void 0:eU({args:[m]});let{data:{broadcast:v}}=await eV({request:{id:n,signature:r}});"reason"in v&&(null==eU||eU({args:[m]}))}catch(f){}},onError:y.Z}),[e6,{loading:e1}]=(0,v.RI)({onCompleted:e_,onError:y.Z}),e8=async e=>{let{data:t}=await e6({variables:e});(null==t?void 0:t.proxyAction)||e2({variables:{request:{publicationId:null==ef?void 0:ef.id},options:{overrideSigNonce:eT}}})},e3=()=>{if(!ew)return I.ZP.error("Please connect your Wallet");(null==eP?void 0:eP.type)===f.pYo.FeeCollectModule?e8({request:{collect:{freeCollect:{publicationId:null==ef?void 0:ef.id}}}}):(null==eP?void 0:eP.__typename)==="UnknownCollectModuleSettings"?eY().then(e=>{let{data:t}=e;t&&(j.defaultAbiCoder.encode(["address","uint256"],[null==t?void 0:t[2],null==t?void 0:t[1]]),e2({variables:{options:{overrideSigNonce:eT},request:{publicationId:null==ef?void 0:ef.id,unknownModuleData:O.cv}}}))}):e2({variables:{options:{overrideSigNonce:eT},request:{publicationId:null==ef?void 0:ef.id}}})};if(eL||e$)return(0,a.jsx)(P.Z,{message:"Loading collect"});let e4=e5||e1||eE||eR||eB||e0;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(a.Fragment,{children:[((null==eP?void 0:eP.type)===f.pYo.LimitedFeeCollectModule||(null==eP?void 0:eP.type)===f.pYo.LimitedTimedFeeCollectModule)&&(0,a.jsx)("div",{className:"h-2.5 w-full bg-gray-200",children:(0,a.jsx)("div",{className:"h-2.5 bg-blue-500",style:{width:"".concat(eH,"%")}})}),(0,a.jsxs)("div",{className:"p-5",children:[(null==eP?void 0:eP.followerOnly)&&(0,a.jsx)("div",{className:"pb-5",children:"Follower Only Collect Module"}),(0,a.jsxs)("div",{className:"space-y-1.5 pb-2",children:[(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(null==ef?void 0:null===(z=ef.metadata)||void 0===z?void 0:z.name)&&(0,a.jsx)("div",{className:"text-xl font-bold",children:null==ef?void 0:null===(G=ef.metadata)||void 0===G?void 0:G.name})}),(null==ef?void 0:null===(W=ef.metadata)||void 0===W?void 0:W.description)&&(0,a.jsx)("span",{className:"line-clamp-2 text-gray-500",children:null==ef?void 0:null===($=ef.metadata)||void 0===$?void 0:$.description})]}),(null==eP?void 0:eP.amount)&&(0,a.jsxs)("div",{className:"flex items-center space-x-1.5 py-2",children:[(0,a.jsx)(Z(),{className:"h-7 w-7",height:28,width:28,src:(0,F.Z)(null==eP?void 0:null===(X=eP.amount)||void 0===X?void 0:null===(K=X.asset)||void 0===K?void 0:K.symbol),alt:null==eP?void 0:null===(Q=eP.amount)||void 0===Q?void 0:null===(V=Q.asset)||void 0===V?void 0:V.symbol,title:null==eP?void 0:null===(J=eP.amount)||void 0===J?void 0:null===(ee=J.asset)||void 0===ee?void 0:ee.symbol}),(0,a.jsxs)("span",{className:"space-x-1",children:[(0,a.jsx)("span",{className:"text-2x1 font-bold",children:eP.amount.value}),(0,a.jsx)("span",{className:"text-xs",children:null==eP?void 0:null===(et=eP.amount)||void 0===et?void 0:null===(en=et.asset)||void 0===en?void 0:en.symbol}),eZ?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"px-0.5 text-gray-500",children:"."}),(0,a.jsxs)("span",{children:["$",(eP.amount.value*eZ).toFixed(2)]})]}):null]})]}),(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsxs)("div",{className:"item-center block space-y-1 sm:flex sm:space-x-5",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 overflow-auto",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 text-gray-500"}),(0,a.jsxs)("span",{className:"cursor-pointer text-xs font-bold",onClick:()=>{eC(!eI)},children:[ex," Collectors"]}),(0,a.jsx)(r.u,{title:"Collected by",show:eI,onClose:()=>eC(!1),children:(0,a.jsx)(s.Z,{publicationId:null==ef?void 0:ef.id})})]}),(null==eP?void 0:eP.collectLimit)&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(T.Z,{className:"h-4 w-4 text-gray-500"}),(0,a.jsxs)("div",{className:"font-bold",children:[parseInt(null==eP?void 0:eP.collectLimit)-ex," Avaliable"]})]}),(null==eP?void 0:eP.referralFee)?(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-gray-500"}),(0,a.jsxs)("div",{className:"font-bold",children:[eP.referralFee,"% Referral fee"]})]}):null]}),(null==eW?void 0:eW.publicationRevenue)&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-gray-500"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,a.jsx)("span",{children:"Revenue:"}),(0,a.jsxs)("span",{className:"flex items-center space-x-1",children:[(0,a.jsx)(Z(),{src:(0,F.Z)(null==eP?void 0:null===(ea=eP.amount)||void 0===ea?void 0:null===(el=ea.asset)||void 0===el?void 0:el.symbol),className:"h-5 w-5",height:20,width:20,alt:null==eP?void 0:null===(ei=eP.amount)||void 0===ei?void 0:null===(es=ei.asset)||void 0===es?void 0:es.symbol,title:null==eP?void 0:null===(eo=eP.amount)||void 0===eo?void 0:null===(er=eo.asset)||void 0===er?void 0:er.symbol}),(0,a.jsxs)("div",{className:"flex items-baseline space-x-1.5",children:[(0,a.jsx)("div",{className:"font-bold",children:eM}),(0,a.jsx)("div",{className:"text-[10px]",children:null==eP?void 0:null===(ed=eP.amount)||void 0===ed?void 0:null===(eu=ed.asset)||void 0===eu?void 0:eu.symbol}),eZ?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-gray-500",children:"."}),(0,a.jsxs)("span",{className:"text-xs font-bold text-gray-500",children:["$",(eM*eZ).toFixed(2)]})]}):null]})]})]})]}),(null==eP?void 0:eP.endTimestamp)&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(w.Z,{className:"h-4 w-4 text-gray-500"}),(0,a.jsxs)("div",{className:"space-x-1.5",children:[(0,a.jsx)("span",{children:"Sale Ends:"}),(0,a.jsxs)("span",{className:"font-bold text-gray-600",children:[A()(eP.endTimestamp).format("MMMM DD, YYYY")," ","at ",A()(eP.endTimestamp).format("hh:mm a")]})]})]}),(null==eO?void 0:null===(ep=eO.publication)||void 0===ep?void 0:ep.collectNftAddress)&&(0,a.jsx)("div",{})]}),(null!==(em=null==eq?void 0:eq.hash)&&void 0!==em?em:null==eJ?void 0:null===(ec=eJ.broadcast)||void 0===ec?void 0:ec.txHash)?(0,a.jsx)("div",{children:(0,a.jsx)(D.Z,{txHash:null!==(ev=null==eq?void 0:eq.hash)&&void 0!==ev?ev:null==eJ?void 0:null===(ey=eJ.broadcast)||void 0===ey?void 0:ey.txHash})}):null,(0,a.jsx)("div",{className:"mt-5 flex items-center space-x-2",children:ew&&!ej?eG||eK?(0,a.jsx)("div",{className:"round-lg shimmer h-[34px] w-28"}):eF?eQ?(0,a.jsx)(o.z,{className:"text-xs font-bold",onClick:e3,disabled:e4,icon:e4?(0,a.jsx)(E.$,{size:"xs"}):(0,a.jsx)(M.Z,{className:"h-4 w-4"}),children:"Collect now"}):"Not enough money":(0,a.jsx)(L.Z,{title:"Allow collect module",module:null==ez?void 0:ez.approvedModuleAllowanceAmount[0],allowed:eF,setAllowed:ek}):null}),(null==ef?void 0:ef.hasCollectedByMe)&&(0,a.jsxs)("div",{className:"mt-3 flex items-center space-x-1.5 font-bold text-green-500",children:[(0,a.jsx)(g.Z,{className:"h-5 w-5"}),(0,a.jsx)("div",{children:"You already collected this"})]})]})]})})};t.default=_},40819:function(e,t,n){"use strict";var a=n(85893),l=n(21273),i=n(67294),s=n(86010),o=n(33962),r=n(75012),d=n(34625),u=n(41664),p=n.n(u);let c=e=>{let{type:t="Transaction",txHash:n,reload:u=!1}=e,[c,y]=(0,i.useState)(!1),[m,v]=(0,i.useState)(500),{data:f,loading:b}=(0,l.BS)({variables:{request:{txHash:n}},pollInterval:m,onCompleted:e=>{var t;"TransactionIndexedResult"===e.hasTxHashBeenIndexed.__typename&&(null==e?void 0:null===(t=e.hasTxHashBeenIndexed)||void 0===t?void 0:t.indexed)&&(v(0),u&&location.reload(),setTimeout(()=>{y(!0)},5e3))}});return(0,a.jsx)(p(),{className:(0,s.Z)({hidden:c},"ml-auto text-sm font-medium"),href:"".concat(d.Bq,"/tx/").concat(n),target:"_blank",rel:"noreferrer noopener",children:!b&&((null==f?void 0:f.hasTxHashBeenIndexed.__typename)!=="TransactionIndexedResult"||(null==f?void 0:f.hasTxHashBeenIndexed.indexed))?(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(r.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("div",{className:"text-black dark:text-white",children:"Index Successful"})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-1.5",children:[(0,a.jsx)(o.$,{size:"xs"}),(0,a.jsxs)("div",{children:[t," Indexing"]})]})})};t.Z=c},10588:function(e,t,n){"use strict";var a=n(34625);let l=e=>{switch(e){case"WMATIC":default:return a.hb;case"WETH":return"0x7ceb23fd6bc0add59e62ac25578270cff1b9f619";case"USDC":return"0x2791bca1f2de4661ed88a30c99a7a9449aa84174";case"DAI":return"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063";case"NCT":return"0xD838290e877E0188a4A44700463419ED96c16107"}};t.Z=l},2176:function(e,t,n){"use strict";var a=n(6154);let l=async e=>{try{let t=await (0,a.Z)("https://api.coingecko.com/api/v3/simple/token_price/polygon-pos",{method:"GET",params:{contract_addresses:e,vs_currencies:"usd"}});return t.data[e].usd}catch(n){return 0}};t.Z=l},17295:function(e,t,n){"use strict";n.d(t,{rT:function(){return i}});var a=n(34625),l=n(68980);let i=e=>{switch(e){case l.pYo.UnknownCollectModule:return{name:"Unknown Collect",field:"collectModule",helper:"The Unknown Collect Module is unknown and not type supported in the API."};case l.pYo.FeeCollectModule:return{name:"Fee Collect",field:"collectModule",helper:"The Fee Collect Module allows for any follower to collect the associated publication provided they pay a fee set by the poster."};case l.pYo.LimitedFeeCollectModule:return{name:"Limited Fee Collect",field:"collectModule",helper:"The Limited Fee Collect Module allows for any follower to collect the associated publication, provided they pay a fee, up to a specific limit of mints."};case l.pYo.TimedFeeCollectModule:return{name:"Timed Fee Collect",field:"collectModule",helper:"The Timed Fee Collect Module allows for any follower to collect the associated publication, provided they pay a fee, up to a specific time limit. The present whitelisted Timed Fee Collect module only has a 24-hour time limit to reduce gas usage and optimize efficiency."};case l.pYo.LimitedTimedFeeCollectModule:return{name:"Limited Time Fee Collect",field:"collectModule",helper:"The Limited Timed Fee Collect Module allows for any follower to collect the associate publication, provided they pay a fee, up to a specific time limit and mint cap. It is essentially a combination of the Timed Fee Collect Module and the Limited Fee Collect Module."};case l.pYo.FreeCollectModule:return{name:"Free Collect",field:"collectModule",helper:"The Free Collect Module allows any profile to collect the publication this module is attached to."};case l.pYo.RevertCollectModule:return{name:"Revert Collect",field:"collectModule",helper:"The Revert Collect Module causes all collect actions on a given publication to fail, thus making the publication uncollectable."};case l.wKL.FeeFollowModule:return{name:"Fee Follow",field:"followModule",helper:"The Fee Follow Module only allows addresses to follow a given profile, so long as they pay a fee specified by the profile owner. Users can set the currency and amount required to be paid."};case l._9N.FollowerOnlyReferenceModule:return{name:"Follower Only Reference",field:"referenceModule",helper:"The Follower Only Reference Module ensures that only a profile is only allowed to mirror or comment on content."};default:return{name:e,field:"collectModule",helper:"Others"}}};a.Op},52040:function(e,t){"use strict";let n=e=>"".concat("https://asset.lenshareapp.xyz/images","/tokens/").concat(null==e?void 0:e.toLowerCase(),".svg");t.Z=n},9187:function(e,t,n){"use strict";var a=n(86501),l=n(34625);let i=e=>{var t,n,i;a.ZP.error(null!==(i=null!==(n=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message)&&void 0!==n?n:null==e?void 0:e.message)&&void 0!==i?i:l.c9)};t.Z=i},13250:function(e,t,n){"use strict";var a=n(86501),l=n(50319),i=n(68980);let s=e=>{let{onCompleted:t,update:n}=e,s={notMined:"A previous transaction may not been mined yet or you have passed in a invalid nonce. You must wait for that to be mined before doing another action, please try again in a few moments. Nonce out of sync."},[o,{data:r,loading:d}]=function(e){let t={...e};return l.D(i.VPH,t)}({onCompleted:t,update:n,onError:e=>{e.message===s.notMined&&a.ZP.error(e.message)}});return{broadcast:e=>{let{request:t}=e;return o({variables:{request:t}})},data:r,loading:d}};t.Z=s},69649:function(){},7801:function(){},6042:function(){},74801:function(){},18067:function(){},30991:function(){},95286:function(){},40402:function(){}}]);